<!DOCTYPE html>
<html lang="ru">
<head>
<!-- –í–ï–°–¨ –í–ê–® –°–£–©–ï–°–¢–í–£–Æ–©–ò–ô HEAD –û–°–¢–ê–Å–¢–°–Ø –ü–û–õ–ù–û–°–¢–¨–Æ –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô -->
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=106281592', 'ym');

    ym(106281592, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/106281592" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!-- Open Graph –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π –∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–æ–≤ -->
<meta property="og:title" content="–≠–ª–µ–∫—Ç—Ä–æ–°–º–µ—Ç–∞ ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –æ—Ç Electric_Group">
<meta property="og:description" content="–ü—Ä–∞–π—Å-–ª–∏—Å—Ç –∏ —Å–º–µ—Ç–∞ –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω—ã—Ö —Ä–∞–±–æ—Ç. –ë—ã—Å—Ç—Ä–æ, —É–¥–æ–±–Ω–æ, –¥–ª—è –±—Ä–∞—Ç—å–µ–≤.">
<meta property="og:image" content="https://raw.githubusercontent.com/Alivu/electro-smeta/main/Icon/icon-512x512.png">
<meta property="og:url" content="https://alivu.github.io/electro-smeta">
<meta property="og:type" content="website">
<meta property="og:site_name" content="–≠–ª–µ–∫—Ç—Ä–æ–°–º–µ—Ç–∞">

<!-- –î–ª—è Twitter (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="–≠–ª–µ–∫—Ç—Ä–æ–°–º–µ—Ç–∞">
<meta name="twitter:description" content="–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Å–º–µ—Ç –¥–ª—è —ç–ª–µ–∫—Ç—Ä–∏–∫–æ–≤">
<meta name="twitter:image" content="https://raw.githubusercontent.com/Alivu/electro-smeta/main/Icon/icon-512x512.png">


	
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
       
    <!-- PWA Configuration -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#FFFFFF">
    <meta name="apple-mobile-web-app-title" content="–≠–ª–µ–∫—Ç—Ä–æ–°–º–µ—Ç–∞">
    <meta name="application-name" content="–≠–ª–µ–∫—Ç—Ä–æ–°–º–µ—Ç–∞">
    <meta name="mobile-web-app-capable" content="yes">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
    <!-- Icons -->
    <link rel="apple-touch-icon" sizes="180x180" 
          href="https://raw.githubusercontent.com/Alivu/electro-smeta/main/Icon/icon-180x180.png">
    <link rel="icon" type="image/png" sizes="32x32" 
          href="https://raw.githubusercontent.com/Alivu/electro-smeta/main/Icon/icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" 
          href="https://raw.githubusercontent.com/Alivu/electro-smeta/main/Icon/icon-16x16.png">
    <link rel="icon" type="image/png" sizes="48x48" 
          href="https://raw.githubusercontent.com/Alivu/electro-smeta/main/Icon/icon-48x48.png">
	<link rel="icon" type="image/png" sizes="72x72" 
          href="https://raw.githubusercontent.com/Alivu/electro-smeta/main/Icon/icon-72x72.png">
	<link rel="icon" type="image/png" sizes="96x96" 
          href="https://raw.githubusercontent.com/Alivu/electro-smeta/main/Icon/icon-96x96.png">
		<link rel="icon" type="image/png" sizes="128x128" 
          href="https://raw.githubusercontent.com/Alivu/electro-smeta/main/Icon/icon-128x128.png">
	    <link rel="icon" type="image/png" sizes="144x144" 
          href="https://raw.githubusercontent.com/Alivu/electro-smeta/main/Icon/icon-144x144.png">
	<link rel="icon" type="image/png" sizes="152x152" 
          href="https://raw.githubusercontent.com/Alivu/electro-smeta/main/Icon/icon-152x152.png">
    <link rel="icon" type="image/png" sizes="192x192" 
          href="https://raw.githubusercontent.com/Alivu/electro-smeta/main/Icon/icon-192x192.png">
	    <link rel="icon" type="image/png" sizes="384x384" 
          href="https://raw.githubusercontent.com/Alivu/electro-smeta/main/Icon/icon-384x384.png">
    <link rel="icon" type="image/png" sizes="512x512" 
          href="https://raw.githubusercontent.com/Alivu/electro-smeta/main/Icon/icon-512x512.png">
    <link rel="shortcut icon" 
          href="https://raw.githubusercontent.com/Alivu/electro-smeta/main/Icon/icon-32x32.png">
 <!-- PWA Manifest -->
<link rel="manifest" href="manifest.json">
    
    <title>–≠–ª–µ–∫—Ç—Ä–æ–°–º–µ—Ç–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –æ—Ç Electric_Group –¥–ª—è –ë—Ä–∞—Ç—å–µ–≤</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

	
    <style>
        /* –í–ï–°–¨ –í–ê–® –°–£–©–ï–°–¢–í–£–Æ–©–ò–ô –°–¢–ò–õ–¨ –û–°–¢–ê–Å–¢–°–Ø –ü–û–õ–ù–û–°–¢–¨–Æ –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô */
        /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ */
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #27ae60;
            --warning: #f39c12;
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            -webkit-text-size-adjust: 100%;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px;
        }

		

        /* –®–∞–ø–∫–∞ */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-: 5px;
            padding-: 10px;
            border-: 1px solid var(--secondary);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 6px;
            font-weight: 700;
            font-size: 1.1rem;
        }

        .logo-icon {
            color: var(--secondary);
            font-size: 1.3rem;
        }

        .logo-text {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* –ü–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
        .nav-panel {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-: 5px;
            padding: 5px;
            background: white;
            border-radius: 10px 10px 0 0;
            box-shadow: var(--shadow);
        }

        /* –í–∫–ª–∞–¥–∫–∏ */
        .tabs {
            display: flex;
            flex: 1;
            min-width: 200px;
			height: 40px; /* –í—ã—Å–æ—Ç–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤–∫–ª–∞–¥–æ–∫ */
        }

        .tab {
            flex: 1;
            padding: 12px 12px;
            background: #f8f9fa;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            white-space: nowrap;
        }

        .tab:hover {
            background: #e9ecef;
        }

        .tab.active {
            background: white;
            color: var(--secondary);
            border-bottom: 3px solid var(--secondary);
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        .tab-content {
            display: none;
            background: white;
            border-radius: 0 0 10px 10px;
            box-shadow: var(--shadow);
            min-height: 500px;
            overflow: hidden;
        }

        .tab-content.active {
            display: block;
        }

        /* –í–∫–ª–∞–¥–∫–∞ 1: –ü—Ä–∞–π—Å-–ª–∏—Å—Ç */
        .price-header {
            background: linear-gradient(100deg, #1a237e 20%, #283593 100%);
            color: white;
            padding: 4px 8px;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        @media (min-width: 768px) {
            .price-header {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }
        }

        .price-header h2 {
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .search-box {
            position: relative;
            width: 100%;
            height: 31px;
			top: -2px;
        }

        @media (min-width: 768px) {
            .search-box {
                width: 300px;
            }
        }

        .search-box input {
            width: 100%;
            padding: 5px 10px 5px 30px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: all 0.3s;
            background: white;
            -webkit-appearance: none;
        }

        .search-box input:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        .search-box i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #777;
        }

        .price-list-container {
            height: calc(100vh - 250px);
            max-height: 600px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            padding: 10px;
        }

        .price-section {
            margin-bottom: 15px;
            background: #f9f9f9;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .section-header {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            padding: 6px 10px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            user-select: none;
        }

        .section-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .section-content.expanded {
            max-height: 5000px;
        }

        .price-item {
            display: grid;
            grid-template-columns: 50px 1fr 60px 80px;
            gap: 8px;
            padding: 8px 10px;
            border-bottom: 1px solid #eee;
            align-items: center;
            transition: background 0.2s;
            cursor: pointer;
            font-size: 0.85rem;
        }

        .price-item:hover {
            background: #f0f7ff;
        }

        .price-item:last-child {
            border-bottom: none;
        }

        .item-number {
            font-weight: 600;
            color: var(--secondary);
            text-align: center;
            background: #f0f8ff;
            padding: 4px;
            border-radius: 4px;
            font-size: 0.85rem;
        }

        .item-name {
            font-size: 0.85rem;
            word-break: break-word;
            line-height: 1.3;
        }

        .item-unit {
            text-align: center;
            color: #666;
            font-size: 0.8rem;
            white-space: nowrap;
        }

        .item-price {
            text-align: right;
            font-weight: 600;
            color: var(--success);
            font-size: 0.85rem;
        }


/* –í–∫–ª–∞–¥–∫–∞ 2: –°–º–µ—Ç–∞ */
.estimate-table-container {
    height: calc(100vh - 300px);
    max-height: 500px;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    padding: 15px;
}

.estimate-table th,
.estimate-table td {
    padding: 8px 6px;
    font-size: 0.85rem;
}

        /* ========== –ö–û–õ–û–ù–ö–ò –ö–ê–ö –ü–û–õ–Ø –í–í–û–î–ê ========== */
/* 
   –°—Ç–∏–ª–∏ –¥–ª—è —è—á–µ–µ–∫ "–ö–æ–¥", "–ï–¥. –∏–∑–º." –∏ "–°—É–º–º–∞, —Ä—É–±." 
   –î–µ–ª–∞–µ–º –∏—Ö –ø–æ—Ö–æ–∂–∏–º–∏ –Ω–∞ –ø–æ–ª—è –≤–≤–æ–¥–∞, –Ω–æ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
*/
.estimate-table td.unit-cell,
.estimate-table td.total-cell,
.estimate-table td.price-id-cell {
    border: 1px solid #ddd;              /* –†–∞–º–∫–∞ –∫–∞–∫ —É –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ */
    border-radius: 3px;                  /* –°–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
    padding: 6px 8px;                    /* –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
    background: white;                   /* –ë–µ–ª—ã–π —Ñ–æ–Ω */
    height: 34px;                        /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ (32px –ø–æ–ª–µ + 2px —Ä–∞–º–∫–∞) */
    min-height: 34px;                    /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */
    line-height: 18px;                   /* –ú–µ–∂—Å—Ç—Ä–æ—á–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è */
    box-sizing: border-box;              /* Padding –≤—Ö–æ–¥–∏—Ç –≤ –æ–±—â—É—é —à–∏—Ä–∏–Ω—É/–≤—ã—Å–æ—Ç—É */
    vertical-align: middle;              /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
    text-align: center;                  /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
    font-size: 0.85rem;                  /* –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
    min-height: 34px;                    /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ (–¥—É–±–ª–∏—Ä—É–µ—Ç height) */
    max-height: 34px;                    /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.1); /* –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ç–µ–Ω—å –∫–∞–∫ —É –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ */
}

/* –ö–æ–ª–æ–Ω–∫–∞ "–ö–æ–¥" - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ */
.estimate-table td.price-id-cell {
    width: 40px;                         /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    min-width: 40px;                     /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    max-width: 40px;                     /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    font-weight: 600;                    /* –ü–æ–ª—É–∂–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç */
    color: var(--secondary);             /* –¶–≤–µ—Ç –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π CSS (—Å–∏–Ω–∏–π) */
    background: #f8f9fa;                 /* –°–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π —Ñ–æ–Ω */
}

/* –ö–æ–ª–æ–Ω–∫–∞ "–ï–¥. –∏–∑–º." - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ */
.estimate-table td.unit-cell {
    width: 70px;                         /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    min-width: 70px;                     /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    max-width: 70px;                     /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    color: #555;                         /* –¢–µ–º–Ω–æ-—Å–µ—Ä—ã–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ */
}
        
/* –ö–æ–ª–æ–Ω–∫–∞ "–°—É–º–º–∞, —Ä—É–±." - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ */
.estimate-table td.total-cell {
    width: 110px;                        /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    min-width: 110px;                    /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    max-width: 110px;                    /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    font-weight: 600;                    /* –ü–æ–ª—É–∂–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç */
    color: var(--success);               /* –¶–≤–µ—Ç –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π CSS (–∑–µ–ª–µ–Ω—ã–π) */
    background: #f8fff9;                 /* –°–≤–µ—Ç–ª–æ-–∑–µ–ª–µ–Ω—ã–π —Ñ–æ–Ω */
    border-color: #c3e6cb;               /* –ó–µ–ª–µ–Ω–∞—è —Ä–∞–º–∫–∞ */
}

/* ========== –ü–†–ê–í–ò–õ–¨–ù–´–ï –®–ò–†–ò–ù–´ –î–õ–Ø –í–°–ï–• –ö–û–õ–û–ù–û–ö ========== */

/* –ö–æ–ª–æ–Ω–∫–∞ 1: "–ö–æ–¥" - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —è—á–µ–π–∫–∏ */
.estimate-table th:nth-child(1),         /* –ü–µ—Ä–≤—ã–π th (–∑–∞–≥–æ–ª–æ–≤–æ–∫) */
.estimate-table td:nth-child(1) {        /* –ü–µ—Ä–≤—ã–µ td –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ */
    width: 40px;                         /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    min-width: 40px;                     /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    max-width: 40px;                     /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    text-align: center;                  /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
}

/* –ö–æ–ª–æ–Ω–∫–∞ 2: "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ" - –æ—Å—Ç–∞–µ—Ç—Å—è –≥–∏–±–∫–æ–π (–±–µ–∑ —Å—Ç–∏–ª–µ–π) */

/* –ö–æ–ª–æ–Ω–∫–∞ 3: "–ï–¥. –∏–∑–º." - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —è—á–µ–π–∫–∏ */
.estimate-table th:nth-child(3),         /* –¢—Ä–µ—Ç–∏–π th (–∑–∞–≥–æ–ª–æ–≤–æ–∫) */
.estimate-table td:nth-child(3) {        /* –¢—Ä–µ—Ç—å–∏ td –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ */
    width: 70px;                         /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    min-width: 70px;                     /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    max-width: 70px;                     /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    text-align: center;                  /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
}

/* ========== –£–í–ï–õ–ò–ß–ï–ù–ò–ï –ö–û–õ–û–ù–ö–ò "–¶–ï–ù–ê" ========== */
.estimate-table th:nth-child(4),
.estimate-table td:nth-child(4) {
    width: 80px !important;
    min-width: 80px !important;
    max-width: 80px !important;
    white-space: nowrap !important;
    overflow: visible !important;
    text-align: center;
    padding: 6px 6px !important;
}

/* –£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–ª–µ –≤–≤–æ–¥–∞ —Ü–µ–Ω—ã */
.price-input {
    width: 80px !important;
    min-width: 80px !important;
    padding: 6px 4px !important;
    font-size: 0.9rem !important;
    margin-left: -6px !important
   
}

/* –ö–æ–ª–æ–Ω–∫–∞ 5: "–ö–æ–ª-–≤–æ" - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —è—á–µ–π–∫–∏ */
.estimate-table th:nth-child(5),         /* –ü—è—Ç—ã–π th (–∑–∞–≥–æ–ª–æ–≤–æ–∫) */
.estimate-table td:nth-child(5) {        /* –ü—è—Ç—ã–µ td –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ */
    width: 70px;                         /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    min-width: 70px;                     /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    max-width: 70px;                     /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    text-align: center;                  /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
    padding: 6px 6px;                    /* –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
}

            /* –£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–ª–µ –ö–æ–ª–∏—á–µ—Å—Ç–≤–∞ */
.quantity-input {
    width: 70px !important;
    min-width: 70px !important;
    padding: 6px 4px !important;
    font-size: 0.9rem !important;
    margin-left: -6px !important
}
        

/* –ö–æ–ª–æ–Ω–∫–∞ 6: "–°—É–º–º–∞, —Ä—É–±." - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —è—á–µ–π–∫–∏ */
.estimate-table th:nth-child(6),         /* –®–µ—Å—Ç–æ–π th (–∑–∞–≥–æ–ª–æ–≤–æ–∫) */
.estimate-table td:nth-child(6) {        /* –®–µ—Å—Ç—ã–µ td –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ */
    width: 110px;                        /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    min-width: 110px;                    /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    max-width: 110px;                    /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    text-align: center;                  /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
}

/* –ö–æ–ª–æ–Ω–∫–∞ 7: "–î–µ–π—Å—Ç–≤–∏—è" - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —è—á–µ–π–∫–∏ (–∫–æ—Ä–∑–∏–Ω–∞) */
.estimate-table th:nth-child(7),         /* –°–µ–¥—å–º–æ–π th (–∑–∞–≥–æ–ª–æ–≤–æ–∫) */
.estimate-table td:nth-child(7) {        /* –°–µ–¥—å–º—ã–µ td –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ */
    width: 40px;                         /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    min-width: 40px;                     /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    max-width: 40px;                     /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    text-align: center;                  /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
}



		
/* ========== –ú–û–ë–ò–õ–¨–ù–ê–Ø –í–ï–†–°–ò–Ø (—ç–∫—Ä–∞–Ω—ã –¥–æ 767px) ========== */
@media (max-width: 767px) {
    /* –£–º–µ–Ω—å—à–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è —è—á–µ–µ–∫ "–ö–æ–¥", "–ï–¥. –∏–∑–º.", "–°—É–º–º–∞" */
    .estimate-table td.price-id-cell,
    .estimate-table td.unit-cell,
    .estimate-table td.total-cell {
        padding: 4px 6px;                /* –ú–µ–Ω—å—à–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
        font-size: 0.8rem;               /* –ú–µ–Ω—å—à–∏–π —à—Ä–∏—Ñ—Ç */       
    }
    
    /* –ö–æ–ª–æ–Ω–∫–∞ "–ö–æ–¥" - —É–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã */
    .estimate-table td.price-id-cell {
        width: 40px;                     /* –£–∂–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        min-width: 40px;
        max-width: 40px;
        text-align: center;                  /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
    }
      

    /* –ö–æ–ª–æ–Ω–∫–∞ "–ï–¥. –∏–∑–º." - —É–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã */
    .estimate-table td.unit-cell {
        width: 70px;                     /* –£–∂–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        min-width: 70px;
        max-width: 70px;
    }
    
    /* –ö–æ–ª–æ–Ω–∫–∞ "–°—É–º–º–∞, —Ä—É–±." - —É–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã */
    .estimate-table td.total-cell {
        width: 90px;                     /* –£–∂–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        min-width: 90px;
        max-width: 90px;
    }
    
    /* –ö–æ–ª–æ–Ω–∫–∞ 1: "–ö–æ–¥" - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —è—á–µ–π–∫–∏ (–º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è) */
    .estimate-table th:nth-child(1),
    .estimate-table td:nth-child(1) {
        width: 40px;                     /* –£–∂–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        min-width: 40px;
        max-width: 40px;
        text-align: center;                  /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
    
    }
    
    /* –ö–æ–ª–æ–Ω–∫–∞ 3: "–ï–¥. –∏–∑–º." - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —è—á–µ–π–∫–∏ (–º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è) */
    .estimate-table th:nth-child(3),
    .estimate-table td:nth-child(3) {
        width: 70px;                     /* –£–∂–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        min-width: 70px;
        max-width: 70px;
    }
    
    /* –ö–æ–ª–æ–Ω–∫–∞ 4: "–¶–µ–Ω–∞, —Ä—É–±." - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —è—á–µ–π–∫–∏ (–º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è) */
    .estimate-table th:nth-child(4),
    .estimate-table td:nth-child(4) {
        width: 80px;                     /* –£–∂–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        min-width: 80px;
        max-width: 80px;
    }
    
    /* –ö–æ–ª–æ–Ω–∫–∞ 5: "–ö–æ–ª-–≤–æ" - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —è—á–µ–π–∫–∏ (–º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è) */
    .estimate-table th:nth-child(5),
    .estimate-table td:nth-child(5) {
        width: 60px;                     /* –£–∂–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        min-width: 60px;
        max-width: 60px;
    }
    
    /* –ö–æ–ª–æ–Ω–∫–∞ 6: "–°—É–º–º–∞, —Ä—É–±." - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —è—á–µ–π–∫–∏ (–º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è) */
    .estimate-table th:nth-child(6),
    .estimate-table td:nth-child(6) {
        width: 90px;                     /* –£–∂–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        min-width: 90px;
        max-width: 90px;
    }
}


        .estimate-table {
            width: 100%;
            border-collapse: collapse
            padding: 4px 6px;
            border: 1px solid #ddd;
            border-radius: 4px;
            height: 30px;
            line-height: 22px;
            overflow: hidden;
            min-width: 1050px;
        }

        .estimate-table thead {
            background: var(--primary);
            color: white;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .estimate-table th {
            padding: 10px 8px;
            text-align: left;
            font-weight: 600;
            font-size: 0.85rem;
        }

        .estimate-table tbody tr {
            border-bottom: 1px solid #eee;
            transition: background 0.2s;
        }

        .estimate-table tbody tr:hover {
            background: #f9f9f9;
        }

        .estimate-table tbody tr.material-row {
            background-color: #fff8e1;
        }

        .estimate-table td {
            padding: 8px 6px;
            font-size: 0.85rem;
        }

        .search-cell {
            position: relative;
            min-width: 150px;
        }

        .search-input {
            width: 100%;
            padding: 6px 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 0.85rem;
            background: white;
            -webkit-appearance: none;
        }

        .dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 100;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: none;
        }

        .dropdown-item {
            padding: 8px 10px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            font-size: 0.85rem;
        }

        .dropdown-item:hover {
            background: #f0f7ff;
        }

        .number-input {
            width: 60px;
            padding: 6px;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-align: center;
            font-size: 0.85rem;
            background: white;
            -webkit-appearance: none;
        }

        .unit-cell, .price-cell, .total-cell {
            font-weight: 500;
            text-align: center;
        }

        .total-cell {
            color: var(--success);
            font-weight: 600;
        }

        .actions-cell {
            text-align: center;
            width: 40px;
        }

        .delete-row {
            color: var(--accent);
            cursor: pointer;
            font-size: 1rem;
            transition: color 0.2s;
        }

        .estimate-totals {
            padding: 15px;
            background: #f8f9fa;
            border-top: 1px solid #ddd;
        }

        .total-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .total-row:last-child {
            margin-bottom: 0;
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary);
            padding-top: 10px;
            border-top: 2px solid #ddd;
        }

        .total-value {
            font-weight: 600;
            color: var(--success);
        }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            font-size: 0.9rem;
            background: var(--secondary);
            color: white;
            text-decoration: none;
            user-select: none;
        }

        .btn:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .btn-primary {
            background: var(--secondary);
        }

        .btn-success {
            background: var(--success);
        }

        .btn-warning {
            background: var(--warning);
        }

        .btn-danger {
            background: var(--accent);
        }

        .btn-info {
            background: #17a2b8;
        }

        /* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ */
        .estimate-controls {
            display: flex;
            gap: 8px;
        }

        .dropdown-controls {
            position: relative;
            display: inline-block;
        }

        .dropdown-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-width: 160px;
        }

        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 6px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            min-width: 200px;
            z-index: 1000;
            margin-top: 5px;
        }

        .dropdown-menu.show {
            display: block;
        }

        .dropdown-item {
            width: 100%;
            padding: 10px 15px;
            border: none;
            background: none;
            text-align: left;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            color: #333;
            text-decoration: none;
        }

        .dropdown-item:hover {
            background: #f5f5f5;
        }

        .dropdown-divider {
            height: 1px;
            background: #eee;
            margin: 5px 0;
        }

        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 10px;
            width: 100%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            -webkit-overflow-scrolling: touch;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }

        .modal-header h3 {
            color: var(--primary);
            font-size: 1.2rem;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #777;
            cursor: pointer;
            line-height: 1;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #555;
            font-size: 0.9rem;
        }

        .form-control {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            transition: border 0.3s;
            background: white;
            -webkit-appearance: none;
        }

        .form-control:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 767px) {
            .container {
                padding: 2px 2px; /* –°–ù–ò–ñ–ê–ï–ú –í–ï–†–•–ù–ò–ô –ò –ù–ò–ñ–ù–ò–ô –û–¢–°–¢–£–ü –° 10px –î–û 5px */
            }
            
            .header {
				min-height: 20px !important; /* –ó–ê–î–ê–ï–ú –ú–ò–ù–ò–ú–ê–õ–¨–ù–£–Æ –í–´–°–û–¢–£ 30px –í–ú–ï–°–¢–û –°–¢–ê–ù–î–ê–†–¢–ù–û–ô */
				padding: 2px 0; /* –£–ë–ò–†–ê–ï–ú –õ–ò–®–ù–ò–ï –í–ï–†–¢–ò–ö–ê–õ–¨–ù–´–ï –û–¢–°–¢–£–ü–´ */
				margin-bottom: 2px; /* –£–ú–ï–ù–¨–®–ê–ï–ú –û–¢–°–¢–£–ü –ü–û–î –®–ê–ü–ö–û–ô –° 5px –î–û 2px */
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }

 			   /* –£–ë–ò–†–ê–ï–ú transform - –æ–Ω –ª–æ–º–∞–µ—Ç —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ */
  		  .logo {
      			transform: none !important; /* –£–±–∏—Ä–∞–µ–º scale */
        		display: flex;
        		align-items: center;
        		justify-content: center;
        		gap: 2px !important;
    		}
    
    			/* –£–º–µ–Ω—å—à–∞–µ–º –∏–∫–æ–Ω–∫—É –æ—Ç–¥–µ–ª—å–Ω–æ */
			.logo-icon {
        		font-size: 1.3rem !important;
   		 	}
    
   			 .logo-text {
       			 font-size: 0.8rem !important; /* –ï—â—ë –º–µ–Ω—å—à–µ */
       			 text-align: center !important; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç */
       			 display: block !important; /* –î–µ–ª–∞–µ–º –±–ª–æ—á–Ω—ã–º */
				 vertical-align: middle !important;
   			 }
				/* –£–ú–ï–ù–¨–®–ê–ï–ú –ü–ê–ù–ï–õ–¨ –° –í–ö–õ–ê–î–ö–ê–ú–ò (–ü—Ä–∞–π—Å-–ª–∏—Å—Ç / –°–º–µ—Ç–∞) */
    .nav-panel {
        flex-direction: column !important;   /* ‚Üê –û–î–ù–ê –ù–ê–î –î–†–£–ì–û–ô */
        align-items: stretch !important;     /* ‚Üê –†–∞—Å—Ç—è–Ω—É—Ç—å –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É */
        padding: 0 !important;               /* ‚Üê –ù–ò–ö–ê–ö–ò–• –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –æ—Ç—Å—Ç—É–ø–æ–≤ */
        margin: 0 !important;                /* ‚Üê –ù–ò–ö–ê–ö–ò–• –≤–Ω–µ—à–Ω–∏—Ö –æ—Ç—Å—Ç—É–ø–æ–≤ */
        gap: 0 !important;                   /* ‚Üê –ù–£–õ–ï–í–û–ï —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Å—Ç—Ä–æ–∫–∞–º–∏ */
        row-gap: 0 !important;               /* ‚Üê –ù–£–õ–ï–í–û–ô –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π gap */
    }
			
			
            .tabs {
                width: 100%;
				height: 32px !important; /* –ë–´–õ–û 40px - –£–ú–ï–ù–¨–®–ê–ï–ú –í–´–°–û–¢–£ –ù–ê 20% */
            }
            
            .tab {
                padding: 6px 8px !important; /* –ë–´–õ–û 12px - –£–ë–ò–†–ê–ï–ú –õ–ò–®–ù–ò–ï –û–¢–°–¢–£–ü–´ */
                font-size: 0.8rem !important; /* –ú–ï–õ–ß–ï –¢–ï–ö–°–¢ –ù–ê –í–ö–õ–ê–î–ö–ê–• */
            
			}
 			/* –£–ú–ï–ù–¨–®–ê–ï–ú –í–°–ï –ö–ù–û–ü–ö–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø (–ü–µ—á–∞—Ç—å, –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —Ç.–¥.) */
    		.btn {
       		 padding: 6px 10px !important; /* –ë–´–õ–û 10px 15px - –ú–ï–ù–¨–®–ï –†–ê–ó–ú–ï–† */
        	font-size: 0.8rem !important; /* –ú–ï–õ–ß–ï –¢–ï–ö–°–¢ –ù–ê –ö–ù–û–ü–ö–ê–• */
    		}



			
    .estimate-controls {
        display: grid;
        grid-template-columns: 50% 50%;   /* ‚Üê –î–í–ï –†–ê–í–ù–´–ï –∫–æ–ª–æ–Ω–∫–∏ */
        gap: 0;
        margin-bottom: 1px;
    }
    
    .estimate-controls .btn {
        border-radius: 0;
        margin: 0;
        padding: 8px 2px !important;      /* ‚Üê –ú–∞–ª–µ–Ω—å–∫–∏–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã */
        white-space: nowrap !important;   /* ‚Üê –¢–µ–∫—Å—Ç –ù–ï –ü–ï–†–ï–ù–ê–°–´–í–ê–ï–¢–°–Ø! */
        overflow: hidden !important;      /* ‚Üê –û–±—Ä–µ–∑–∞—Ç—å –µ—Å–ª–∏ –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è */
        text-overflow: ellipsis !important; /* ‚Üê "..." –µ—Å–ª–∏ –¥–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç */
        font-size: 0.75rem !important;    /* ‚Üê –ï—â—ë –º–µ–Ω—å—à–µ —Ç–µ–∫—Å—Ç */
        text-align: center;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 32px !important;          /* ‚Üê –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */
        min-height: 32px !important;
        line-height: 1 !important;        /* ‚Üê –ú–µ–∂—Å—Ç—Ä–æ—á–Ω—ã–π = 1 */
    }
    
    /* –û—Å–æ–±–æ –¥–ª—è –¥–ª–∏–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ "–ü–µ—á–∞—Ç—å –ø—Ä–∞–π—Å–∞" */
    #printPriceBtn {
        font-size: 0.7rem !important;     /* ‚Üê –ï—â—ë –º–µ–Ω—å—à–µ –¥–ª—è —ç—Ç–æ–π –∫–Ω–æ–ø–∫–∏ */
        padding: 8px 1px !important;      /* ‚Üê –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã */
    }
    
    /* –î–ª—è –∏–∫–æ–Ω–æ–∫ –≤–Ω—É—Ç—Ä–∏ –∫–Ω–æ–ø–æ–∫ */
    .btn i {
        font-size: 0.8rem !important;
        margin-right: 3px !important;     /* ‚Üê –ú–∞–ª–µ–Ω—å–∫–∏–π –æ—Ç—Å—Ç—É–ø –æ—Ç –∏–∫–æ–Ω–∫–∏ */
    }
    
    .dropdown-toggle {
        min-width: 100%;
        justify-content: center;
    }
}
            
            .price-item {
                grid-template-columns: 35px minmax(100px, 1fr) 45px 60px;
                gap: 6px;
                padding: 6px 8px;
                font-size: 0.8rem;
            }

		
            
            .item-number {
                font-size: 0.8rem;
            }
            
            .item-name {
                font-size: 0.8rem;
            }
            
            .item-unit {
                font-size: 0.75rem;
            }
            
            .item-price {
                font-size: 0.8rem;
            }
            
            .price-list-container {
                height: calc(100vh - 200px);
            }
            
            .estimate-table-container {
                height: calc(100vh - 250px);
                padding: 10px;
            }
            
            .estimate-table th,
            .estimate-table td {
                padding: 6px 4px;
                font-size: 0.8rem;
            }

                /* –î–û–ë–ê–í–¨–¢–ï –≠–¢–£ –°–ï–ö–¶–ò–Æ - —É–º–µ–Ω—å—à–∞–µ–º –∫–æ–ª–æ–Ω–∫—É "–ö–æ–¥" */
            .estimate-table th:nth-child(1),
            .estimate-table td:nth-child(1) {
                width: 40px;       /* –£–º–µ–Ω—å—à–∏–ª–∏ —à–∏—Ä–∏–Ω—É */
                min-width: 40px;
                max-width: 40px;
                padding: 6px 2px;  /* –ú–µ–Ω—å—à–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã */
                font-size: 0.75rem; /* –ú–µ–Ω—å—à–µ —Ç–µ–∫—Å—Ç */
                border-left: 2px solid #f8f9fa;
                padding-left: 6px !important;  /* —á—É—Ç—å –±–æ–ª—å—à–µ */
                text-indent: 2px;
                border-left: 1px solid #ddd;    /* –ª–µ–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ */
                border-right: 1px solid #ddd;   /* –ø—Ä–∞–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ */
            }
            .search-input {
                font-size: 0.8rem;
                padding: 5px 6px;
            }
            
            .number-input {
                width: 50px;
                padding: 4px;
                font-size: 0.8rem;
            }
            
            .modal {
                padding: 10px;
            }
            
            .modal-content {
                padding: 15px;
                max-height: 90vh;
            }
        }

        @media (max-width: 480px) {
            .price-item {
                grid-template-columns: 35px 1fr 35px 60px;
                gap: 4px;
                padding: 5px 6px;
                font-size: 0.75rem;
            }
            
            .tab {
                padding: 8px 10px;
                font-size: 0.85rem;
            }
            
            .btn {
                padding: 6px 10px;
                font-size: 0.8rem;
            }
        }

        /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è iOS */
        input, textarea, select {
            font-size: 16px !important; /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ iOS */
        }
        
        .no-scroll {
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }

/* ========== –û–¢–°–¢–£–ü–´ –¢–û–õ–¨–ö–û –î–õ–Ø 3 –ö–û–õ–û–ù–û–ö ========== */

/* –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ margin-top –∏ margin-bottom */
.estimate-table td.price-id-cell,
.estimate-table td.unit-cell,
.estimate-table td.total-cell {
    /* –¢–≤–æ–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏... */
    
    /* –ë–æ–ª—å—à–∏–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã */
    margin-top: 10px !important;     /* 10px —Å–≤–µ—Ä—Ö—É */
    margin-bottom: 10px !important;  /* 10px —Å–Ω–∏–∑—É */
    
    /* –ò—Ç–æ–≥–æ 20px –º–µ–∂–¥—É —Å—Ç—Ä–æ–∫–∞–º–∏ –¥–ª—è —ç—Ç–∏—Ö —è—á–µ–µ–∫ */
    display: inline-block !important; /* –ß—Ç–æ–±—ã margin —Ä–∞–±–æ—Ç–∞–ª */
}

/* –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ transform (—Å–¥–≤–∏–≥–∞–µ–º –≤–Ω–∏–∑) */
.estimate-table td.price-id-cell,
.estimate-table td.unit-cell,
.estimate-table td.total-cell {
    /* –¢–≤–æ–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏... */
    
    transform: translateY(-10px) !important; /* –°–¥–≤–∏–≥–∞–µ–º –Ω–∞ 10px –≤–Ω–∏–∑ */
    position: relative;
    top: 10px !important;                  /* –ï—â–µ +10px –≤–Ω–∏–∑ */
    
    /* padding-top –∏ padding-bottom —Ç–æ–∂–µ —É–≤–µ–ª–∏—á—å */
    padding-top: 12px !important;          /* –í–º–µ—Å—Ç–æ 6px */
    padding-bottom: 12px !important;       /* –í–º–µ—Å—Ç–æ 6px */
}

/* –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ —É–≤–µ–ª–∏—á–µ–Ω–Ω—É—é –≤—ã—Å–æ—Ç—É */
.estimate-table td.price-id-cell,
.estimate-table td.unit-cell,
.estimate-table td.total-cell {
    /* –¢–≤–æ–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏... */
    
    height: 44px !important;          /* –í–º–µ—Å—Ç–æ 34px (34 + 20) */
    line-height: 24px !important;     /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º line-height */
    padding-top: 4px !important;
    padding-bottom: 6px !important;
    }


        @media (max-width: 767px) {   
    /* –ö–æ–ª–æ–Ω–∫–∞ "–ö–æ–¥" - —É–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã */
    .estimate-table td.price-id-cell {
        text-align: center;                  /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
    }
    .estimate-table th:nth-child(1),
    .estimate-table td:nth-child(1) {
         text-indent: -3px;  /* –°–¥–≤–∏–≥–∞–µ—Ç —Ç–µ–∫—Å—Ç –Ω–∞ 2px –≤–ª–µ–≤–æ */
 }  
/* ========== –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–ê–ù–ï–õ–¨ –°–¢–ê–¢–ò–°–¢–ò–ö–ò ========== */
.stats-bar {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(90deg, #2c3e50 0%, #34495e 100%);
    color: white;
    padding: 10px 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.85rem;
    z-index: 9999;
    border-top: 3px solid #3498db;
    box-shadow: 0 -2px 10px rgba(0,0,0,0.2);
}

.stats-left {
    display: flex;
    gap: 20px;
}

.stat-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 500;
}

.stat-item i {
    color: #3498db;
    font-size: 1rem;
}

.stat-item strong {
    color: #f1c40f;
    font-weight: 700;
}

.like-btn {
    background: linear-gradient(90deg, #27ae60 0%, #2ecc71 100%);
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.85rem;
    font-weight: 600;
    transition: all 0.3s;
    box-shadow: 0 2px 5px rgba(39, 174, 96, 0.3);
}

.like-btn:hover {
    background: linear-gradient(90deg, #219653 0%, #27ae60 100%);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(39, 174, 96, 0.4);
}

.like-btn.liked {
    background: linear-gradient(90deg, #e74c3c 0%, #c0392b 100%);
    cursor: not-allowed;
}

/* ========== –û–ë–ù–û–í–õ–ï–ù–ù–´–ô CSS –î–õ–Ø –ú–û–ë–ò–õ–¨–ù–´–• ========== */

@media (max-width: 767px) {
    .stats-bar {
        flex-direction: row !important; /* –í—Å–µ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É */
        padding: 6px 8px !important;
        height: 40px !important; /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */
    }
    
    .stats-left {
        display: flex !important;
        gap: 8px !important;
        flex: 1 !important;
        overflow-x: auto !important; /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –µ—Å–ª–∏ –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è */
        -webkit-overflow-scrolling: touch !important;
        padding-right: 5px !important;
    }
    
    .stat-item {
        flex-shrink: 0 !important; /* –ù–µ —Å–∂–∏–º–∞—é—Ç—Å—è */
        font-size: 0.7rem !important; /* –ï—â–µ –º–µ–Ω—å—à–µ —Ç–µ–∫—Å—Ç */
        gap: 3px !important;
        white-space: nowrap !important; /* –ù–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è */
    }
    
    .stat-item i {
        font-size: 0.8rem !important;
    }
    
    .stat-item strong {
        font-size: 0.75rem !important;
    }
    
    /* –°–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –Ω–∞ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
    @media (max-width: 350px) {
        .stat-item:nth-child(1) span:not(strong),
        .stat-item:nth-child(2) span:not(strong) {
            display: none !important;
        }
        
        .stat-item {
            gap: 2px !important;
        }
    }
    
    /* –ö–Ω–æ–ø–∫–∞ –ª–∞–π–∫–∞ */
    .like-btn {
        width: auto !important; /* –ù–µ –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É */
        padding: 4px 10px !important;
        font-size: 0.75rem !important;
        flex-shrink: 0 !important; /* –ù–µ —Å–∂–∏–º–∞–µ—Ç—Å—è */
        margin-left: auto !important; /* –ü—Ä–∏–∂–∏–º–∞–µ–º –∫ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é */
    }
    
    /* –£–±–∏—Ä–∞–µ–º –∫–Ω–æ–ø–∫—É –æ–±–Ω–æ–≤–∏—Ç—å */
    .stats-bar > div > button[onclick*="location.reload"] {
        display: none !important;
    }
}

/* –ï—â–µ –±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω–æ –¥–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
@media (max-width: 480px) {
    .stats-bar {
        padding: 5px 6px !important;
        height: 38px !important;
    }
    
    .stats-left {
        gap: 6px !important;
    }
    
    .stat-item {
        font-size: 0.65rem !important;
    }
    
    .stat-item i {
        font-size: 0.75rem !important;
    }
    
    .like-btn {
        padding: 3px 8px !important;
        font-size: 0.7rem !important;
    }
}

        /* ========== –°–¢–ò–õ–ò –î–õ–Ø –ò–ö–û–ù–ö–ò –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø ========== */
        .app-icon {
            width: 32px;
            height: 32px;
            object-fit: contain;
            border-radius: 8px;
            margin-right: 12px;
            vertical-align: middle;
            transition: all 0.3s ease;
        }

        .app-icon:hover {
            transform: scale(1.05);
        }

        /* –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 767px) {
            .app-icon {
                width: 28px;
                height: 28px;
                margin-right: 8px;
            }
        }

        /* –î–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
        @media (max-width: 480px) {
            .app-icon {
                width: 24px;
                height: 24px;
                margin-right: 6px;
            }
        }
		/* ========== –ú–û–ë–ò–õ–¨–ù–ê–Ø –í–ï–†–°–ò–Ø –ü–†–ê–ô–°-–õ–ò–°–¢–ê ========== */
@media (max-width: 767px) {
    .price-item {
        grid-template-columns: 30px minmax(150px, 1fr) 40px 56px !important;
        gap: 4px !important;
        padding: 8px 10px !important;
        font-size: 0.85rem !important;
    }
    
    .item-name {
        font-size: 0.82rem !important;
        line-height: 1.3 !important;
        word-break: break-word !important;
    }
    
    .item-unit {
        font-size: 0.75rem !important;
        white-space: nowrap !important;
        min-width: 45px !important;
        text-align: center !important;
    }
    
    .item-price {
        font-size: 0.85rem !important;
        font-weight: 600 !important;
    }
}

/* ========== –ü–õ–ê–ù–®–ï–¢–´ ========== */
@media (min-width: 768px) and (max-width: 1024px) {
    .price-item {
        grid-template-columns: 45px minmax(150px, 1fr) 55px 85px !important;
        gap: 10px !important;
        padding: 10px 12px !important;
    }
}

/* ========== –ú–ê–õ–ï–ù–¨–ö–ò–ï –¢–ï–õ–ï–§–û–ù–´ ========== */
@media (max-width: 480px) {
    .price-item {
        grid-template-columns: 30px minmax(80px, 1fr) 40px 56px !important;
        gap: 2px !important;
        padding: 6px 8px !important;
        font-size: 0.78rem !important;
    }
}	

        /* ========== –ù–û–í–´–ï –°–¢–ò–õ–ò –î–õ–Ø –í–ò–î–ï–û-–§–£–ù–ö–¶–ò–û–ù–ê–õ–ê ========== */
        .item-number.video-available {
            cursor: pointer;
            position: relative;
            color: #e74c3c;
            font-weight: bold;
        }
        
        .item-number.video-available::after {
            content: 'üé¨';
            position: absolute;
            top: -8px;
            right: -8px;
            font-size: 12px;
            background: white;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .video-available-code {
            cursor: pointer;
            color: #e74c3c;
            font-weight: bold;
            text-decoration: underline dotted;
            position: relative;
        }
        
        .video-loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            z-index: 10000;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        @media (max-width: 767px) {
            .item-number.video-available::after {
                width: 14px;
                height: 14px;
                font-size: 10px;
                top: -6px;
                right: -6px;
            }
        }
    </style>
</head>
<body>
	    <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ª–∏–Ω–∑—ã -->
<button class="magnifier-toggle" id="magnifierToggle" title="–í–∫–ª—é—á–∏—Ç—å —É–≤–µ–ª–∏—á–∏—Ç–µ–ª—å–Ω—É—é –ª–∏–Ω–∑—É">
    <i class="fas fa-search-plus"></i>
</button>
    
    <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∞ -->
    <div class="magnifier-hint" id="magnifierHint">
        <strong>–£–≤–µ–ª–∏—á–∏—Ç–µ–ª—å–Ω–∞—è –ª–∏–Ω–∑–∞</strong><br>
        –ù–∞–≤–µ–¥–∏—Ç–µ –Ω–∞ —Ç–µ–∫—Å—Ç –≤ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–µ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è
    </div>
    
    <!-- –°–∞–º–∞ –ª–∏–Ω–∑–∞ -->
    <div class="magnifier" id="magnifier">
        <div class="magnifier-content" id="magnifierContent"></div>
        <div class="magnifier-wave"></div>
    </div>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <div class="container">
<!-- –®–∞–ø–∫–∞ -->
<div class="header">
    <div class="logo">
        <!-- –í–∞—à–∞ –∏–∫–æ–Ω–∫–∞ —Å GitHub -->
        <img src="https://raw.githubusercontent.com/Alivu/electro-smeta/main/Icon/icon-42x42.pngg" 
             alt="–≠–ª–µ–∫—Ç—Ä–æ–°–º–µ—Ç–∞" 
             class="app-icon"
             id="appLogoIcon">
        <i class="fas fa-bolt logo-icon" id="fallbackIcon" style="display: none;"></i>
        <span class="logo-text">ùîºùïùùïñùïúùï•ùï£ùï†ùïäùïûùïñùï•ùïí @ùîºùïùùïñùïîùï•ùï£ùïöùïî_ùîæùï£ùï†ùï¶ùï° +ùüüùü´ùüûùüõùüùùü°ùü†ùüúùü†ùüúùüû</span>
    </div>
</div>
        
<!-- –ü–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
<div class="nav-panel">
    <!-- –í–∫–ª–∞–¥–∫–∏ -->
    <div class="tabs">
        <button class="tab active" id="priceTabBtn">
            <i class="fas fa-file-invoice-dollar"></i> –ü—Ä–∞–π—Å-–ª–∏—Å—Ç
        </button>
        <button class="tab" id="estimateTabBtn">
            <i class="fas fa-calculator"></i> –°–º–µ—Ç–∞
            <span id="estimateCounter" style="
                background: #6c757d; 
                color: white; 
                padding: 2px 6px; 
                border-radius: 10px; 
                font-size: 0.75rem; 
                margin-left: 5px;
            ">0</span>
        </button>
    </div>
    
    <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
    <div class="estimate-controls">
        <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—á–∞—Ç–∏ –ø—Ä–∞–π—Å–∞ -->
        <button class="btn btn-info" id="printPriceBtn">
            <i class="fas fa-print"></i> –ü–µ—á–∞—Ç—å –ø—Ä–∞–π—Å–∞
        </button>
        
        <!-- –ú–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–º–µ—Ç–æ–π -->
        <div class="dropdown-controls">
            <button class="btn btn-success dropdown-toggle" id="controlsDropdown">
                <i class="fas fa-bars"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
                <i class="fas fa-chevron-down" style="margin-left: 8px;"></i>
            </button>
            <div class="dropdown-menu" id="controlsMenu">

    			<!-- –í–°–¢–ê–í–¨–¢–ï –°–Æ–î–ê –ù–û–í–£–Æ –ö–ù–û–ü–ö–£: -->
    			<button class="dropdown-item" id="refreshEstimateBtn">
        			<i class="fas fa-sync-alt"></i> –û–±–Ω–æ–≤–∏—Ç—å —Å–º–µ—Ç—É
    			</button>
				
                <button class="dropdown-item" id="addRowBtn">
                    <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É
                </button>
                <button class="dropdown-item" id="addMaterialBtn">
                    <i class="fas fa-box"></i> –î–æ–±–∞–≤–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª
                </button>
                <div class="dropdown-divider"></div>
                <button class="dropdown-item" id="saveEstimateBtn">
                    <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–º–µ—Ç—É
                </button>
                <button class="dropdown-item" id="loadEstimateBtn">
                    <i class="fas fa-folder-open"></i> –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–º–µ—Ç—É
                </button>
                <div class="dropdown-divider"></div>
                <button class="dropdown-item" id="saveAsPdfBtn">
                    <i class="fas fa-file-pdf"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ PDF
                </button>
                <button class="dropdown-item" id="printEstimateBtn">
                    <i class="fas fa-print"></i> –ü–µ—á–∞—Ç—å —Å–º–µ—Ç—ã
                </button>
                <div class="dropdown-divider"></div>
                <!-- –ù–û–í–ê–Ø –ö–ù–û–ü–ö–ê: –°–∫–∞—á–∞—Ç—å PDF -->
                <button class="dropdown-item" 
                        onclick="window.open('https://github.com/Alivu/electro-smeta/raw/main/Price_Electric_GrouP.pdf', '_blank')">
                    <i class="fas fa-download"></i> –°–∫–∞—á–∞—Ç—å PDF –ø—Ä–∞–π—Å-–ª–∏—Å—Ç
                </button>
				<button class="dropdown-item" onclick="window.open('https://accounts.google.com/o/oauth2/auth?client_id=10151274989-sirobiq4o2es78hs82gbotu34lkf11pb.apps.googleusercontent.com&redirect_uri=https://alivu.github.io/electro-smeta&response_type=token&scope=https://www.googleapis.com/auth/drive.file&state=electro_smeta', '_blank')">
    				<i class="fab fa-google"></i> –¢–µ—Å—Ç Google Login
				</button>


				<!-- –î–û–ë–ê–í–¨–¢–ï –≠–¢–ò –î–í–ï –ö–ù–û–ü–ö–ò: -->
				<button class="dropdown-item" onclick="saveToDrive()" id="saveToDriveBtn" style="display:none">
    				<i class="fab fa-google-drive"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ Drive
				</button>
				<button class="dropdown-item" onclick="loadFromDrive()" id="loadFromDriveBtn" style="display:none">
    				<i class="fas fa-download"></i> –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ Drive
				</button>
				
				
                <!-- –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ -->
                <button class="dropdown-item" 
                        onclick="window.open('https://alivu.github.io/', '_blank')">
                    <i class="fas fa-home"></i> –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ Electric_Group
                </button>
            </div>
        </div>
    </div>
</div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ 1: –ü—Ä–∞–π—Å-–ª–∏—Å—Ç -->
        <div class="tab-content active" id="price-tab">
            <div class="price-header">
                <h2><i class="fas fa-list"></i> –ü—Ä–∞–π—Å-–ª–∏—Å—Ç —ç–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω—ã—Ö —Ä–∞–±–æ—Ç –ß–†</h2>
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="priceSearch" placeholder="–ü–æ–∏—Å–∫ –ø–æ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç—É..." autocomplete="off">
                </div>
            </div>
            
            <div class="price-list-container" id="priceList">
                <!-- –ü—Ä–∞–π—Å-–ª–∏—Å—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –∑–¥–µ—Å—å -->
            </div>
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ 2: –°–º–µ—Ç–∞ -->
        <div class="tab-content" id="estimate-tab">
            <div class="estimate-table-container">
                <table class="estimate-table">
                    <thead>
                        <tr>
                            <th width="40">–ö–æ–¥</th>
                            <th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th>
                            <th width="70">–ï–¥. –∏–∑–º.</th>
                            <th width="80">–¶–µ–Ω–∞, —Ä—É–±.</th>
                            <th width="60">–ö–æ–ª-–≤–æ</th>
                            <th width="110">–°—É–º–º–∞, —Ä—É–±.</th>
                            <th width="40"></th>
                        </tr>
                    </thead>
                    <tbody id="estimateTable">
                        <!-- –°—Ç—Ä–æ–∫–∏ —Å–º–µ—Ç—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                    </tbody>
                </table>
            </div>
            
            <div class="estimate-totals">    
                <div class="total-row">
                    <span>–û–±—â–∞—è —Å—É–º–º–∞ —Å–º–µ—Ç—ã:</span>
                    <span class="total-value" id="totalAmount">0</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div class="modal" id="materialModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-box"></i> –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞</h3>
                <button class="close-modal" id="closeMaterialModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="materialName">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞:</label>
                    <input type="text" id="materialName" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–∞–±–µ–ª—å –í–í–ì–Ω–≥ 3—Ö1,5" autocomplete="off">
                </div>
                <div class="form-group">
                    <label for="materialUnit">–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è:</label>
                    <select id="materialUnit" class="form-control">
                        <option value="—à—Ç.">—à—Ç.</option>
                        <option value="–º/–ø">–º/–ø</option>
                        <option value="–º">–º</option>
                        <option value="–∫–æ–º–ø–ª–µ–∫—Ç">–∫–æ–º–ø–ª–µ–∫—Ç</option>
                        <option value="—É–ø–∞–∫–æ–≤–∫–∞">—É–ø–∞–∫–æ–≤–∫–∞</option>
                        <option value="—Ä—É–ª–æ–Ω">—Ä—É–ª–æ–Ω</option>
                        <option value="–∫–≥">–∫–≥</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="materialPrice">–¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É, —Ä—É–±.:</label>
                    <input type="number" id="materialPrice" class="form-control" placeholder="0" min="0" step="0.01" autocomplete="off">
                </div>
                <div class="form-group">
                    <label for="materialQuantity">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</label>
                    <input type="number" id="materialQuantity" class="form-control" placeholder="1" min="1" step="1" value="1" autocomplete="off">
                </div>
                <div class="form-group">
                    <button class="btn btn-success" id="addMaterialToEstimate" style="width: 100%;">
                        <i class="fas fa-plus-circle"></i> –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–º–µ—Ç—É
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal" id="printModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-print"></i> –ü–µ—á–∞—Ç—å —Å–º–µ—Ç—ã</h3>
                <button class="close-modal" id="closePrintModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="clientName">–ö–ª–∏–µ–Ω—Ç:</label>
                    <input type="text" id="clientName" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∫–ª–∏–µ–Ω—Ç–∞" autocomplete="off">
                </div>
                <div class="form-group">
                    <label for="estimateNumber">–ù–æ–º–µ—Ä —Å–º–µ—Ç—ã:</label>
                    <input type="text" id="estimateNumber" class="form-control" value="–°–ú-001" autocomplete="off">
                </div>
                <div class="form-group">
                    <label for="estimateDate">–î–∞—Ç–∞:</label>
                    <input type="date" id="estimateDate" class="form-control">
                </div>
                <div class="form-group">
                    <label for="notes">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:</label>
                    <textarea id="notes" class="form-control" rows="3" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è..." autocomplete="off"></textarea>
                </div>
                <div class="form-group">
                    <button class="btn btn-success" id="generatePrint" style="width: 100%;">
                        <i class="fas fa-file-pdf"></i> –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –ø–µ—á–∞—Ç–∏
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal" id="loadModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-folder-open"></i> –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–º–µ—Ç—É</h3>
                <button class="close-modal" id="closeLoadModal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="savedEstimatesList">
                    <!-- –°–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Å–º–µ—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –∑–¥–µ—Å—å -->
                </div>
            </div>
        </div>
    </div>

    <script>
// ========== –í–ï–°–¨ –í–ê–® –°–£–©–ï–°–¢–í–£–Æ–©–ò–ô JAVASCRIPT –ö–û–î –ü–û–õ–ù–û–°–¢–¨–Æ –°–û–•–†–ê–ù–Å–ù ==========

// ========== –ó–ê–ì–†–£–ó–ö–ê –í–ï–†–°–ò–ò –ò–ó SW.js ==========
let APP_VERSION = '1.0.0'; // –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

// –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤–µ—Ä—Å–∏–∏ –∏–∑ Service Worker
async function loadVersionFromSW() {
  try {
    console.log('üîç –ó–∞–≥—Ä—É–∂–∞—é –≤–µ—Ä—Å–∏—é –∏–∑ Service Worker...');
    const response = await fetch('sw.js?t=' + Date.now());
    const swCode = await response.text();
    const versionMatch = swCode.match(/const APP_VERSION\s*=\s*['"]([^'"]+)['"]/);
    
    if (versionMatch && versionMatch[1]) {
      APP_VERSION = versionMatch[1];
      console.log(`‚úÖ –í–µ—Ä—Å–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞: ${APP_VERSION}`);
    }
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–µ—Ä—Å–∏–∏:', error);
  }
  return APP_VERSION;
}
// ========== –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –í –¶–ï–ù–¢–†–ï –°–û –ó–í–£–ö–û–ú ==========
function showCenterNotification(message) {
    const isMobile = window.innerWidth <= 767;
    
    // 1. –í–ò–ë–†–ê–¶–ò–Ø (—Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)
    if (isMobile && 'vibrate' in navigator) {
        // –ö–æ—Ä–æ—Ç–∫–∞—è –≤–∏–±—Ä–∞—Ü–∏—è: 100ms –≤–∏–±—Ä–∞—Ü–∏—è, 50ms –ø–∞—É–∑–∞, 100ms –≤–∏–±—Ä–∞—Ü–∏—è
        navigator.vibrate([100, 50, 100]);
    }
    
    // 2. –ó–í–£–ö–û–í–û–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–ï
    playNotificationSound();
    
    // 3. –°–û–ó–î–ê–ï–ú –£–í–ï–î–û–ú–õ–ï–ù–ò–ï (—Å—Ç–∏–ª—å –∫–∞–∫ –±—ã–ª)
    const notification = document.createElement('div');
    notification.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
        color: white;
        padding: ${isMobile ? '20px' : '25px 30px'};
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        z-index: 9999;
        max-width: ${isMobile ? '90vw' : '500px'};
        width: ${isMobile ? '85%' : '80%'};
        text-align: center;
        animation: centerNotifyIn 0.4s ease-out;
        border: 2px solid rgba(255,255,255,0.1);
        font-size: ${isMobile ? '16px' : '18px'};
        font-weight: 500;
        line-height: 1.4;
    `;
    
    // –î–æ–±–∞–≤–ª—è–µ–º –±—Ä–µ–Ω–¥ Electric Group —Å–≤–µ—Ä—Ö—É
    notification.innerHTML = `
        <div style="
            font-size: ${isMobile ? '20px' : '24px'};
            font-weight: bold;
            color: #f1c40f;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        ">
            <i class="fas fa-bolt"></i>
            Electric Group
            <i class="fas fa-bolt"></i>
        </div>
        
        <div style="
            height: 2px;
            background: linear-gradient(90deg, transparent, #f1c40f, transparent);
            margin: 10px 0 15px;
        "></div>
        
        <div style="display: flex; align-items: center; justify-content: center; gap: 12px;">
            <i class="fas fa-bolt" style="color: #f1c40f; font-size: 1.3em;"></i>
            <div>${message}</div>
        </div>
    `;
    
    document.body.appendChild(notification);
    
    // –ê–Ω–∏–º–∞—Ü–∏–∏
    if (!document.querySelector('#center-notify-style')) {
        const style = document.createElement('style');
        style.id = 'center-notify-style';
        style.textContent = `
            @keyframes centerNotifyIn {
                from { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
                to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            }
            @keyframes centerNotifyOut {
                from { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                to { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
            }
        `;
        document.head.appendChild(style);
    }
    
    // –ê–≤—Ç–æ—Å–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
        notification.style.animation = 'centerNotifyOut 0.4s ease-out';
        setTimeout(() => {
            if (notification.parentNode) {
                notification.remove();
            }
        }, 400);
    }, 4000);
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É
    notification.addEventListener('click', function() {
        notification.style.animation = 'centerNotifyOut 0.4s ease-out';
        setTimeout(() => {
            if (notification.parentNode) {
                notification.remove();
            }
        }, 400);
    });
}

// ========== –§–£–ù–ö–¶–ò–Ø –í–û–°–ü–†–û–ò–ó–í–ï–î–ï–ù–ò–Ø –ó–í–£–ö–ê ==========
function playNotificationSound() {
    try {
        // –°–æ–∑–¥–∞–µ–º AudioContext –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        if (AudioContext) {
            const audioContext = new AudioContext();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∑–≤—É–∫ (–ø—Ä–∏—è—Ç–Ω—ã–π "–¥–∏–Ω—å")
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(800, audioContext.currentTime); // –ß–∞—Å—Ç–æ—Ç–∞
            oscillator.frequency.exponentialRampToValueAtTime(1200, audioContext.currentTime + 0.1);
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –≥—Ä–æ–º–∫–æ—Å—Ç—å (fade in/out)
            gainNode.gain.setValueAtTime(0, audioContext.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.3, audioContext.currentTime + 0.05);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
            
            // –ü–æ–¥–∫–ª—é—á–∞–µ–º
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º
            oscillator.start();
            oscillator.stop(audioContext.currentTime + 0.3);
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç
            setTimeout(() => {
                if (audioContext.state !== 'closed') {
                    audioContext.close();
                }
            }, 1000);
            
        } else {
            // Fallback –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ - –∏—Å–ø–æ–ª—å–∑—É–µ–º HTML5 Audio
            fallbackSound();
        }
    } catch (error) {
        console.log('–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–≤—É–∫:', error);
        fallbackSound();
    }
}

// ========== –†–ï–ó–ï–†–í–ù–´–ô –ó–í–£–ö (HTML5 Audio) ==========
function fallbackSound() {
    try {
        // –°–æ–∑–¥–∞–µ–º –∫–æ—Ä–æ—Ç–∫–∏–π –±–∏–ø —Å –ø–æ–º–æ—â—å—é Web Audio API –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ–≥–æ beep
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        oscillator.frequency.value = 800;
        oscillator.type = 'sine';
        
        gainNode.gain.setValueAtTime(0, audioContext.currentTime);
        gainNode.gain.linearRampToValueAtTime(0.2, audioContext.currentTime + 0.01);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
        
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.2);
        
    } catch (error) {
        // –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π fallback - –∏–º–∏—Ç–∞—Ü–∏—è –∑–≤—É–∫–∞ —á–µ—Ä–µ–∑ –¥–∏–Ω–∞–º–∏–∫ (—Ç–æ–ª—å–∫–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö)
        console.log('–ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ—Å—Ç–æ–π –∑–≤—É–∫');
        try {
            // –≠—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ –≤–æ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
            const audio = new Audio();
            const source = audioContext.createBufferSource();
            // –ü—Ä–æ—Å—Ç–æ –ø—ã—Ç–∞–µ–º—Å—è —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π –∑–≤—É–∫
            console.log('\u0007'); // ASCII bell (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–Ω—Å–æ–ª—è—Ö)
        } catch (e) {
            console.log('–ó–≤—É–∫ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
        }
    }
}

// ========== –ö–û–ù–ï–¶ –¶–ï–ù–¢–†–ê–õ–¨–ù–û–ì–û –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ==========
// –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–µ—Ä—Å–∏–∏
async function initializeVersion() {
  await loadVersionFromSW();
  const savedVersion = localStorage.getItem('app_version');
  
  if (savedVersion !== APP_VERSION) {
    console.log(`üîÑ –û–ë–ù–û–í–õ–ï–ù–ò–ï: ${savedVersion || '–Ω–µ—Ç'} ‚Üí ${APP_VERSION}`);
    localStorage.setItem('app_version', APP_VERSION);
        // ========== –ü–û–î–°–í–ï–¢–ö–ê –ö–ù–û–ü–ö–ò "–û–ë–ù–û–í–ò–¢–¨ –°–ú–ï–¢–£" ==========
    const refreshBtn = document.getElementById('refreshEstimateBtn');
    if (refreshBtn) {
        // –ú–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∏ —Å—Ç–∏–ª—å –∫–Ω–æ–ø–∫–∏
        refreshBtn.innerHTML = `
            <i class="fas fa-bolt" style="color: #f39c12;"></i> 
            –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è ${APP_VERSION}
            <span style="
                margin-left: 8px; 
                background: #e74c3c; 
                color: white; 
                padding: 2px 6px; 
                border-radius: 10px; 
                font-size: 0.7em;
                font-weight: bold;
            ">
                NEW
            </span>
        `;
        
        // –ú–µ–Ω—è–µ–º —Å—Ç–∏–ª—å –∫–Ω–æ–ø–∫–∏
        refreshBtn.style.background = 'linear-gradient(90deg, #f39c12, #e67e22)';
        refreshBtn.style.color = 'white';
        refreshBtn.style.fontWeight = 'bold';
        refreshBtn.style.border = 'none';
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
        refreshBtn.dataset.oldVersion = savedVersion || '–Ω–µ—Ç';
        refreshBtn.dataset.newVersion = APP_VERSION;
    }
    // ========== –ö–û–ù–ï–¶ –ü–û–î–°–í–ï–¢–ö–ò ==========
setTimeout(() => {
    showCenterNotification(`üéâ –û–±–Ω–æ–≤–ª–µ–Ω–æ –¥–æ –≤–µ—Ä—Å–∏–∏ ${APP_VERSION}!`);
}, 1000);
  }
  
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–µ—Ä—Å–∏—é –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
  document.addEventListener('DOMContentLoaded', function() {
    const logo = document.querySelector('.logo-text');
    if (logo) {
      logo.innerHTML = `ùîºùïùùïñùïúùï•ùï£ùï†ùïäùïûùïñùï•ùïí 
        <span style="color:#3498db; font-weight:bold">v${APP_VERSION}</span> 
        @ùîºùïùùïñùïîùï•ùï£ùïöùïî_ùîæùï£ùï†ùï¶ùï°`;
    }
  });
}

// –ó–∞–ø—É—Å–∫–∞–µ–º
initializeVersion();
// ========== –ö–û–ù–ï–¶ –ë–õ–û–ö–ê –í–ï–†–°–ò–û–ù–ò–†–û–í–ê–ù–ò–Ø ==========
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º iOS
        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
		// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–°–∫–∞—á–∞—Ç—å PDF" –≤ –æ–∫–Ω–µ –ø–µ—á–∞—Ç–∏
// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–°–∫–∞—á–∞—Ç—å PDF" –≤ –æ–∫–Ω–µ –ø–µ—á–∞—Ç–∏
window.addEventListener('message', function(event) {
    if (event.data.action === 'savePDFFromPrint') {
        // –ó–∞–ø–æ–ª–Ω—è–µ–º –ø–æ–ª—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ PDF
        document.getElementById('clientName').value = event.data.data.clientName;
        document.getElementById('estimateNumber').value = event.data.data.estimateNumber;
        document.getElementById('estimateDate').value = event.data.data.estimateDate;
        document.getElementById('notes').value = event.data.data.notes;
        
        // –ó–∞–∫—Ä—ã–≤–∞–µ–º –æ–∫–Ω–æ –ø–µ—á–∞—Ç–∏
        if (event.source) event.source.close();
        
        // –û—Ç–∫—Ä—ã–≤–∞–µ–º PDF –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        setTimeout(() => {
            saveAsPDF();
        }, 300);
    }
    
    // –î–û–ë–ê–í–¨–¢–ï –≠–¢–û–¢ –ë–õ–û–ö –¥–ª—è –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞:
    if (event.data.action === 'savePriceAsPDF') {
        // –ó–∞–∫—Ä—ã–≤–∞–µ–º –æ–∫–Ω–æ –ø–µ—á–∞—Ç–∏
        if (event.source) event.source.close();
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ PDF –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞
        setTimeout(() => {
            createPricePDF();
        }, 300);
    }
});
// –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è PDF –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞
function createPricePDF() {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
    if (!checkPDFLibraries()) return;
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
    const loadingDiv = document.createElement('div');
    loadingDiv.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0,0,0,0.8);
        color: white;
        padding: 20px 30px;
        border-radius: 10px;
        z-index: 9999;
        font-size: 16px;
    `;
    loadingDiv.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –°–æ–∑–¥–∞–Ω–∏–µ PDF –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞...';
    document.body.appendChild(loadingDiv);
    
    // –ü–æ–ª—É—á–∞–µ–º –¥–∞—Ç—É
    const today = new Date().toLocaleDateString('ru-RU');
    const hijri = getHijriDate();
    
    // –°–æ–∑–¥–∞–µ–º –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–∞–Ω–∏—Ü
    const sectionsPerPage = 2; // –ú–∞–∫—Å–∏–º—É–º 2 —Ä–∞–∑–¥–µ–ª–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
    const pages = [];
    let currentPage = [];
    let currentPageHeight = 0;
    const maxPageHeight = 250; // –º–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ A4
    
    // –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    priceData.forEach((section, index) => {
        // –ü—Ä–∏–º–µ—Ä–Ω–∞—è –≤—ã—Å–æ—Ç–∞ —Ä–∞–∑–¥–µ–ª–∞ (–≤ –º–º)
        const sectionHeight = 10 + (section.items.length * 3);
        
        if (currentPageHeight + sectionHeight > maxPageHeight && currentPage.length > 0) {
            pages.push([...currentPage]);
            currentPage = [section];
            currentPageHeight = sectionHeight;
        } else {
            currentPage.push(section);
            currentPageHeight += sectionHeight;
        }
        
        // –ï—Å–ª–∏ —ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑–¥–µ–ª, –¥–æ–±–∞–≤–ª—è–µ–º –æ—Å—Ç–∞–≤—à—É—é—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü—É
        if (index === priceData.length - 1 && currentPage.length > 0) {
            pages.push([...currentPage]);
        }
    });
    
    console.log(`–°–æ–∑–¥–∞–Ω–æ ${pages.length} —Å—Ç—Ä–∞–Ω–∏—Ü PDF`);
    
    // –°–æ–∑–¥–∞–µ–º PDF –¥–æ–∫—É–º–µ–Ω—Ç
    const pdf = new jspdf.jsPDF({
        orientation: 'portrait',
        unit: 'mm',
        format: 'a4'
    });
    
    // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    let pageIndex = 0;
    
    function renderPage(pageSections, pageNum, totalPages) {
        return new Promise((resolve) => {
            const tempContainer = document.createElement('div');
            tempContainer.style.cssText = `
                position: fixed;
                left: -9999px;
                top: -9999px;
                width: 210mm;
                padding: 15mm;
                background: white;
                font-family: Arial, sans-serif;
                font-size: 10px;
            `;
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            let pdfContent = `
                <div style="text-align: center; margin-bottom: 15px; border-bottom: 2px solid #000; padding-bottom: 10px;">
                    <h1 style="margin: 0 0 5px 0; font-size: 20px; color: #2c3e50;">–ü—Ä–∞–π—Å-–ª–∏—Å—Ç –≠–ª–µ–∫—Ç—Ä–∏–∫–∞ 29.12.2026–≥</h1>
                    <div style="font-size: 11px;">
                        <strong>–î–∞—Ç–∞:</strong> ${today} 
                        <span style="margin-left: 10px; background: #f8f9fa; padding: 2px 6px; border-radius: 2px; font-size: 10px;">
                            <i class="fas fa-mosque"></i> ${hijri.day} ${hijri.month} ${hijri.year} –≥.—Ö.
                        </span>
                    </div>
                    <div style="font-size: 9px; color: #666; margin-top: 5px;">
                        –°—Ç—Ä–∞–Ω–∏—Ü–∞ ${pageNum} –∏–∑ ${totalPages}
                    </div>
                </div>
            `;
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞–∑–¥–µ–ª—ã –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            pageSections.forEach(section => {
                pdfContent += `
                    <div style="margin-bottom: 12px; page-break-inside: avoid;">
                        <h2 style="background: #2c3e50; color: white; padding: 6px 10px; margin: 0 0 6px 0; border-radius: 3px; font-size: 12px;">
                            ${section.section}
                        </h2>
                        <table style="width: 100%; border-collapse: collapse; font-size: 9px; line-height: 1.2;">
                            <thead>
                                <tr style="background: #f8f9fa;">
                                    <th style="border: 1px solid #ddd; padding: 4px; width: 7%; text-align: center; font-weight: bold;">–ö–æ–¥</th>
                                    <th style="border: 1px solid #ddd; padding: 4px; width: 60%; font-weight: bold;">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç</th>
                                    <th style="border: 1px solid #ddd; padding: 4px; width: 8%; text-align: center; font-weight: bold;">–ï–¥.</th>
                                    <th style="border: 1px solid #ddd; padding: 4px; width: 15%; text-align: right; font-weight: bold;">–¶–µ–Ω–∞, —Ä—É–±.</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${section.items.map(item => `
                                    <tr>
                                        <td style="border: 1px solid #ddd; padding: 3px 2px; text-align: center; font-weight: bold; color: #3498db; font-size: 8.5px;">${item.id}</td>
                                        <td style="border: 1px solid #ddd; padding: 3px 4px; font-size: 8.5px; line-height: 1.1;">${item.name}</td>
                                        <td style="border: 1px solid #ddd; padding: 3px 2px; text-align: center; font-size: 8.5px;">${item.unit}</td>
                                        <td style="border: 1px solid #ddd; padding: 3px 2px; text-align: right; font-weight: bold; color: #27ae60; font-size: 8.5px;">${formatCurrency(item.price)}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                `;
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ñ—É—Ç–µ—Ä —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
            if (pageNum === totalPages) {
                pdfContent += `
                    <div style="margin-top: 20px; padding-top: 10px; border-top: 1px solid #ddd; font-size: 8px; color: #666; text-align: center;">
                        <div style="margin-bottom: 3px;">
                            <strong>–ö–æ–Ω—Ç–∞–∫—Ç—ã: https://alivu.github.io/
                        </div>
                        <div>
                            –ü—Ä–∞–π—Å-–ª–∏—Å—Ç —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ "–≠–ª–µ–∫—Ç—Ä–æ–°–º–µ—Ç–∞"<br>
                            –î–∞—Ç–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è: ${new Date().toLocaleString('ru-RU')}
                        </div>
                    </div>
                `;
            } else {
                // –ù–∞ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –¥–æ–±–∞–≤–ª—è–µ–º "–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–ª–µ–¥—É–µ—Ç"
                pdfContent += `
                    <div style="margin-top: 15px; text-align: center; font-size: 9px; color: #666; font-style: italic;">
                        –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–ª–µ–¥—É–µ—Ç...
                    </div>
                `;
            }
            
            tempContainer.innerHTML = pdfContent;
            document.body.appendChild(tempContainer);
            
            // –î–∞–µ–º –≤—Ä–µ–º—è –Ω–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
            setTimeout(() => {
                html2canvas(tempContainer, {
                    scale: 2,
                    useCORS: true,
                    logging: false,
                    backgroundColor: '#ffffff'
                }).then(canvas => {
                    const imgData = canvas.toDataURL('image/jpeg', 0.85); // JPEG –¥–ª—è –º–µ–Ω—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
                    const imgWidth = 180;
                    const imgHeight = canvas.height * imgWidth / canvas.width;
                    
                    // –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é
                    if (pageNum > 1) {
                        pdf.addPage();
                    }
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
                    pdf.addImage(imgData, 'JPEG', 15, 10, imgWidth, imgHeight);
                    
                    // –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
                    document.body.removeChild(tempContainer);
                    
                    resolve();
                }).catch(error => {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã PDF:', error);
                    document.body.removeChild(tempContainer);
                    resolve();
                });
            }, 100);
        });
    }
    
    // –†–µ–Ω–¥–µ—Ä–∏–º –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
    async function renderAllPages() {
        for (let i = 0; i < pages.length; i++) {
            await renderPage(pages[i], i + 1, pages.length);
            pageIndex++;
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
        const todayStr = new Date().toLocaleDateString('ru-RU').replace(/\//g, '-');
        pdf.save(`–ü—Ä–∞–π—Å-–ª–∏—Å—Ç_${todayStr}.pdf`);
        
        // –û—á–∏—Å—Ç–∫–∞
        document.body.removeChild(loadingDiv);
        
        showNotification(`PDF –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω! (${pages.length} —Å—Ç—Ä.)`);
    }
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
    renderAllPages().catch(error => {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ PDF:', error);
        document.body.removeChild(loadingDiv);
        showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ PDF –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞');
    });
}
		
		// –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É –±–∏–±–ª–∏–æ—Ç–µ–∫ PDF
function checkPDFLibraries() {
    if (typeof jspdf === 'undefined') {
        console.error('jsPDF –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω!');
        alert('–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ jsPDF –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.');
        return false;
    }
    if (typeof html2canvas === 'undefined') {
        console.error('html2canvas –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω!');
        alert('–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ html2canvas –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.');
        return false;
    }
    return true;
}
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è iOS - –æ—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function initForIOS() {
            console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è iOS');
            
            // –ò—Å–ø—Ä–∞–≤–ª—è–µ–º —Å–∫—Ä–æ–ª–ª
            document.body.style.overflow = 'auto';
            document.body.style.webkitOverflowScrolling = 'touch';
            
            // –ò—Å–ø—Ä–∞–≤–ª—è–µ–º —Ñ–æ–∫—É—Å
            document.addEventListener('touchstart', function() {}, {passive: true});
            
            // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ
            document.addEventListener('touchmove', function(e) {
                if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA' || e.target.tagName === 'SELECT') {
                    e.preventDefault();
                }
            }, {passive: false});
        }

        // –î–∞–Ω–Ω—ã–µ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞
const priceData = [
    {
        section: "‚ë† –ú–æ–Ω—Ç–∞–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã",
        items: [
            {id: 1, name: "–†–∞–∑–≤–æ–¥–∫–∞ –∫–∞–±–µ–ª—è, –æ–ø—É—Å–∫–∏ –Ω–∞ —Ä–æ–∑–µ—Ç–∫–∏, –≤—ã–∫–ª—é—á–∞—Ç–µ–ª–∏ –∫ —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫—É –∏ —â–∏—Ç—É", unit: "—à—Ç.", price: 500},
            {id: 2, name: "–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ—Ä–æ–±–∫–∞, —Å–∫—Ä—É—Ç–∫–∞-—Å–∏–∑, –∫–ª–µ–º–º–Ω–∏–∫–∞–º–∏, –í–ê–ì–û", unit: "—à—Ç.", price: 650},
            {id: 3, name: "–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ—Ä–æ–±–∫–∞, —Å–≤–∞—Ä–∫–∞, –ø–∞–π–∫–∞, –ø—Ä–µ—Å—Å –ì–ú–õ", unit: "—à—Ç.", price: 900},
            {id: 4, name: "–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ—Ä–æ–±–∫–∞ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Å—Ç–∞—Ä–æ–π, –¥–≤–æ–π–Ω–∞—è —Ü–µ–Ω–∞", unit: "—à—Ç.", price: 1300},
            {id: 5, name: "–†–∞—Å–ø–∞–π–∫–∞ –ø—Ä–æ—Ö–æ–¥–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è 1-2–∫–ª", unit: "—à—Ç.", price: 1000},
            {id: 6, name: "–†–∞—Å–ø–∞–π–∫–∞ –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è 1-2–∫–ª", unit: "—à—Ç.", price: 1500},
            {id: 7, name: "–ó–∞—Ç—è–≥–∏–≤–∞–Ω–∏–µ –∫–∞–±–µ–ª—è –≤ –≥–æ—Ñ—Ä—É –¥–æ √ò25–º–º", unit: "–º/–ø", price: 30},
            {id: 8, name: "–ó–∞—Ç—è–≥–∏–≤–∞–Ω–∏–µ –∫–∞–±–µ–ª—è –≤ –≥–æ—Ñ—Ä—É √ò32–º–º", unit: "–º/–ø", price: 60},
            {id: 9, name: "–ó–∞—Ç—è–≥–∏–≤–∞–Ω–∏–µ –∫–∞–±–µ–ª—è –≤ –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫—É—é –≥–æ—Ñ—Ä—É √ò32 –º–º", unit: "–º/–ø", price: 100},
            {id: 10, name: "–ú–æ–Ω—Ç–∞–∂ –∫–∞–±–µ–ª—è 220–í –¥–æ 2,5–º–º¬≤", unit: "–º/–ø", price: 120},
            {id: 11, name: "–ú–æ–Ω—Ç–∞–∂ –∫–∞–±–µ–ª—è 220–í –æ—Ç 4 –º–º¬≤ –¥–æ 6 –º–º¬≤ (–º–µ–¥—å)", unit: "–º/–ø", price: 150},
            {id: 12, name: "–ú–æ–Ω—Ç–∞–∂ –∫–∞–±–µ–ª—è 220–í 10 –º–º¬≤ / 16 –º–º¬≤", unit: "–º/–ø", price: 180},
            {id: 13, name: "–ú–æ–Ω—Ç–∞–∂ –∫–∞–±–µ–ª—è 220–í 25 –º–º¬≤", unit: "–º/–ø", price: 250},
            {id: 14, name: "–ú–æ–Ω—Ç–∞–∂ –∫–∞–±–µ–ª—è 380–í –æ—Ç 1.5 –º–º2 –¥–æ 6 –º–º¬≤", unit: "–º/–ø", price: 250},
            {id: 15, name: "–ú–æ–Ω—Ç–∞–∂ –∫–∞–±–µ–ª—è 380–í –¥–æ 10 –º–º¬≤ –¥–æ 16 –º–º¬≤", unit: "–º/–ø", price: 330},
            {id: 16, name: "–ú–æ–Ω—Ç–∞–∂ –∫–∞–±–µ–ª—è 380–í –æ—Ç 25 –º–º¬≤ –¥–æ 35 –º–º¬≤", unit: "–º/–ø", price: 480},
            {id: 17, name: "–ü—Ä–æ–∫–ª–∞–¥–∫–∞ –±—Ä–æ–Ω—å-–∫–∞–±–µ–ª—è –¥–æ 95 –º–º¬≤", unit: "–º/–ø", price: 450},
            {id: 18, name: "–ü—Ä–æ–∫–ª–∞–¥–∫–∞ –±—Ä–æ–Ω—å-–∫–∞–±–µ–ª—è –¥–æ 240 –º–º¬≤", unit: "–º/–ø", price: 630},
            {id: 19, name: "–ú–æ–Ω—Ç–∞–∂ –≥—Ä–µ—é—â–µ–≥–æ –∫–∞–±–µ–ª—è –∏ —Å–∏—Å—Ç–µ–º —ç–ª–µ–∫—Ç—Ä–æ–æ–±–æ–≥—Ä–µ–≤–∞", unit: "–º/–ø", price: 500},
            {id: 20, name: "–¢—Ä–∞–Ω—à–µ—è –ø–æ–¥ —Å–∏–ª–æ–≤–æ–π –∫–∞–±–µ–ª—å, –∑–∞–∫–ª–∞–¥–Ω—ã–µ —Ç—Ä—É–±—ã –¥–æ 30—Å–º –≤ –≥–ª—É–±–∏–Ω—É", unit: "–º/–ø", price: 450},
            {id: 21, name: "–ü–æ–¥—É—à–∫–∞ –∏ –∑–∞—Å—ã–ø–∫–∞ –∫–∞–±–µ–ª—è", unit: "–º/–ø", price: 300},
            {id: 22, name: "–ü—Ä–æ—Ç—è–∂–∫–∞ –°–ò–ü. 4/16, 4/25", unit: "–º/–ø", price: 200},
            {id: 23, name: "–ü—Ä–æ—Ç—è–∂–∫–∞ –°–ò–ü. 4/35, 4/50", unit: "–º/–ø", price: 250},
            {id: 24, name: "–°–ª–∞–±–æ—Ç–æ—á–∫–∞ (—Ç–≤, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)", unit: "–º/–ø", price: 100},
            {id: 25, name: "–û–ø—Ä–µ—Å—Å–æ–≤–∫–∞ –Ω–∞–∫–æ–Ω–µ—á–Ω–∏–∫–æ–≤ RJ45", unit: "—à—Ç.", price: 200},
            {id: 26, name: "–ú–æ–Ω—Ç–∞–∂ —Å–ª–∞–±–æ—Ç–æ—á–∫–∏ –¥–ª—è –ª–µ—Å—Ç–Ω–∏—á–Ω–æ–≥–æ –æ—Å–≤–µ—â–µ–Ω–∏—è (–∑–∞ –æ–¥–∏–Ω –º–∞—Ä—à)", unit: "—à—Ç.", price: 2500},
            {id: 27, name: "–£–∫–ª–∞–¥–∫–∞ –∑–∞–∫–ª–∞–¥–Ω–æ–π —Ç—Ä—É–±—ã –¥–ª—è –ø—Ä–æ—Ç—è–∂–∫–∏ –∫–∞–±–µ–ª–µ–π. –î–æ √ò32–º–º", unit: "–º/–ø", price: 200},
            {id: 28, name: "–ú–æ–Ω—Ç–∞–∂ –∑–∞–≤–æ–¥—Å–∫–æ–≥–æ –∑–∞–∑–µ–º–ª–µ–Ω–∏—è", unit: "–º/–ø", price: 2000},
            {id: 29, name: "–ú–æ–Ω—Ç–∞–∂ (—Å–∞–º–æ–¥–µ–ª—å–Ω–∞—è –∏–∑ —É–≥–æ–ª–∫–æ–≤ 40—Ö4–º–º) –∑–∞–∑–µ–º–ª–µ–Ω–∏—è", unit: "–º/–ø", price: 2300},
            {id: 30, name: "–ú–æ–Ω—Ç–∞–∂ –∂–µ–ª–µ–∑–Ω—ã—Ö –ª–æ—Ç–∫–æ–≤ 200/300 –º–º", unit: "–º/–ø", price: 500},
            {id: 31, name: "–ú–æ–Ω—Ç–∞–∂ –∫–∞–±–µ–ª—å –∫–∞–Ω–∞–ª–æ–≤ –¥–æ 40 –º–º", unit: "–º/–ø", price: 180},
            {id: 32, name: "–ú–æ–Ω—Ç–∞–∂ –∫–∞–±–µ–ª—å –∫–∞–Ω–∞–ª–æ–≤ –æ—Ç 40 –º–º –¥–æ 100 –º–º", unit: "–º/–ø", price: 250}
        ]
    },
    {
        section: "‚ë° –ß–µ—Ä–Ω–æ–≤—ã–µ —Ä–∞–±–æ—Ç—ã",
        items: [
            {id: 33, name: "–°–∫–≤–æ–∑–Ω–æ–µ —Å–≤–µ—Ä–ª–µ–Ω–∏–µ —Å—Ç–µ–Ω—ã –¥–æ √ò18 –º–º –æ–¥–∏–Ω —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä", unit: "—Å–º.", price: 20},
            {id: 34, name: "–°–∫–≤–æ–∑–Ω–æ–µ —Å–≤–µ—Ä–ª–µ–Ω–∏–µ —Å—Ç–µ–Ω—ã √ò20–º–º –æ–¥–∏–Ω —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä", unit: "—Å–º.", price: 25},
            {id: 35, name: "–°–∫–≤–æ–∑–Ω–æ–µ —Å–≤–µ—Ä–ª–µ–Ω–∏–µ —Å—Ç–µ–Ω—ã √ò28 –º–º –æ–¥–∏–Ω —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä", unit: "—Å–º.", price: 35},
            {id: 36, name: "–°–∫–≤–æ–∑–Ω–æ–µ —Å–≤–µ—Ä–ª–µ–Ω–∏–µ —Å—Ç–µ–Ω—ã √ò50P–º–º –æ–¥–∏–Ω —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä", unit: "—Å–º.", price: 38},
            {id: 37, name: "–®—Ç—Ä–æ–±–∞ –ø–æ —à—Ç—É–∫–∞—Ç—É—Ä–∫–µ (–∏–∑–≤–µ—Å—Ç–∫–æ–≤–∞—è –∏ –≥–∏–ø—Å–æ–≤–∞—è) —à–∏—Ä–∏–Ω–æ–π –¥–æ 20 –º–º", unit: "–º/–ø", price: 300},
            {id: 38, name: "–®—Ç—Ä–æ–±–∞ –ø–æ –∫–∏—Ä–ø–∏—á—É —à–∏—Ä–∏–Ω–æ–π –¥–æ 20 –º–º", unit: "–º/–ø", price: 400},
            {id: 39, name: "–®—Ç—Ä–æ–±–∞ –ø–æ –±–µ—Ç–æ–Ω—É —à–∏—Ä–∏–Ω–æ–π –¥–æ 20 –º–º.", unit: "–º/–ø", price: 600},
            {id: 40, name: "–®—Ç—Ä–æ–±–∞ –ø–æ –≤—ã—Å–æ–∫–æ–ø—Ä–æ—á–Ω–æ–º—É –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–º—É –∂–µ–ª–µ–∑–æ–±–µ—Ç–æ–Ω—É –¥–æ 20–º–º", unit: "–º/–ø", price: 900},
            {id: 41, name: "–®—Ç—Ä–æ–±–∞ –∑–∞–º–∞–∑–∫–∞", unit: "–º/–ø", price: 150},
            {id: 42, name: "–°–≤–µ—Ä–ª–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–∑–µ—Ç–Ω–∏–∫–æ–≤ –≤ –±–ª–æ–∫–µ –¥–æ √ò80 –º–º", unit: "—à—Ç.", price: 150},
            {id: 43, name: "–°–≤–µ—Ä–ª–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–∑–µ—Ç–Ω–∏–∫–æ–≤ –≤ –∫–∏—Ä–ø–∏—á–µ –¥–æ √ò80 –º–º", unit: "—à—Ç.", price: 200},
            {id: 44, name: "–°–≤–µ—Ä–ª–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–∑–µ—Ç–Ω–∏–∫–æ–≤ –≤ –∫–∏—Ä–ø–∏—á–µ –¥–æ √ò80 –º–º (–≥–ª—É–±–æ–∫–∏–µ)", unit: "—à—Ç.", price: 250},
            {id: 45, name: "–°–≤–µ—Ä–ª–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–∑–µ—Ç–Ω–∏–∫–æ–≤ –≤ –±–µ—Ç–æ–Ω–µ –¥–æ √ò80–º–º", unit: "—à—Ç.", price: 450},
            {id: 46, name: "–°–≤–µ—Ä–ª–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–∑–µ—Ç–Ω–∏–∫–æ–≤ –≤ –±–µ—Ç–æ–Ω–µ –¥–æ √ò80 –º–º (–≥–ª—É–±–æ–∫–∏–µ)", unit: "—à—Ç.", price: 650},
            {id: 47, name: "–°–≤–µ—Ä–ª–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–∑–µ—Ç–Ω–∏–∫–æ–≤ –≤ –≤—ã—Å–æ–∫–æ–ø—Ä–æ—á–Ω–æ–º –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–º –∂–± / –¥–æ √ò80 –º–º", unit: "—à—Ç.", price: 670},
            {id: 48, name: "–°–≤–µ—Ä–ª–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–¥—Ä–æ–∑–µ—Ç–Ω–∏–∫–æ–≤ –≤ –≥–∏–ø—Å–æ–∫–∞—Ä—Ç–æ–Ω–Ω–æ–π —Å—Ç–µ–Ω–µ √ò80 –º–º", unit: "—à—Ç.", price: 180},
            {id: 49, name: "–ú–æ–Ω—Ç–∞–∂ –ø–æ–¥—Ä–æ–∑–µ—Ç–Ω–∏–∫–æ–≤ —Å –≥–∏–ø—Å–æ–≤–æ–π —Å–º–µ—Å—å—é", unit: "—à—Ç.", price: 200},
            {id: 50, name: "–ú–æ–Ω—Ç–∞–∂ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö –º–æ–¥—É–ª—å–Ω—ã—Ö –ø–æ–¥—Ä–æ–∑–µ—Ç–Ω–∏–∫–æ–≤", unit: "—à—Ç.", price: 200},
            {id: 51, name: "–ú–æ–Ω—Ç–∞–∂ –≤ —Å—Ç–µ–Ω—É —Ä–∞—Å–ø—Ä–µ–¥–∫–æ—Ä–æ–±–æ–∫ –∏–ª–∏ –ª—é–∫–æ–≤ –ø–æ–¥ —Ä–∞—Å–ø–∞–π–∫–∏", unit: "—à—Ç.", price: 500}
        ]
    },
    {
        section: "‚ë¢ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —â–∏—Ç–æ–≤",
        items: [
            {id: 52, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ–∫—Å–∞ (—â–∏—Ç–∞) –Ω–∞—Ä—É–∂–Ω–æ–≥–æ –¥–æ 24 –º–æ–¥. (–ö–æ—Ä–ø—É—Å —Å—á–µ—Ç—á–∏–∫–∞ 220–≤)", unit: "—à—Ç.", price: 1000},
            {id: 53, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ–∫—Å–∞ (—â–∏—Ç–∞) –Ω–∞—Ä—É–∂–Ω–æ–≥–æ –¥–æ 60 –º–æ–¥. (–ö–æ—Ä–ø—É—Å —Å—á–µ—Ç—á–∏–∫–∞ 380–≤)", unit: "—à—Ç.", price: 1500},
            {id: 54, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ–∫—Å–∞ (—â–∏—Ç–∞) –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –¥–æ 24 –º–æ–¥—É–ª–µ–π –≤ –∫–∏—Ä–ø–∏—á–µ", unit: "—à—Ç.", price: 3500},
            {id: 55, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ–∫—Å–∞ (—â–∏—Ç–∞) –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –¥–æ 24 –º–æ–¥—É–ª–µ–π –≤ –±–µ—Ç–æ–Ω–µ", unit: "—à—Ç.", price: 6000},
            {id: 56, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ–∫—Å–∞ (—â–∏—Ç–∞) –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –¥–æ 36 –º–æ–¥—É–ª–µ–π –≤ –∫–∏—Ä–ø–∏—á–µ", unit: "—à—Ç.", price: 4500},
            {id: 57, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ–∫—Å–∞ (—â–∏—Ç–∞) –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –¥–æ 36 –º–æ–¥—É–ª–µ–π –≤ –±–µ—Ç–æ–Ω–µ", unit: "—à—Ç.", price: 8000},
            {id: 58, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ–∫—Å–∞ (—â–∏—Ç–∞) –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –¥–æ 60 –º–æ–¥—É–ª–µ–π –≤ –∫–∏—Ä–ø–∏—á–µ", unit: "—à—Ç.", price: 6000},
            {id: 59, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ–∫—Å–∞ (—â–∏—Ç–∞) –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –¥–æ 60 –º–æ–¥—É–ª–µ–π –≤ –±–µ—Ç–æ–Ω–µ", unit: "—à—Ç.", price: 10000},
            {id: 60, name: "–í—ã—Å–≤–µ—Ä–ª–∏–≤–∞–Ω–∏–µ —Ç–µ—Ö-–æ—Ç–≤–µ—Ä—Å—Ç–∏—è", unit: "—à—Ç.", price: 500},
            {id: 61, name: "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –≤–≤–æ–¥–∞ –≤ —ç–ª–µ–∫—Ç—Ä–æ—â–∏—Ç", unit: "—à—Ç.", price: 1500},
            {id: 62, name: "–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–≤–æ–¥–∞ (–æ—Ä–µ—à–∫–∏, —Å–∫—Ä—É—Ç–∫–∞)", unit: "—à—Ç.", price: 1500},
            {id: 63, name: "–ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ –∂–∏–ª –∏ –∞–≤—Ç–æ–º–∞—Ç–æ–≤, (–≤–∫–ª—é—á–∞—è –∫–æ–ø–ª–µ–∫—Ç –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏)", unit: "—à—Ç.", price: 3000},
            {id: 64, name: "–°–±–æ—Ä–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–æ–≤ –≤ —â–∏—Ç–µ 1P/1 –º–æ–¥ (–≤ —â–∏—Ç–∞—Ö 60-96 –º–æ–¥): –ö–æ—ç—Ñ. 1.5 (2—Ö –æ—Ç 120)", unit: "—à—Ç.", price: 500},
            {id: 65, name: "–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —É–∑–ª–∞ —à–∏–Ω N/PE (—Ä–∞—Å–∫–ª—é—á–µ–Ω–∏–µ —Å–≤—ã—à–µ 10 –∂–∏–ª): –ö–æ—ç—Ñ. 1.5", unit: "—à—Ç.", price: 500},
            {id: 66, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ö–æ–¥–Ω—ã—Ö –∫–ª–µ–º–º (–∑–∞–∂–∏–º Push-in/WAGO)", unit: "—à—Ç.", price: 500},
            {id: 67, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –†–ë (–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –±–ª–æ–∫–∞ 80-250–∞", unit: "—à—Ç.", price: 1500},
            {id: 68, name: "–ë–ª–æ–∫ —Å–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–æ 80–∞ 1—Ñ", unit: "—à—Ç.", price: 500},
            {id: 69, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –£–ó–û ( –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞) 220–í", unit: "—à—Ç.", price: 2000},
            {id: 70, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –£–ó–û ( –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞) 380–í", unit: "—à—Ç.", price: 3500},
            {id: 71, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –£–ó–ò–ü (–ú–æ–ª–Ω–∏–µ–∑–∞—â–∏—Ç–∞) 220–í", unit: "—à—Ç.", price: 2000},
            {id: 72, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –£–ó–ò–ü (–ú–æ–ª–Ω–∏–µ–∑–∞—â–∏—Ç–∞) 380–í", unit: "—à—Ç.", price: 3500},
            {id: 73, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ—Ä–∞ (–º–∞–≥–Ω–∏—Ç–Ω—ã–π –ø—É—Å–∫–∞—Ç–µ–ª—å) 220–í", unit: "—à—Ç.", price: 2000},
            {id: 74, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ—Ä–∞ (–º–∞–≥–Ω–∏—Ç–Ω—ã–π –ø—É—Å–∫–∞—Ç–µ–ª—å) 380–í", unit: "—à—Ç.", price: 3000},
            {id: 75, name: "–ö–Ω–æ–ø–∫–∞ –ø—É—Å–∫-—Å—Ç–æ–ø", unit: "—à—Ç.", price: 800},
            {id: 76, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ—Ä–º–æ —Ä–µ–ª–µ –∫ –º–∞–≥–Ω–∏—Ç–Ω–æ–º—É –ø—É—Å–∫–∞—Ç–µ–ª—é", unit: "—à—Ç.", price: 1500},
            {id: 77, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–ª–µ –≤—Ä–µ–º–µ–Ω–∏", unit: "—à—Ç.", price: 2000},
            {id: 78, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –†–ù–ü–ü", unit: "—à—Ç.", price: 3500},
            {id: 79, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–ª–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è 220–í", unit: "—à—Ç.", price: 1500},
            {id: 80, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–ª–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è, (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ñ–∞–∑ 380–í)", unit: "—à—Ç.", price: 3500},
            {id: 81, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –í–†–£ –¥–æ (400–ê)", unit: "—à—Ç.", price: 30000},
            {id: 82, name: "–í–ê 100–ê (–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏–ª–æ–≤—ã–µ –≤—ã–∫–ª—é—á–∞—Ç–µ–ª–∏ —Å–µ—Ä–∏–∏ –í–ê)", unit: "—à—Ç.", price: 5000},
            {id: 83, name: "–í–ê 160–ê (–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏–ª–æ–≤—ã–µ –≤—ã–∫–ª—é—á–∞—Ç–µ–ª–∏ —Å–µ—Ä–∏–∏ –í–ê)", unit: "—à—Ç.", price: 5500},
            {id: 84, name: "–í–ê 250–ê (–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏–ª–æ–≤—ã–µ –≤—ã–∫–ª—é—á–∞—Ç–µ–ª–∏ —Å–µ—Ä–∏–∏ –í–ê)", unit: "—à—Ç.", price: 6000},
            {id: 85, name: "–†–† 250–ê (—Ä—É–±–∏–ª—å–Ω–∏–∫ —Ä–µ–≤–µ—Ä—Å–∏–≤–Ω—ã–π)", unit: "—à—Ç.", price: 6500},
            {id: 86, name: "–†–† 400–ê (—Ä—É–±–∏–ª—å–Ω–∏–∫ —Ä–µ–≤–µ—Ä—Å–∏–≤–Ω—ã–π)", unit: "—à—Ç.", price: 8000},
            {id: 87, name: "–†—É–±–∏–ª—å–Ω–∏–∫ –º–æ–¥—É–ª—å–Ω—ã–π —Ä–µ–≤–µ—Ä—Å–∏–≤–Ω—ã–π (–Ω–∞ –¥–∏–Ω-—Ä–µ–π–∫—É)", unit: "—à—Ç.", price: 2000},
            {id: 88, name: "–®–∏–Ω—ã –º–µ–¥–Ω—ã–µ (–§–∞–∑–Ω—ã–µ —à–∏–Ω—ã)", unit: "—à—Ç.", price: 1000},
            {id: 89, name: "–û–ø—Ä–µ—Å—Å–æ–≤–∫–∞ –Ω–∞–∫–æ–Ω–µ—á–Ω–∏–∫–∞–º–∏ –∫–æ–Ω—Ü–æ–≤ –∫–∞–±–µ–ª—è", unit: "—à—Ç.", price: 500},
            {id: 90, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—á–µ—Ç—á–∏–∫–∞ 220–í (–±–µ–∑ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è)", unit: "—à—Ç.", price: 2500},
            {id: 91, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—á–µ—Ç—á–∏–∫–∞ 220–í (–±–µ–∑ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è) –∫–æ–º–ø–ª–µ–∫—Ç –≤ –±–æ–∫—Å–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∞–º–∏", unit: "—à—Ç.", price: 4500},
            {id: 92, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—á–µ—Ç—á–∏–∫–∞ 380–í (–±–µ–∑ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è)", unit: "—à—Ç.", price: 3500},
            {id: 93, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—á–µ—Ç—á–∏–∫–∞ 380–í (–±–µ–∑ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è) –∫–æ–º–ø–ª–µ–∫—Ç –≤ –±–æ–∫—Å–µ –∏ –∞–≤—Ç–æ–º–∞—Ç", unit: "—à—Ç.", price: 7000},
            {id: 94, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞ –∫–æ—Å–≤–µ–Ω–Ω–æ–≥–æ –≤–∫–ª—é—á–µ–Ω–∏—è (—á–µ—Ä–µ–∑ –¢–¢)", unit: "—à—Ç.", price: 10000},
            {id: 95, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¢–¢ –≤ —Ü–µ–ø—è—Ö —É—á—ë—Ç–∞ —Å—á—ë—Ç—á–∏–∫–∞ –∫–æ—Å–≤–µ–Ω–Ω–æ–≥–æ –≤–∫–ª—é—á–µ–Ω–∏—è", unit: "—à—Ç.", price: 2000},
            {id: 96, name: "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ 2 –∂–∏–ª—å–Ω–æ–≥–æ –∫–∞–±–µ–ª—è –Ω–∞ —Å—Ç–æ–ª–±–µ (–±–µ–∑ –ø–æ–¥—ä—ë–º–Ω–∏–∫–∞, 1 —Å—Ç–æ–ª–±)", unit: "—à—Ç.", price: 3000},
            {id: 97, name: "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ 4 –∂–∏–ª—å–Ω–æ–≥–æ –∫–∞–±–µ–ª—è –Ω–∞ —Å—Ç–æ–ª–±–µ (–±–µ–∑ –ø–æ–¥—ä—ë–º–Ω–∏–∫–∞, 1 —Å—Ç–æ–ª–±)", unit: "—à—Ç.", price: 4000},
            {id: 98, name: "–ü–æ–¥—ä—ë–º –Ω–∞ —Å—Ç–æ–ª–±", unit: "—à—Ç.", price: 2000},
            {id: 99, name: "–ö—Ä–µ–ø–ª–µ–Ω–∏–µ –í–í–û–î–ê –ø–æ–¥ –∫–∞—Ä–Ω–∏–∑ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–µ—Ä–≤–æ–≥–æ —ç—Ç–∞–∂–∞", unit: "—à—Ç.", price: 3000},
            {id: 100, name: "–ö—Ä–µ–ø–ª–µ–Ω–∏–µ –í–í–û–î–ê –ø–æ–¥ –∫–∞—Ä–Ω–∏–∑ –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—Ç–æ—Ä–æ–≥–æ —ç—Ç–∞–∂–∞", unit: "—à—Ç.", price: 6000},
            {id: 101, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–∂–µ–∫—Ç–æ—Ä–∞ (–ö–æ–±—Ä–∞) –Ω–∞ —Å—Ç–æ–ª–±", unit: "—à—Ç.", price: 3000},
            {id: 102, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–∂–µ–∫—Ç–æ—Ä–∞ –Ω–∞ —Å—Ç–µ–Ω—É", unit: "—à—Ç.", price: 1500}
        ]
    },
    {
        section: "‚ë£ –ß–∏—Å—Ç–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞",
        items: [
            {id: 103, name: "–†–µ—Ç—Ä–æ –ø—Ä–æ–≤–æ–¥–∫–∞, –∑–∞–∫–æ–Ω—á–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞", unit: "—à—Ç.", price: 2500},
            {id: 104, name: "–†–æ–∑–µ—Ç–∫–∞, –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å, –Ω–∞–∫–ª–∞–¥–Ω–∞—è –∏ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è 1 –ø–æ—Å—Ç", unit: "—à—Ç.", price: 250},
            {id: 105, name: "–ü–µ—Ä–µ–º—ã—á–∫–∏ –≤ —Ä–æ–∑–µ—Ç–æ—á–Ω—ã—Ö –≥—Ä—É–ø–ø–∞—Ö", unit: "—à—Ç.", price: 200},
            {id: 106, name: "–ü—Ä–æ—Ö–æ–¥–Ω–æ–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å –æ–¥–Ω–æ–∫–ª–∞–≤–∏—à–Ω—ã–π", unit: "—à—Ç.", price: 500},
            {id: 107, name: "–ü—Ä–æ—Ö–æ–¥–Ω–æ–π (–ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–Ω—ã–π) –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å –¥–≤—É—Ö–∫–ª–∞–≤–∏—à–Ω—ã–π", unit: "—à—Ç.", price: 1200},
            {id: 108, name: "–†–æ–∑–µ—Ç–∫–∞ —Å–∏–ª–æ–≤–∞—è 380–í, —Å –∫—Ä–µ–ø–ª–µ–Ω–∏–µ–º (–∏–ª–∏ –∫–∞–∂–¥–∞—è —á–∞—Å—Ç—å 750—Ä)", unit: "—à—Ç.", price: 1500},
            {id: 109, name: "–†–æ–∑–µ—Ç–∫–∞ –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–ø–ª–∏—Ç—ã", unit: "—à—Ç.", price: 1000},
            {id: 110, name: "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç —Ä–æ–∑–µ—Ç–∫–∞", unit: "—à—Ç.", price: 700},
            {id: 111, name: "–¢–í —Ä–æ–∑–µ—Ç–∫–∞", unit: "—à—Ç.", price: 350},
            {id: 112, name: "–ú–æ–Ω—Ç–∞–∂ –ø–ª–∏–Ω—Ç—É—Å–∞ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π, —Å–∫—Ä—ã—Ç–∞—è –ø—Ä–æ–∫–ª–∞–¥–∫–∞ (–±–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)", unit: "–º/–ø", price: 1200},
            {id: 113, name: "–ú–æ–Ω—Ç–∞–∂ –ø–ª–∏–Ω—Ç—É—Å–∞ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π, (–Ω–∞ —Å—Ç–µ–Ω–Ω—ã–π –±–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)", unit: "–º/–ø", price: 800},
            {id: 114, name: "–ú–æ–Ω—Ç–∞–∂ —ç–ª–µ–∫—Ç—Ä–æ—à—Ç–æ—Ä (–±–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)", unit: "–º/–ø", price: 1200},
            {id: 115, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–º–∞—Ä—Ç‚Äë–º–æ–¥—É–ª—è –≤ –ø–æ–¥—Ä–æ–∑–µ—Ç–Ω–∏–∫ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —É–º–Ω–æ–≥–æ –¥–æ–º–∞", unit: "—à—Ç.", price: 1500},
            {id: 116, name: "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–º–∞—Ä—Ç‚Äë–º–æ–¥—É–ª—è –ø–æ–¥ —Å–∏—Å—Ç–µ–º—É —É–º–Ω–æ–≥–æ –¥–æ–º–∞", unit: "—à—Ç.", price: 3500},
            {id: 117, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–∏–º–º–µ—Ä–∞", unit: "—à—Ç.", price: 1000},
            {id: 118, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ù–æ–∂–∫–∏ –∫—Ä–µ–ø–ª–µ–Ω–∏—è –¥–ª—è –¢–í —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –¢–í", unit: "—à—Ç.", price: 4000},
            {id: 119, name: "–ú–æ–Ω—Ç–∞–∂ –ø–∞—Ç—Ä–æ–Ω–∞ –ï27 —Å –ª–∞–º–ø–æ–π", unit: "—à—Ç.", price: 150},
            {id: 120, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–∞—Ç—á–∏–∫–æ–≤, —Ñ–æ—Ç–æ—Ä–µ–ª–µ, –¥–∞—Ç—á–∏–∫ –¥–≤–∏–∂–µ–Ω–∏—è –∏ —Ç–¥", unit: "—à—Ç.", price: 1500},
            {id: 121, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞, —Å–±–æ—Ä–∫–∞ –ª—é—Å—Ç—Ä –ø–æ –∑–∞–ø—á–∞—Å—Ç—è–º —Ä–æ–∂–æ–∫ 500—Ä (–Ω–µ –Ω–∏–∂–µ 2000—Ä)", unit: "—à—Ç.", price: 500},
            {id: 122, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ª—é—Å—Ç—Ä—ã —É–∂–µ –≤ —Å–æ–±—Ä–∞–Ω–Ω–æ–º –≤–∏–¥–µ —Ä–æ–∂–æ–∫ 350—Ä (–Ω–µ –Ω–∏–∂–µ 2000—Ä)", unit: "—à—Ç.", price: 350},
            {id: 123, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–≤–µ—Ç–æ–¥–∏–æ–¥–Ω–æ–π –ª—é—Å—Ç—Ä—ã (–ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞)", unit: "—à—Ç.", price: 3000},
            {id: 124, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—Ä–∞", unit: "—à—Ç.", price: 1500},
            {id: 125, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ—á–µ—á–Ω—ã—Ö —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–æ–≤", unit: "—à—Ç.", price: 500},
            {id: 126, name: "–†–∞–∑–º–µ—Ç–∫–∞ –∏ –≤—ã—Å–≤–µ—Ä–ª–∏–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ä—Å—Ç–∏–π –¥–ª—è —Ç–æ—á–µ—á–Ω—ã—Ö —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–æ–≤", unit: "—à—Ç.", price: 500},
            {id: 127, name: "–ú–æ–Ω—Ç–∞–∂ —Ç—Ä–µ–∫–æ–≤—ã—Ö —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–æ–≤", unit: "–º/–ø", price: 1500},
            {id: 128, name: "–ú–æ–Ω—Ç–∞–∂ —Ç—Ä–µ–∫–æ–≤—ã—Ö —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–æ–≤ (–ù–∞ —Ç—Ä–æ—Å–∞—Ö)", unit: "–º/–ø", price: 1800},
            {id: 129, name: "–ì–∏—Ä–ª—è–Ω–¥–∞ —Å –ø–∞—Ç—Ä–æ–Ω–∞–º–∏ –ï27", unit: "–º/–ø", price: 500},
            {id: 130, name: "–î–∏–æ–¥–Ω—ã–µ –ª–µ–Ω—Ç—ã 220–í", unit: "–º/–ø", price: 500},
            {id: 131, name: "–î–∏–æ–¥–Ω—ã–µ –ª–µ–Ω—Ç—ã 12/24–í", unit: "–º/–ø", price: 600},
            {id: 132, name: "–ú–æ–Ω—Ç–∞–∂ –∞–ª—é–º–∏–Ω–∏–µ–≤–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è –¥–ª—è —Å–≤–µ—Ç–æ–¥–∏–æ–¥–Ω–æ–π –ª–µ–Ω—Ç—ã", unit: "–º/–ø", price: 500},
            {id: 133, name: "–†–∞—Å–ø–∏–ª —É–≥–ª–∞ –ø—Ä–æ—Ñ–∏–ª—è –¥–ª—è —Å–≤–µ—Ç–æ–¥–∏–æ–¥–Ω–æ–π –ª–µ–Ω—Ç—ã", unit: "–º/–ø", price: 500},
            {id: 134, name: "–ú–æ–Ω—Ç–∞–∂ –±–ª–æ–∫–∞ 12–í, 24–í, 220–í", unit: "—à—Ç.", price: 1500},
            {id: 135, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –°–≤–µ—Ç–∏–ª—å–Ω–∏–∫–æ–≤, –ê—Ä–º—Å—Ç—Ä–æ–Ω–≥, –ª–∏–Ω–µ–π–Ω—ã–µ, –ø–ª–∞—Ñ–æ–Ω—ã,", unit: "—à—Ç.", price: 1200},
            {id: 136, name: "–°–≤–µ—Ç–∏–ª—å–Ω–∏–∫–∏ –≤ –ø–æ–¥–≤–µ—Å–Ω–æ–π –ø–æ—Ç–æ–ª–æ–∫, –õ–∏–Ω–∏–∏ –ê—Ä–º—Å—Ç—Ä–æ–Ω–≥ –∏ –æ—Å—Ç–∞–ª—å–Ω—ã–µ", unit: "—à—Ç.", price: 800},
            {id: 137, name: "–ú–æ–Ω—Ç–∞–∂ –∏ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ–¥–≤–µ—Å–Ω—ã—Ö —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–æ–≤ –Ω–∞ —Ç—Ä–æ—Å–∞—Ö", unit: "—à—Ç.", price: 1800},
            {id: 138, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ª–µ—Å—Ç–Ω–∏—á–Ω–æ–≥–æ –æ—Å–≤–µ—â–µ–Ω–∏—è (—á–∏—Å—Ç–æ–≤–∞—è, –∑–∞ –æ–¥–∏–Ω –º–∞—Ä—à)", unit: "—à—Ç.", price: 2500},
            {id: 139, name: "–°–≤–µ—Ç–∏–ª—å–Ω–∏–∫ —Å–∞–¥–æ–≤—ã–π, —Å—Ç–æ–ª–± –¥–ª—è —Å–∞–¥–∞", unit: "–º/–ø", price: 3000},
            {id: 140, name: "–ë–µ—Ç–æ–Ω–Ω–æ–µ –æ—Å–Ω–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–∞", unit: "—à—Ç.", price: 2000},
            {id: 141, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–º–æ—Ñ–æ–Ω–∞ —Å –∑–∞–º–∫–æ–º. (–û—Ç–¥–µ–ª—å–Ω–æ –∑–∞–º–æ–∫ –∏–ª–∏ –¥–æ–º–æ—Ñ–æ–Ω 5000—Ç)", unit: "—à—Ç.", price: 10000},
            {id: 142, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—ã—Ç—è–∂–∫–∏ √ò120", unit: "—à—Ç.", price: 1500},
            {id: 143, name: "–ü–æ–∏—Å–∫ –∑–∞–º—ã–∫–∞–Ω–∏–π –∑–∞ —Ç–æ—á–∫—É (—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ –≤—Ö–æ–¥–∏—Ç –≤ —Ü–µ–Ω—É)", unit: "—à—Ç.", price: 3500},
            {id: 144, name: "–ü—Ä–æ–∑–≤–æ–Ω–∫–∞ –∫–∞–±–µ–ª—è (—Å —Ç–æ—á–∫–∏ –ê –¥–æ —Ç–æ—á–∫–∏ –ë) (–æ–±—Å—É–¥–∏—Ç—å –∑–∞—Ä–∞–Ω–µ–µ —Å –∑–∞–∫–∞–∑—á–∏–∫–æ–º)", unit: "—à—Ç.", price: 200},
            {id: 145, name: "–ù–∞—Ä–∞—â–∏–≤–∞–Ω–∏–µ –∫–∞–±–µ–ª—è –¥–æ 4–∫–≤ –º–º2  —Å –æ–ø—Ä–µ—Å—Å–æ–≤–∫–æ–π (–∑–∞ –∫–∞–±–µ–ª—å, –Ω–µ —Å–∏–ª–æ–≤–æ–π)", unit: "—à—Ç.", price: 1000},
            {id: 146, name: "–ù–∞—Ä–∞—â–∏–≤–∞–Ω–∏–µ –∫–∞–±–µ–ª—è –æ—Ç 6–∫–≤ –º–º2  —Å –æ–ø—Ä–µ—Å—Å–æ–≤–∫–æ–π (–∑–∞ 1 –∂–∏–ª—É, —Å–∏–ª–æ–≤—ã–µ)", unit: "—à—Ç.", price: 1000},
            {id: 147, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ü–æ–ª–æ—Ç–µ–Ω—Ü–µ —Å—É—à–∏–ª–∫–∏", unit: "—à—Ç.", price: 3500},
            {id: 148, name: "–ó–∞–º–µ—Ä –∑–∞–∑–µ–º–ª–µ–Ω–∏—è", unit: "—à—Ç.", price: 3000},
            {id: 149, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä–∞ 220v", unit: "—à—Ç.", price: 5000},
            {id: 150, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä–∞ 380v", unit: "—à—Ç.", price: 6500}
        ]
    },
    {
        section: "‚ë§ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã",
        items: [
            {id: 151, name: "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–ø–ª–æ–≤–æ–π –ø—É—à–∫–∏ (—ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å)", unit: "—à—Ç.", price: 7000},
            {id: 152, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¢–ü", unit: "—à—Ç.", price: 50000},
            {id: 153, name: "–ú–æ–Ω—Ç–∞–∂ —Ä–∞–∑—ä–µ–¥–∏–Ω–∏—Ç–µ–ª—è", unit: "—à—Ç.", price: 20000},
            {id: 154, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–ø–æ—Ä—ã —Å –º–µ—Ö–∞–Ω–∏–∑–º–æ–º", unit: "—à—Ç.", price: 10000},
            {id: 155, name: "–ú–æ–Ω—Ç–∞–∂ —Å–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω–æ–π –º—É—Ñ—Ç—ã 0,4 –∫–í", unit: "—à—Ç.", price: 7000},
            {id: 156, name: "–ú–æ–Ω—Ç–∞–∂ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä—É–±–∏–ª—å–Ω–∏–∫–∞ 380–í 100–ê", unit: "—à—Ç.", price: 5000},
            {id: 157, name: "–ú–æ–Ω—Ç–∞–∂ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä—É–±–∏–ª—å–Ω–∏–∫–∞ 380–í –æ—Ç 250–ê –ø–æ 400–ê", unit: "—à—Ç.", price: 8000},
            {id: 158, name: "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ü–∏—Ä–∫—É–ª—è—Ü–∏–æ–Ω–Ω–æ–≥–æ –Ω–∞—Å–æ—Å–∞, —Ç–µ—Ä–º–æ–¥–∞—Ç—á–∏–∫–∞, –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞, –±–æ–π–ª–µ—Ä–∞", unit: "—à—Ç.", price: 1000},
            {id: 159, name: "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ–¥–Ω–æ—Ñ–∞–∑–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è 220–í", unit: "—à—Ç.", price: 2500},
            {id: 160, name: "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ç—Ä—ë—Ö—Ñ–∞–∑–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è 380–í", unit: "—à—Ç.", price: 3500},
            {id: 161, name: "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ë–ì —Å –∞–≤—Ç–æ–º–∞—Ç–∏–∫–æ–π –∏ –ó–° –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–º–æ–±–∏–ª—è (–±–µ–∑ –∫–∞–±–µ–ª—è)", unit: "—à—Ç.", price: 20000},
            {id: 162, name: "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —ç–ª–µ–∫—Ç—Ä–æ—É—Å—Ç–∞–Ω–æ–≤–æ–∫ (–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è) 1/3 —É—Å—Ç–∞–Ω–æ–≤–∫–∏", unit: "—à—Ç.", price: 1000},
            {id: 163, name: "–°–º–µ—Ç–∞, –≤—ã–µ–∑–¥ –Ω–∞ –æ–±—ä–µ–∫—Ç, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è (–æ–±—ä–µ–∫—Ç—ã —Å–≤—ã—à–µ 300 –∫–≤.–º)", unit: "—à—Ç.", price: 10000},
            {id: 164, name: "–≠–ª–µ–∫—Ç—Ä–æ–ø—Ä–æ–µ–∫—Ç –¥–æ–º–∞ (–ø–æ–¥ –¥–∏–∑–∞–π–Ω –¥–æ–º–∞)", unit: "–∫–≤.–º", price: 150},
            {id: 165, name: "–í—ã–µ–∑–¥ —ç–ª–µ–∫—Ç—Ä–∏–∫–∞ –¥–æ 19:00", unit: "—à—Ç.", price: 1000},
            {id: 166, name: "–í—ã–µ–∑–¥ —ç–ª–µ–∫—Ç—Ä–∏–∫–∞ –¥–æ 23:00", unit: "—à—Ç.", price: 1500},
            {id: 167, name: "–í—ã–µ–∑–¥ —ç–ª–µ–∫—Ç—Ä–∏–∫–∞ –ø–æ—Å–ª–µ 23:00", unit: "—à—Ç.", price: 3000},
            {id: 168, name: "–û—á–∏—Å—Ç–∫–∞ –æ—Ç —Å—Ç—Ä–æ–π-–º—É—Å–æ—Ä–∞ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã", unit: "–∫–≤.–º", price: 170},
            {id: 169, name: "–î–µ–º–æ–Ω—Ç–∞–∂ –ø–∞—Ä–∞–ø–µ—Ç–Ω–æ–π –ø–ª–∞–Ω–∫–∏ —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –º–æ–Ω—Ç–∞–∂–æ–º", unit: "–º/–ø", price: 400},
            {id: 170, name: "–ü—É—Å–∫–æ–Ω–∞–ª–∞–¥–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –î–ì–£ –¥–æ 65", unit: "–∫–í–ê", price: 36000},
            {id: 171, name: "–ü—É—Å–∫–æ–Ω–∞–ª–∞–¥–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –î–ì–£ –¥–æ 110", unit: "–∫–í–ê", price: 50000},
            {id: 172, name: "–ü—É—Å–∫–æ–Ω–∞–ª–∞–¥–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –î–ì–£ –¥–æ 165", unit: "–∫–í–ê", price: 60000},
            {id: 173, name: "–ü—É—Å–∫–æ–Ω–∞–ª–∞–¥–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –î–ì–£ –¥–æ 275", unit: "–∫–í–ê", price: 80000},
            {id: 174, name: "–ü—É—Å–∫–æ–Ω–∞–ª–∞–¥–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –î–ì–£ –¥–æ 500", unit: "–∫–í–ê", price: 100000},
            {id: 175, name: "–ü—É—Å–∫–æ–Ω–∞–ª–∞–¥–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –î–ì–£ –¥–æ 900", unit: "–∫–í–ê", price: 145000}
        ]
    },
    {
        section: "‚ë• –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∏ –æ—Å–æ–±—ã–µ —É—Å–ª–æ–≤–∏—è",
        items: [
            {id: 176, name: "–ó–∞–º–µ–Ω–∞ —ç–ª–µ–∫—Ç—Ä–æ–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è (–¥–µ–º–æ–Ω—Ç–∞–∂ + –º–æ–Ω—Ç–∞–∂)", unit: "–∫–æ—ç—Ñ.", price: 1.5},
            {id: 177, name: "–†–∞–±–æ—Ç—ã, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–µ—Å—è –Ω–∞ –≤—ã—Å–æ—Ç–µ –æ—Ç 3 –¥–æ 5 –º", unit: "–∫–æ—ç—Ñ.", price: 1.5},
            {id: 178, name: "–†–∞–±–æ—Ç—ã, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–µ—Å—è –Ω–∞ –≤—ã—Å–æ—Ç–µ –æ—Ç 5 –¥–æ 7 –º", unit: "–∫–æ—ç—Ñ.", price: 2},
            {id: 179, name: "–†–∞–±–æ—Ç—ã, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–µ—Å—è –ø–æ–¥ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ–º", unit: "–∫–æ—ç—Ñ.", price: 2},
            {id: 180, name: "–†–∞–±–æ—Ç—ã —Å –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏–º–∏ –ø—Ä–∏–±–æ—Ä–∞–º–∏ –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º", unit: "–∫–æ—ç—Ñ.", price: 2},
            {id: 181, name: "–°–Ω–∞–±–∂–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–º –æ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞, –Ω–æ –Ω–µ –º–µ–Ω–µ–µ 1000 —Ä—É–±", unit: "%", price: 10},
            {id: 182, name: "–ü—É—Å–∫–æ–Ω–∞–ª–∞–¥–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –æ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è", unit: "%", price: 30}
        ]
    },
    {
        section: "‚ë¶ –ü—Ä–∏–º–µ—á–∞–Ω–∏—è",
        items: [
            {id: 183, name: "–≠–ª–µ–∫—Ç—Ä–∏–∫ —É–±–∏—Ä–∞–µ—Ç –∑–∞ —Å–æ–±–æ–π –º—É—Å–æ—Ä –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç", unit: "", price: 0},
            {id: 184, name: "–ó–∞–ø—Ä–µ—â–µ–Ω–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∏–ª–∏ —Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–µ–Ω—å–≥–∏ –Ω–∞ –æ–±–µ–¥", unit: "", price: 0}
        ]
    }
];
		// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let estimateData = [];
        let savedEstimates = JSON.parse(localStorage.getItem('electroEstimates')) || [];
        let nextMaterialId = 1000;
		
async function getHijriDate() {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
    const cached = localStorage.getItem('hijri_date_cache');
    const today = new Date().toDateString();
    
    if (cached) {
        const { date, data } = JSON.parse(cached);
        if (date === today) {
            return data;
        }
    }
    
    try {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º API
        const response = await fetch('https://api.aladhan.com/v1/gToH?adjustment=0');
        const data = await response.json();
        
        if (data.code === 200) {
            const hijri = data.data.hijri;
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∞—Ä–∞–±—Å–∫–∏—Ö –¥–∏–∞–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞–∫–æ–≤
            function cleanArabicText(text) {
                if (!text) return '';
                
                // –ó–∞–º–µ–Ω—è–µ–º –∞—Ä–∞–±—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã –Ω–∞ –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –∞–Ω–∞–ª–æ–≥–∏
                return text
                    .replace(/ ø/g, "'")  // –∞—Ä–∞–±—Å–∫–∏–π –∞–π–Ω –Ω–∞ –∞–ø–æ—Å—Ç—Ä–æ—Ñ
                    .replace(/ æ/g, "'")  // –¥—Ä—É–≥–æ–π —Ç–∏–ø –∞–π–Ω–∞
                    .replace(/ º/g, "'")  // –µ—â—ë –æ–¥–∏–Ω —Ç–∏–ø
                    .replace(/Àà/g, "'")  // –∏ –µ—â—ë
                    .replace(/ƒÅ/g, 'a')  // –¥–ª–∏–Ω–Ω–∞—è a
                    .replace(/≈´/g, 'u')  // –¥–ª–∏–Ω–Ω–∞—è u
                    .replace(/ƒ´/g, 'i')  // –¥–ª–∏–Ω–Ω–∞—è i
                    .replace(/·∏ç/g, 'd')  // d —Å —Ç–æ—á–∫–æ–π
                    .replace(/·∏•/g, 'h')  // h —Å —Ç–æ—á–∫–æ–π
                    .replace(/·∏§/g, 'H')  // H —Å —Ç–æ—á–∫–æ–π
                    .replace(/·π£/g, 's')  // s —Å —Ç–æ—á–∫–æ–π
                    .replace(/·π¢/g, 'S')  // S —Å —Ç–æ—á–∫–æ–π
                    .replace(/·π≠/g, 't')  // t —Å —Ç–æ—á–∫–æ–π
                    .replace(/·π¨/g, 'T')  // T —Å —Ç–æ—á–∫–æ–π
                    .replace(/·∫ì/g, 'z')  // z —Å —Ç–æ—á–∫–æ–π
                    .replace(/·∫í/g, 'Z')  // Z —Å —Ç–æ—á–∫–æ–π
                    .replace(/·∏è/g, 'd')  // d —Å –ª–∏–Ω–∏–µ–π
                    .replace(/·∏é/g, 'D')  // D —Å –ª–∏–Ω–∏–µ–π
                    .trim();
            }
            
            // –ü–æ–ª—É—á–∞–µ–º –∏ –æ—á–∏—â–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ—Å—è—Ü–∞
            const monthRaw = hijri.month.en;
            const monthCleaned = cleanArabicText(monthRaw);
            
            console.log("–ú–µ—Å—è—Ü –∏—Å—Ö–æ–¥–Ω—ã–π:", monthRaw);
            console.log("–ú–µ—Å—è—Ü –æ—á–∏—â–µ–Ω–Ω—ã–π:", monthCleaned);
            
            // –°–ª–æ–≤–∞—Ä—å –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è (–ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏)
            const hijriMonths = {
                "Muharram": "–ú—É—Ö–∞—Ä—Ä–∞–º",
                "Safar": "–°–∞—Ñ–∞—Ä",
                "Rabi al-Awwal": "–†–∞–±–∏ –∞–ª—å-–∞–≤–≤–∞–ª—å",
                "Rabi' al-Awwal": "–†–∞–±–∏ –∞–ª—å-–∞–≤–≤–∞–ª—å",
                "Rabi al-Akhir": "–†–∞–±–∏ –∞—Å-—Å–∞–Ω–∏",
                "Rabi' al-Akhir": "–†–∞–±–∏ –∞—Å-—Å–∞–Ω–∏",
                "Rabi al-Thani": "–†–∞–±–∏ –∞—Å-—Å–∞–Ω–∏",
                "Rabi' al-Thani": "–†–∞–±–∏ –∞—Å-—Å–∞–Ω–∏",
                "Jumada al-Awwal": "–î–∂—É–º–∞–¥–∞ –∞–ª—å-—É–ª—è",
                "Jumada al-Ula": "–î–∂—É–º–∞–¥–∞ –∞–ª—å-—É–ª—è",
                "Jumada' al-Awwal": "–î–∂—É–º–∞–¥–∞ –∞–ª—å-—É–ª—è",
                "Jumada al-Thani": "–î–∂—É–º–∞–¥–∞ –∞—Å-—Å–∞–Ω–∏—è",
                "Jumada al-Akhira": "–î–∂—É–º–∞–¥–∞ –∞—Å-—Å–∞–Ω–∏—è",
                "Jumada' al-Thani": "–î–∂—É–º–∞–¥–∞ –∞—Å-—Å–∞–Ω–∏—è",
                "Rajab": "–†–∞–¥–∂–∞–±",
                "Sha'ban": "–®–∞–∞–±–∞–Ω",
                "Shaaban": "–®–∞–∞–±–∞–Ω",
                "Sha'ban": "–®–∞–∞–±–∞–Ω",
                "Ramadan": "–†–∞–º–∞–¥–∞–Ω",
                "Shawwal": "–®–∞–≤–≤–∞–ª—å",
                "Dhu al-Qi'dah": "–ó—É–ª—å-–∫–∞–∞–¥–∞",
                "Dhu'l-Qi'dah": "–ó—É–ª—å-–∫–∞–∞–¥–∞",
                "Dhu al-Qadah": "–ó—É–ª—å-–∫–∞–∞–¥–∞",
                "Dhu'l-Qadah": "–ó—É–ª—å-–∫–∞–∞–¥–∞",
                "Dhul-Qa'dah": "–ó—É–ª—å-–∫–∞–∞–¥–∞",
                "Dhul-Qadah": "–ó—É–ª—å-–∫–∞–∞–¥–∞",
                "Dhu al-Hijjah": "–ó—É–ª—å-—Ö–∏–¥–∂–∞",
                "Dhu'l-Hijjah": "–ó—É–ª—å-—Ö–∏–¥–∂–∞",
                "Dhul-Hijjah": "–ó—É–ª—å-—Ö–∏–¥–∂–∞"
            };
            
            // –ò—â–µ–º –ø–µ—Ä–µ–≤–æ–¥
            let monthRu = hijriMonths[monthCleaned] || hijriMonths[monthRaw];
            
            // –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏, –ø—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ –ø–æ —á–∞—Å—Ç–∏—á–Ω–æ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é
            if (!monthRu) {
                const monthLower = monthCleaned.toLowerCase();
                
                // –ü—Ä—è–º–æ–π –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–∞–º
                for (const [key, value] of Object.entries(hijriMonths)) {
                    if (key.toLowerCase() === monthLower) {
                        monthRu = value;
                        break;
                    }
                }
                
                // –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ –Ω–∞—à–ª–∏, –∏—â–µ–º —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
                if (!monthRu) {
                    if (monthLower.includes("sha") && monthLower.includes("ban")) {
                        monthRu = "–®–∞–∞–±–∞–Ω";
                    } else if (monthLower.includes("rabi") && monthLower.includes("awwal")) {
                        monthRu = "–†–∞–±–∏ –∞–ª—å-–∞–≤–≤–∞–ª—å";
                    } else if (monthLower.includes("rabi") && (monthLower.includes("akhir") || monthLower.includes("thani"))) {
                        monthRu = "–†–∞–±–∏ –∞—Å-—Å–∞–Ω–∏";
                    } else if (monthLower.includes("jumada") && monthLower.includes("awwal")) {
                        monthRu = "–î–∂—É–º–∞–¥–∞ –∞–ª—å-—É–ª—è";
                    } else if (monthLower.includes("jumada") && (monthLower.includes("akhir") || monthLower.includes("thani"))) {
                        monthRu = "–î–∂—É–º–∞–¥–∞ –∞—Å-—Å–∞–Ω–∏—è";
                    } else if (monthLower.includes("dhu") && monthLower.includes("qi'dah")) {
                        monthRu = "–ó—É–ª—å-–∫–∞–∞–¥–∞";
                    } else if (monthLower.includes("dhu") && monthLower.includes("hijjah")) {
                        monthRu = "–ó—É–ª—å-—Ö–∏–¥–∂–∞";
                    }
                }
            }
            
            // –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ –Ω–∞—à–ª–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ—á–∏—â–µ–Ω–Ω—ã–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –≤–∞—Ä–∏–∞–Ω—Ç
            if (!monthRu) {
                monthRu = monthCleaned;
                console.warn("–ù–µ –Ω–∞–π–¥–µ–Ω –ø–µ—Ä–µ–≤–æ–¥ –¥–ª—è –º–µ—Å—è—Ü–∞:", monthRaw, "->", monthCleaned);
            }
            
            const result = {
                year: parseInt(hijri.year),
                month: monthRu,
                monthIndex: parseInt(hijri.month.number),
                day: parseInt(hijri.day),
                display: `${hijri.day} ${monthRu} ${hijri.year} –≥.—Ö.`
            };
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫—ç—à
            localStorage.setItem('hijri_date_cache', JSON.stringify({
                date: today,
                data: result
            }));
            
            return result;
        }
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞—Ç—ã –•–∏–¥–∂—Ä—ã:', error);
    }
    
    // –†–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è 23 —è–Ω–≤–∞—Ä—è 2026
    return {
        year: 1447,
        month: '–®–∞–∞–±–∞–Ω',
        monthIndex: 8,
        day: 4,
        display: '4 –®–∞–∞–±–∞–Ω 1447 –≥.—Ö.'
    };
}

// 2. –ú—É—Å—É–ª—å–º–∞–Ω—Å–∫–∏–µ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏
const islamicHolidays = [
    { month: 1, day: 10, name: '–î–µ–Ω—å –ê—à—É—Ä–∞' },
    { month: 3, day: 12, name: '–ú–∞–≤–ª–∏–¥ –∞–Ω-–ù–∞–±–∏ (–¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è –ü—Ä–æ—Ä–æ–∫–∞ Ô∑∫)' },
    { month: 7, day: 27, name: '–õ—è–π–ª—è—Ç –∞–ª—å-–ú–∏—Ä–∞–¥–∂ (–ù–æ—á—å –í–æ–∑–Ω–µ—Å–µ–Ω–∏—è)' },
    { month: 8, day: 15, name: '–õ—è–π–ª—è—Ç –∞–ª—å-–ë–∞—Ä–∞–∞ (–ù–æ—á—å –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è)' },
    { month: 9, name: '–†–∞–º–∞–¥–∞–Ω', isRamadan: true },
    { month: 10, day: 1, name: '–ò–¥ –∞–ª—å-–§–∏—Ç—Ä (–£—Ä–∞–∑–∞-–±–∞–π—Ä–∞–º)' },
    { month: 12, day: 10, name: '–ò–¥ –∞–ª—å-–ê–¥—Ö–∞ (–ö—É—Ä–±–∞–Ω-–±–∞–π—Ä–∞–º)' },
    { month: 12, days: [8,9,10,11,12,13], name: '–î–Ω–∏ –¢–∞—à—Ä–∏–∫–∞' }
];
		// ========== –°–ò–°–¢–ï–ú–ê –£–í–ï–î–û–ú–õ–ï–ù–ò–ô ==========

const notificationSystem = {
    getTimeGreeting: function() {
        const hour = new Date().getHours();
        if (hour >= 5 && hour < 12) return '–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! –î–∞ –±–ª–∞–≥–æ—Å–ª–æ–≤–∏—Ç –≤–∞—Å –ê–ª–ª–∞—Ö –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å! üåÖ';
        if (hour >= 12 && hour < 18) return '–î–æ–±—Ä—ã–π –¥–µ–Ω—å! –ú–∏—Ä –≤–∞–º –∏ –º–∏–ª–æ—Å—Ç—å –ê–ª–ª–∞—Ö–∞! ‚òÄÔ∏è';
        if (hour >= 18 && hour < 23) return '–î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä! –î–∞ –ø—Ä–∏–º–µ—Ç –ê–ª–ª–∞—Ö –≤–∞—à–∏ –¥–µ–ª–∞! üåÜ';
        return '–î–æ–±—Ä–æ–π –Ω–æ—á–∏! –î–∞ –æ—Ö—Ä–∞–Ω–∏—Ç –≤–∞—Å –ê–ª–ª–∞—Ö –¥–æ —É—Ç—Ä–∞! üåô';
    },
    
    getFridayReminder: function() {
        const now = new Date();
        const isFriday = now.getDay() === 5;
        const hour = now.getHours();
        
        if (!isFriday) return null;
        
        if (hour >= 12 && hour < 15) {
            return 'üïå –ù–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ –î–∂—É–º–∞-–Ω–∞–º–∞–∑! –í—Ä–µ–º—è –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–π –º–æ–ª–∏—Ç–≤—ã.';
        }
        
        if (hour >= 15 && hour < 18) {
            return 'üïã –ü–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å –ø—è—Ç–Ω–∏—Ü—ã - –æ—Å–æ–±–æ–µ –≤—Ä–µ–º—è –¥–ª—è –¥—É–∞! –ù–µ —É–ø—É—Å—Ç–∏—Ç–µ!';
        }
        
        return '–ü—è—Ç–Ω–∏—Ü–∞ - –ª—É—á—à–∏–π –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏! –°–æ–≤–µ—Ä—à–∏—Ç–µ –±–æ–ª—å—à–µ –±–ª–∞–≥–∏—Ö –¥–µ–ª! üìø';
    },
    
    getHolidayMessage: function() {
        const hijri = getHijriDate();
        
        for (let holiday of islamicHolidays) {
            if (holiday.month === hijri.monthIndex) {
                if (holiday.isRamadan && hijri.monthIndex === 9) {
                    return `üåô –ë–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–Ω—ã–π –º–µ—Å—è—Ü –†–∞–º–∞–¥–∞–Ω! –î–∞ –ø—Ä–∏–º–µ—Ç –ê–ª–ª–∞—Ö –≤–∞—à –ø–æ—Å—Ç –∏ –º–æ–ª–∏—Ç–≤—ã!`;
                }
                
                if (holiday.day && hijri.day === holiday.day) {
                    return `üéâ ${holiday.name}! –° –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º! –î–∞ –ø—Ä–∏–º–µ—Ç –ê–ª–ª–∞—Ö –≤–∞—à–µ –ø–æ–∫–ª–æ–Ω–µ–Ω–∏–µ!`;
                }
                
                if (holiday.days && holiday.days.includes(hijri.day)) {
                    return `üìø ${holiday.name} (${hijri.day} –¥–µ–Ω—å). –ó–∞–ø—Ä–µ—â–µ–Ω–æ –ø–æ—Å—Ç–∏—Ç—å—Å—è –≤ —ç—Ç–∏ –¥–Ω–∏!`;
                }
            }
        }
        
        return null;
    },
    
    getPromoMessage: function() {
        const promos = [
            'üì± –ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ @Electric_Group –≤ Telegram!',
            '‚≠ê –û—Å—Ç–∞–≤—å—Ç–µ –æ—Ç–∑—ã–≤ –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≠–ª–µ–∫—Ç—Ä–æ–°–º–µ—Ç–∞!',
            '‚òéÔ∏è –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –º–æ–π +79635984846 –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π',
            'üí° –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ! –°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏!',
            'ü§ù –†–µ–∫–æ–º–µ–Ω–¥—É–π—Ç–µ –Ω–∞—Å –∫–æ–ª–ª–µ–≥–∞–º-—ç–ª–µ–∫—Ç—Ä–∏–∫–∞–º!'
        ];
        return promos[Math.floor(Math.random() * promos.length)];
    },
    
    getNextNotification: function() {
        const fridayMsg = this.getFridayReminder();
        if (fridayMsg) return fridayMsg;
        
        const holidayMsg = this.getHolidayMessage();
        if (holidayMsg) return holidayMsg;
        
        const timeMsg = this.getTimeGreeting();
        
        const shouldShowPromo = Math.random() < 0.3;
        if (shouldShowPromo) {
            return `${timeMsg}\n\n${this.getPromoMessage()}`;
        }
        
        return timeMsg;
    }
};

// ========== –ö–û–ù–ï–¶ –°–ò–°–¢–ï–ú–´ –£–í–ï–î–û–ú–õ–ï–ù–ò–ô ==========
// ========== –§–£–ù–ö–¶–ò–ò –î–õ–Ø –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø –•–ò–î–ñ–†–´ ==========

async function displayHijriDate() {
    const hijri = await getHijriDate(); // ‚Üê –î–û–ë–ê–í–¨–¢–ï await
    const hijriElement = document.createElement('div');
    hijriElement.id = 'hijri-date';
    hijriElement.style.cssText = `
        text-align: center;
        margin: 5px 0;
        font-size: 0.9rem;
        color: #2c3e50;
        font-weight: 500;
        padding: 5px;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border-radius: 5px;
        border: 1px solid #dee2e6;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 28px;
        line-height: 1;
        box-sizing: border-box;
    `;
    
    // –°–Ω–∞—á–∞–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–∏–º –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏
    const daysOfWeek = ['–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ', '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫', '–í—Ç–æ—Ä–Ω–∏–∫', '–°—Ä–µ–¥–∞', '–ß–µ—Ç–≤–µ—Ä–≥', '–ü—è—Ç–Ω–∏—Ü–∞', '–°—É–±–±–æ—Ç–∞'];
    const today = new Date();
    const dayOfWeek = daysOfWeek[today.getDay()];

    // –ò—Å–ø–æ–ª—å–∑—É–µ–º hijri.display –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–π —Å–±–æ—Ä–∫–∏
    hijriElement.innerHTML = `
        <div style="display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: nowrap; line-height: 1;">
            <div style="display: flex; align-items: center; white-space: nowrap;">
                <i class="fas fa-calendar-alt" style="color: #3498db; margin-right: 6px; font-size: 0.95em;"></i>
                <span>${dayOfWeek} ${today.toLocaleDateString('ru-RU')}</span>
            </div>
            <span style="color: #ddd; margin: 0 5px;">|</span>
            <div style="display: flex; align-items: center; white-space: nowrap;">
                <i class="fas fa-mosque" style="color: #27ae60; margin-right: 6px; font-size: 0.95em;"></i>
                <span>${hijri.display}</span> <!-- ‚Üê –ò–°–ü–û–õ–¨–ó–£–ï–ú hijri.display -->
            </div>
        </div>
    `;
    
    const header = document.querySelector('.header');
    if (header && header.parentNode) {
        header.parentNode.insertBefore(hijriElement, header.nextSibling);
    }
}

async function adaptHijriDateForMobile() { // ‚Üê –î–û–ë–ê–í–¨–¢–ï async
    const hijriElement = document.getElementById('hijri-date');
    if (!hijriElement) return;
    
    const hijri = await getHijriDate(); // ‚Üê –î–û–ë–ê–í–¨–¢–ï await
    const today = new Date();
    const daysOfWeek = ['–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ', '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫', '–í—Ç–æ—Ä–Ω–∏–∫', '–°—Ä–µ–¥–∞', '–ß–µ—Ç–≤–µ—Ä–≥', '–ü—è—Ç–Ω–∏—Ü–∞', '–°—É–±–±–æ—Ç–∞'];
    
    if (window.innerWidth <= 767) {
        hijriElement.style.fontSize = '0.75rem';
        hijriElement.style.padding = '4px';
        hijriElement.style.minHeight = '24px';
        
        hijriElement.innerHTML = `
            <div style="display: flex; align-items: center; justify-content: center; gap: 6px; flex-wrap: nowrap; line-height: 1;">
                <div style="display: flex; align-items: center; white-space: nowrap;">
                    <i class="fas fa-calendar-alt" style="color: #3498db; margin-right: 4px; font-size: 0.85em;"></i>
                    <span style="font-size: 0.95em;">${daysOfWeek[today.getDay()]} ${today.toLocaleDateString('ru-RU')}</span>
                </div>
                <span style="color: #ddd; margin: 0 3px;">|</span>
                <div style="display: flex; align-items: center; white-space: nowrap;">
                    <i class="fas fa-mosque" style="color: #27ae60; margin-right: 4px; font-size: 0.85em;"></i>
                    <span style="font-size: 0.95em;">${hijri.display}</span> <!-- ‚Üê –ò–°–ü–û–õ–¨–ó–£–ï–ú hijri.display -->
                </div>
            </div>
        `;
    } else if (window.innerWidth <= 992) {
        // –î–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤
        hijriElement.style.fontSize = '0.85rem';
        hijriElement.style.padding = '5px';
        hijriElement.style.minHeight = '26px';
        
        hijriElement.innerHTML = `
            <div style="display: flex; align-items: center; justify-content: center; gap: 8px; flex-wrap: nowrap; line-height: 1;">
                <div style="display: flex; align-items: center; white-space: nowrap;">
                    <i class="fas fa-calendar-alt" style="color: #3498db; margin-right: 5px; font-size: 0.9em;"></i>
                    <span>${daysOfWeek[today.getDay()]} ${today.toLocaleDateString('ru-RU')}</span>
                </div>
                <span style="color: #ddd; margin: 0 4px;">|</span>
                <div style="display: flex; align-items: center; white-space: nowrap;">
                    <i class="fas fa-mosque" style="color: #27ae60; margin-right: 5px; font-size: 0.9em;"></i>
                    <span>${hijri.display}</span> <!-- ‚Üê –ò–°–ü–û–õ–¨–ó–£–ï–ú hijri.display -->
                </div>
            </div>
        `;
    } else {
        // –î–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞
        hijriElement.style.fontSize = '0.9rem';
        hijriElement.style.padding = '5px';
        hijriElement.style.minHeight = '28px';
        
        hijriElement.innerHTML = `
            <div style="display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: nowrap; line-height: 1;">
                <div style="display: flex; align-items: center; white-space: nowrap;">
                    <i class="fas fa-calendar-alt" style="color: #3498db; margin-right: 6px; font-size: 0.95em;"></i>
                    <span>${daysOfWeek[today.getDay()]} ${today.toLocaleDateString('ru-RU')}</span>
                </div>
                <span style="color: #ddd; margin: 0 5px;">|</span>
                <div style="display: flex; align-items: center; white-space: nowrap;">
                    <i class="fas fa-mosque" style="color: #27ae60; margin-right: 6px; font-size: 0.95em;"></i>
                    <span>${hijri.display}</span> <!-- ‚Üê –ò–°–ü–û–õ–¨–ó–£–ï–ú hijri.display -->
                </div>
            </div>
        `;
    }
}
		

// ========== –ö–û–ù–ï–¶ –§–£–ù–ö–¶–ò–ô –•–ò–î–ñ–†–´ ==========
// ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ò–°–õ–ê–ú–°–ö–ò–• –§–£–ù–ö–¶–ò–ô ==========

async function initializeIslamicFeatures() { // ‚Üê –î–û–ë–ê–í–¨–¢–ï async
    // 1. –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –¥–∞—Ç—É –ø–æ –•–∏–¥–∂—Ä–µ
    await displayHijriDate(); // ‚Üê –î–û–ë–ê–í–¨–¢–ï await
    
    // 2. –ê–¥–∞–ø—Ç–∏—Ä—É–µ–º –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö (–Ω–µ –≤—ã–∑—ã–≤–∞–µ–º –∑–¥–µ—Å—å, –æ–Ω–∞ —É–∂–µ –≤—ã–∑–≤–∞–Ω–∞ –≤ displayHijriDate)
    // adaptHijriDateForMobile(); // ‚Üê –£–ë–ï–†–ò–¢–ï —ç—Ç—É —Å—Ç—Ä–æ–∫—É
    window.addEventListener('resize', () => adaptHijriDateForMobile());
    
    // 3. –ü–µ—Ä–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    setTimeout(() => {
        const message = notificationSystem.getNextNotification();
        showNotification(message);
    }, 1000);
    
    // 4. –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞)
    setInterval(() => {
        const message = notificationSystem.getNextNotification();
        showNotification(message);
    }, 2 * 60 * 60 * 1000);
    
    // 5. –ü—è—Ç–Ω–∏—á–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
    setInterval(() => {
        const now = new Date();
        if (now.getDay() === 5 && now.getHours() === 11) {
            showNotification('üïå –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ: –î–∂—É–º–∞-–Ω–∞–º–∞–∑ —Å–∫–æ—Ä–æ! –ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å –∫ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–π –º–æ–ª–∏—Ç–≤–µ.');
        }
        
        if (now.getDay() === 5 && now.getHours() === 15) {
            showNotification('üïã –°–µ–π—á–∞—Å –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å –ø—è—Ç–Ω–∏—Ü—ã! –û—Å–æ–±–æ–µ –≤—Ä–µ–º—è –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –¥—É–∞!');
        }
    }, 60 * 1000);
}
// ========== –ö–û–ù–ï–¶ –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–ò ==========
		// –§—É–Ω–∫—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞–ª—é—Ç—ã
function formatCurrency(amount) {
    if (isNaN(amount)) return '0';
    return new Intl.NumberFormat('ru-RU').format(parseFloat(amount).toFixed(2));
}

function showNotification(message) {
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –º–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
    const isMobile = window.innerWidth <= 767;
    
    // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    const notification = document.createElement('div');
    notification.style.cssText = `
        position: fixed;
        ${isMobile ? 
            'bottom: 20px; left: 15px; right: 15px;' :  // –ù–ê –ú–û–ë–ò–õ–¨–ù–´–•: –≤–Ω–∏–∑—É, –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É
            'top: 10px; right: 10px;'                    // –ù–ê –î–ï–°–ö–¢–û–ü–ï: –≤–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞
        }
        background: #27ae60;
        color: white;
        padding: ${isMobile ? '12px 15px' : '10px 15px'};
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        z-index: 9999;
        font-weight: 500;
        ${isMobile ? 
            'max-width: calc(100vw - 30px); width: auto;' :  // –ù–ê –ú–û–ë–ò–õ–¨–ù–´–•: –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è —à–∏—Ä–∏–Ω–∞
            'max-width: 370px;'                              // –ù–ê –î–ï–°–ö–¢–û–ü–ï: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞
        }
        animation: ${isMobile ? 'slideInUp 0.3s ease-out' : 'slideIn 0.3s ease-out'};
        word-wrap: break-word;
        word-break: break-word;  /* –í–ê–ñ–ù–û –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        line-height: 1.4;
        text-align: ${isMobile ? 'center' : 'left'};
        font-size: ${isMobile ? '14px' : '13px'};
    `;
    
    notification.innerHTML = `
        <div style="display: flex; align-items: center; ${isMobile ? 'justify-content: center;' : ''} gap: 8px;">
            <i class="fas fa-check-circle"></i>
            <span>${message}</span>
        </div>
    `;
    
    document.body.appendChild(notification);
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã (–¥–æ–ª—å—à–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)
    setTimeout(() => {
        notification.style.animation = isMobile ? 'slideOutDown 0.3s ease-out' : 'slideOut 0.3s ease-out';
        setTimeout(() => {
            if (notification.parentNode) {
                document.body.removeChild(notification);
            }
        }, 300);
    }, isMobile ? 4000 : 3000); // –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–æ–ª—å—à–µ
    
    // –î–æ–±–∞–≤–ª—è–µ–º CSS –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
    if (!document.querySelector('#notification-animations')) {
        const style = document.createElement('style');
        style.id = 'notification-animations';
        style.textContent = `
            @keyframes slideIn {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            @keyframes slideOut {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(100%);
                    opacity: 0;
                }
            }
            @keyframes slideInUp {
                from {
                    transform: translateY(100%);
                    opacity: 0;
                }
                to {
                    transform: translateY(0);
                    opacity: 1;
                }
            }
            @keyframes slideOutDown {
                from {
                    transform: translateY(0);
                    opacity: 1;
                }
                to {
                    transform: translateY(100%);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
    }
}

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–∞—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
function setupDate() {
    const today = new Date().toISOString().split('T')[0];
    const dateInput = document.getElementById('estimateDate');
    if (dateInput) {
        dateInput.value = today;
    }
}

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM –∑–∞–≥—Ä—É–∂–µ–Ω, –Ω–∞—á–∏–Ω–∞–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é');
            
            // –î–ª—è iOS –ø—Ä–∏–º–µ–Ω—è–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            if (isIOS) {
                console.log('–û–±–Ω–∞—Ä—É–∂–µ–Ω iOS, –ø—Ä–∏–º–µ–Ω—è–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è');
                initForIOS();
                
                // –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è iOS —á—Ç–æ–±—ã –≤—Å–µ —É—Å–ø–µ–ª–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è
                setTimeout(initializeApp, 100);
            } else {
                initializeApp();
            }
        });

async function initializeApp() { // ‚Üê –î–û–ë–ê–í–¨–¢–ï async
    console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è');
    
    initializeEstimateData();
    renderPriceList();
    renderEstimateTable();
    updateTotals();
    updateEstimateCounter();
    setupEventListeners();
    setupDate();
    await initializeIslamicFeatures(); // ‚Üê –î–û–ë–ê–í–¨–¢–ï await
    showTab('price');
    
    console.log('–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ');
}

function initializeEstimateData() {
    // –°–æ–∑–¥–∞–µ–º 50 –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫ –¥–ª—è —Å–º–µ—Ç—ã (–±–æ–ª—å—à–µ —á–µ–º –Ω—É–∂–Ω–æ)
    estimateData = Array(50).fill().map((_, i) => ({
        id: i + 1,
        priceId: "",
        name: "",
        unit: "",
        price: 0,
        quantity: 1,
        total: 0,
        notes: "",
        isMaterial: false
    }));
}

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤–∫–ª–∞–¥–æ–∫
        function showTab(tabName) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
                tab.classList.remove('active');
            });
            
            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            const tabContent = document.getElementById(`${tabName}-tab`);
            const tabBtn = document.getElementById(`${tabName}TabBtn`);
            
            if (tabContent) {
                tabContent.style.display = 'block';
                tabContent.classList.add('active');
            }
            
            if (tabBtn) {
                tabBtn.classList.add('active');
            }
        }

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞ (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –≤–∏–¥–µ–æ)
        function renderPriceList() {
            console.log('–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞ —Å –≤–∏–¥–µ–æ-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º');
            const priceListContainer = document.getElementById('priceList');
            
            if (!priceListContainer) {
                console.error('–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω!');
                return;
            }
            
            priceListContainer.innerHTML = '';
            
            priceData.forEach(section => {
                const sectionElement = document.createElement('div');
                sectionElement.className = 'price-section';
                
                const sectionHeader = document.createElement('div');
                sectionHeader.className = 'section-header';
                sectionHeader.innerHTML = `
                    ${section.section}
                    <i class="fas fa-chevron-down"></i>
                `;
                
                const itemsContainer = document.createElement('div');
                itemsContainer.className = 'section-content';
                
                // –†–∞—Å–∫—Ä—ã–≤–∞–µ–º –ø–µ—Ä–≤—É—é —Å–µ–∫—Ü–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                if (section.section.includes("‚ë† –ú–æ–Ω—Ç–∞–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã")) {
                    itemsContainer.classList.add('expanded');
                    sectionHeader.querySelector('i').className = 'fas fa-chevron-up';
                }
                
                section.items.forEach(item => {
                    const itemElement = document.createElement('div');
                    itemElement.className = 'price-item';
                    itemElement.dataset.id = item.id;
                    
                    // –°–æ–∑–¥–∞–µ–º –Ω–æ–º–µ—Ä —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∫–ª–∏–∫–∞ –¥–ª—è –≤–∏–¥–µ–æ
                    const numberDiv = document.createElement('div');
                    numberDiv.className = 'item-number';
                    numberDiv.textContent = item.id;
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –Ω–æ–º–µ—Ä
                    numberDiv.addEventListener('click', function(e) {
                        e.stopPropagation(); // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –≤—Å–ø–ª—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏—è
                        playVideoByNumber(item.id);
                    });
                    
                    // –°–æ–∑–¥–∞–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
                    const nameDiv = document.createElement('div');
                    nameDiv.className = 'item-name';
                    nameDiv.textContent = item.name;
                    
                    const unitDiv = document.createElement('div');
                    unitDiv.className = 'item-unit';
                    unitDiv.textContent = item.unit;
                    
                    const priceDiv = document.createElement('div');
                    priceDiv.className = 'item-price';
                    priceDiv.textContent = formatCurrency(item.price);
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã
                    itemElement.appendChild(numberDiv);
                    itemElement.appendChild(nameDiv);
                    itemElement.appendChild(unitDiv);
                    itemElement.appendChild(priceDiv);
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ —Å–º–µ—Ç—É (–Ω–∞ –≤—Å—é —Å—Ç—Ä–æ–∫—É, –∫—Ä–æ–º–µ –Ω–æ–º–µ—Ä–∞)
                    itemElement.addEventListener('click', function(e) {
                        // –ï—Å–ª–∏ –∫–ª–∏–∫–Ω—É–ª–∏ –Ω–µ –Ω–∞ –Ω–æ–º–µ—Ä–µ - –¥–æ–±–∞–≤–ª—è–µ–º –≤ —Å–º–µ—Ç—É
                        if (!e.target.classList.contains('item-number')) {
                            addToEstimate(item);
                            showNotification(`–î–æ–±–∞–≤–ª–µ–Ω–æ: ${item.name.substring(0, 80)}...`);
                        }
                    });
                    
                    itemsContainer.appendChild(itemElement);
                    
                    // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –≤–∏–¥–µ–æ –∏ –æ–±–Ω–æ–≤–ª—è–µ–º –∫–ª–∞—Å—Å
                    checkVideoExists(item.id).then(exists => {
                        if (exists) {
                            numberDiv.classList.add('video-available');
                        }
                    });
                });
                
                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è/—Å–∫—Ä—ã—Ç–∏—è —Å–µ–∫—Ü–∏–∏
                sectionHeader.addEventListener('click', function() {
                    const isExpanded = itemsContainer.classList.contains('expanded');
                    const icon = this.querySelector('i');
                    
                    if (isExpanded) {
                        itemsContainer.classList.remove('expanded');
                        icon.className = 'fas fa-chevron-down';
                    } else {
                        itemsContainer.classList.add('expanded');
                        icon.className = 'fas fa-chevron-up';
                    }
                });
                
                sectionElement.appendChild(sectionHeader);
                sectionElement.appendChild(itemsContainer);
                priceListContainer.appendChild(sectionElement);
            });
            
            console.log('–ü—Ä–∞–π—Å-–ª–∏—Å—Ç —Å –≤–∏–¥–µ–æ-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω');
        }

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–∞–±–ª–∏—Ü—ã —Å–º–µ—Ç—ã (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –≤–∏–¥–µ–æ)
        function renderEstimateTable() {
            const tableBody = document.getElementById('estimateTable');
            if (!tableBody) {
                console.error('–¢–∞–±–ª–∏—Ü–∞ —Å–º–µ—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!');
                return;
            }
            
            tableBody.innerHTML = '';
            
            // –ü–æ–ª—É—á–∞–µ–º –í–°–ï —Å—Ç—Ä–æ–∫–∏ –∏–∑ estimateData
            const allRows = estimateData;
            console.log(`–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ ${allRows.length} —Å—Ç—Ä–æ–∫ —Å–º–µ—Ç—ã —Å –≤–∏–¥–µ–æ-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º`);
            
            // –†–µ–Ω–¥–µ—Ä–∏–º –í–°–ï —Å—Ç—Ä–æ–∫–∏
            allRows.forEach((row, index) => {
                const tr = document.createElement('tr');
                if (row.isMaterial) {
                    tr.classList.add('material-row');
                }
                
                // –°–æ–∑–¥–∞–µ–º —è—á–µ–π–∫—É —Å –∫–æ–¥–æ–º, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–π –µ—Å–ª–∏ –µ—Å—Ç—å –≤–∏–¥–µ–æ
                const priceIdCell = document.createElement('td');
                priceIdCell.className = 'price-id-cell';
                
                if (row.priceId && !isNaN(parseInt(row.priceId))) {
                    // –≠—Ç–æ —á–∏—Å–ª–æ–≤–æ–π ID (–Ω–µ –º–∞—Ç–µ—Ä–∏–∞–ª)
                    const numberSpan = document.createElement('span');
                    numberSpan.textContent = row.priceId;
                    numberSpan.style.cursor = 'pointer';
                    numberSpan.style.color = '#3498db';
                    numberSpan.style.fontWeight = 'bold';
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
                    numberSpan.addEventListener('click', function(e) {
                        e.stopPropagation();
                        playVideoByNumber(row.priceId);
                    });
                    
                    priceIdCell.appendChild(numberSpan);
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –≤–∏–¥–µ–æ
                    checkVideoExists(row.priceId).then(exists => {
                        if (exists) {
                            numberSpan.style.color = '#e74c3c';
                            numberSpan.style.textDecoration = 'underline';
                            numberSpan.style.textDecorationStyle = 'dotted';
                            
                            // –î–æ–±–∞–≤–ª—è–µ–º –∏–∫–æ–Ω–∫—É –≤–∏–¥–µ–æ
                            const videoIcon = document.createElement('i');
                            videoIcon.className = 'fas fa-video';
                            videoIcon.style.marginLeft = '5px';
                            videoIcon.style.fontSize = '10px';
                            videoIcon.style.color = '#e74c3c';
                            priceIdCell.appendChild(videoIcon);
                        }
                    });
                } else {
                    // –≠—Ç–æ –º–∞—Ç–µ—Ä–∏–∞–ª –∏–ª–∏ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞
                    priceIdCell.textContent = row.priceId || '';
                }
                
                // –°–æ–∑–¥–∞–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ —è—á–µ–π–∫–∏
                const nameCell = document.createElement('td');
                nameCell.className = 'search-cell';
                nameCell.innerHTML = `
                    <input type="text" class="search-input" 
                           data-row="${index}" 
                           value="${row.name.replace(/"/g, '&quot;')}"
                           placeholder="${row.isMaterial ? '–ú–∞—Ç–µ—Ä–∏–∞–ª...' : '–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ...'}"
                           autocomplete="off">
                    <div class="dropdown" id="dropdown-${index}"></div>
                `;
                
                const unitCell = document.createElement('td');
                unitCell.className = 'unit-cell';
                unitCell.textContent = row.unit || '';
                
                const priceCell = document.createElement('td');
                priceCell.className = 'price-cell';
                priceCell.innerHTML = `
                    <input type="number" class="number-input price-input" 
                           data-row="${index}" 
                           value="${row.price || ''}" 
                           min="0" step="0.01">
                `;
                
                const quantityCell = document.createElement('td');
                quantityCell.className = 'quantity-cell';
                quantityCell.innerHTML = `
                    <input type="number" class="number-input quantity-input" 
                           data-row="${index}" 
                           value="${row.quantity || 1}" 
                           min="1" step="1">
                `;
                
                const totalCell = document.createElement('td');
                totalCell.className = 'total-cell';
                totalCell.textContent = formatCurrency(row.total);
                
                const actionsCell = document.createElement('td');
                actionsCell.className = 'actions-cell';
                actionsCell.innerHTML = `<i class="fas fa-trash delete-row" data-row="${index}"></i>`;
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ —è—á–µ–π–∫–∏ –≤ —Å—Ç—Ä–æ–∫—É
                tr.appendChild(priceIdCell);
                tr.appendChild(nameCell);
                tr.appendChild(unitCell);
                tr.appendChild(priceCell);
                tr.appendChild(quantityCell);
                tr.appendChild(totalCell);
                tr.appendChild(actionsCell);
                
                tableBody.appendChild(tr);
            });
            
            // –ü–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ —Ä–µ–∞–ª—å–Ω–æ –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω–æ
            const renderedRows = tableBody.querySelectorAll('tr').length;
            console.log(`–û—Ç–æ–±—Ä–∞–∂–µ–Ω–æ ${renderedRows} —Å—Ç—Ä–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ`);
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫
            setupRowEventListeners();
        }

        function setupEventListeners() {
            console.log('–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π');
            
            // –í–∫–ª–∞–¥–∫–∏
            document.getElementById('priceTabBtn').addEventListener('click', function() {
                showTab('price');
            });
            
            document.getElementById('estimateTabBtn').addEventListener('click', function() {
                showTab('estimate');
            });
            
            // –ü–æ–∏—Å–∫ –ø–æ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç—É
            const priceSearch = document.getElementById('priceSearch');
            if (priceSearch) {
                priceSearch.addEventListener('input', function(e) {
                    const searchTerm = e.target.value.toLowerCase();
                    const allItems = document.querySelectorAll('.price-item');
                    
                    allItems.forEach(item => {
                        const text = item.textContent.toLowerCase();
                        if (text.includes(searchTerm)) {
                            item.style.display = 'grid';
                            // –†–∞—Å–∫—Ä—ã–≤–∞–µ–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é —Å–µ–∫—Ü–∏—é
                            const section = item.closest('.price-section');
                            if (section) {
                                const content = section.querySelector('.section-content');
                                content.classList.add('expanded');
                                section.querySelector('i').className = 'fas fa-chevron-up';
                            }
                        } else {
                            item.style.display = 'none';
                        }
                    });
                });
            }
            
            // –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            const dropdownBtn = document.getElementById('controlsDropdown');
            const menu = document.getElementById('controlsMenu');
            
            if (dropdownBtn && menu) {
                dropdownBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    menu.classList.toggle('show');
                });
                
                // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
                document.addEventListener('click', function(e) {
                    if (!e.target.closest('.dropdown-controls')) {
                        menu.classList.remove('show');
                    }
                });
                
                // –ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é
                document.getElementById('addRowBtn').addEventListener('click', function() {
                    addEmptyRow();
                    updateEstimateCounter();
                    menu.classList.remove('show');
                });
                
                document.getElementById('addMaterialBtn').addEventListener('click', function() {
                    showMaterialModal();
                    menu.classList.remove('show');
                });
                
// –û–ë–ù–û–í–õ–ï–ù–ò–ï –°–ú–ï–¢–´ –ò –ü–†–û–í–ï–†–ö–ê –í–ï–†–°–ò–ô
document.getElementById('refreshEstimateBtn').addEventListener('click', async function() {
    try {
        // 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Ä—Å–∏—é –≤ sw.js
        const swResponse = await fetch('sw.js?t=' + Date.now());
        const swCode = await swResponse.text();
        const versionMatch = swCode.match(/const APP_VERSION\s*=\s*['"]([^'"]+)['"]/);
        
        if (!versionMatch) {
            showNotification('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é');
            menu.classList.remove('show');
            return;
        }
        
        const currentSWVersion = versionMatch[1];
        const myVersion = localStorage.getItem('app_version') || '1.0.0';
        
        // 2. –ï—Å–ª–∏ –≤–µ—Ä—Å–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞ - –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –æ–±—ã—á–Ω—ã–π —Å–±—Ä–æ—Å
        if (currentSWVersion === myVersion) {
            if (confirm('–£ –≤–∞—Å –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è!\n\n–•–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–º–µ—Ç—ã?')) {
                localStorage.removeItem('electroEstimates');
                showNotification('‚úÖ –î–∞–Ω–Ω—ã–µ —Å–º–µ—Ç—ã –æ—á–∏—â–µ–Ω—ã');
            }
            menu.classList.remove('show');
            return;
        }
        
        // 3. –ï—Å–ª–∏ –µ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
        const updateConfirmed = confirm(
            `üéâ –î–û–°–¢–£–ü–ù–û –û–ë–ù–û–í–õ–ï–ù–ò–ï!\n\n` +
            `–í–∞—à–∞ –≤–µ—Ä—Å–∏—è: ${myVersion}\n` +
            `–ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è: ${currentSWVersion}\n\n` +
            `–û–±–Ω–æ–≤–∏—Ç—å —Å–µ–π—á–∞—Å? (–ó–∞–≥—Ä—É–∑–∏—Ç –Ω–æ–≤—ã–π –ø—Ä–∞–π—Å-–ª–∏—Å—Ç)`
        );
        
        if (updateConfirmed) {
            // –û—á–∏—â–∞–µ–º –í–°–Å –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
            try {
                localStorage.clear();
                sessionStorage.clear();
                
                if ('serviceWorker' in navigator) {
                    const reg = await navigator.serviceWorker.getRegistration();
                    if (reg) await reg.unregister();
                    
                    if ('caches' in window) {
                        const cacheNames = await caches.keys();
                        for (const cacheName of cacheNames) {
                            await caches.delete(cacheName);
                        }
                    }
                }
                
                console.log('‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—á–∏—â–µ–Ω—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è');
                showNotification('üîÑ –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é...');
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—á–∏—Å—Ç–∫–∏:', error);
            }
            
            // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º
            setTimeout(() => {
                window.location.reload();
            }, 1000);
        }
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:', error);
        showNotification('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π');
    }
    
    menu.classList.remove('show');
});
                
                document.getElementById('saveEstimateBtn').addEventListener('click', function() {
                    saveEstimate();
                    menu.classList.remove('show');
                });
                
                document.getElementById('loadEstimateBtn').addEventListener('click', function() {
                    showLoadModal();
                    menu.classList.remove('show');
                });
                
                document.getElementById('printEstimateBtn').addEventListener('click', function() {
                    showPrintModal();
                    menu.classList.remove('show');
                });
                
                document.getElementById('saveAsPdfBtn').addEventListener('click', function() {
                    saveAsPDF();
                    menu.classList.remove('show');
                });
                
                document.getElementById('printPriceBtn').addEventListener('click', function() {
                    printPriceList();
                });
            }
            
            // –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
            document.getElementById('closeMaterialModal').addEventListener('click', function() {
                document.getElementById('materialModal').style.display = 'none';
            });
            
            document.getElementById('closePrintModal').addEventListener('click', function() {
                document.getElementById('printModal').style.display = 'none';
            });
            
            document.getElementById('closeLoadModal').addEventListener('click', function() {
                document.getElementById('loadModal').style.display = 'none';
            });
            
            document.getElementById('addMaterialToEstimate').addEventListener('click', function() {
                addMaterialFromModal();
            });
            
            document.getElementById('generatePrint').addEventListener('click', function() {
                generatePrint();
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ñ–æ–Ω
            window.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal')) {
                    e.target.style.display = 'none';
                }
            });
            
            console.log('–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã');
        }

        function setupRowEventListeners() {
            // –ü–æ–∏—Å–∫ –∏ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫
            document.querySelectorAll('.search-input').forEach(input => {
                const rowIndex = parseInt(input.dataset.row);
                const row = estimateData[rowIndex];
                
                if (!row.isMaterial) {
                    input.addEventListener('input', function(e) {
                        const searchTerm = e.target.value;
                        
                        if (searchTerm.length > 1) {
                            showDropdown(rowIndex, searchTerm);
                        } else {
                            hideDropdown(rowIndex);
                        }
                    });
                    
                    input.addEventListener('focus', function() {
                        const searchTerm = this.value;
                        
                        if (searchTerm.length > 1) {
                            showDropdown(rowIndex, searchTerm);
                        }
                    });
                }
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–æ–≤
            document.addEventListener('click', function(e) {
                if (!e.target.classList.contains('search-input')) {
                    hideAllDropdowns();
                }
            });
            
            // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã
            document.querySelectorAll('.price-input').forEach(input => {
                input.addEventListener('change', function() {
                    const rowIndex = parseInt(this.dataset.row);
                    updateRowTotal(rowIndex);
                    updateEstimateCounter();
                });
            });
            
            // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
            document.querySelectorAll('.quantity-input').forEach(input => {
                input.addEventListener('change', function() {
                    const rowIndex = parseInt(this.dataset.row);
                    updateRowTotal(rowIndex);
                    updateEstimateCounter();
                });
            });
            
            // –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏
            document.querySelectorAll('.delete-row').forEach(button => {
                button.addEventListener('click', function() {
                    const rowIndex = parseInt(this.dataset.row);
                    deleteRow(rowIndex);
                    updateEstimateCounter();
                });
            });
        }

        // –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        function addToEstimate(item) {
            // –ò—â–µ–º –ø–µ—Ä–≤—É—é –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É
            let emptyRowIndex = estimateData.findIndex(row => !row.priceId && !row.isMaterial && row.name.trim() === '');
            
            // –ï—Å–ª–∏ –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫ –Ω–µ—Ç, –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é
            if (emptyRowIndex === -1) {
                addEmptyRow();
                emptyRowIndex = estimateData.length - 1;
            }
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º —Å—Ç—Ä–æ–∫—É
            estimateData[emptyRowIndex] = {
                ...estimateData[emptyRowIndex],
                priceId: item.id,
                name: item.name,
                unit: item.unit,
                price: item.price,
                quantity: 1,
                total: item.price,
                isMaterial: false
            };
            
            renderEstimateTable();
            updateTotals();
            updateEstimateCounter();
        }

function addEmptyRow() {
    const newId = estimateData.length + 1;
    estimateData.push({
        id: newId,
        priceId: "",
        name: "",
        unit: "",
        price: 0,
        quantity: 1,
        total: 0,
        notes: "",
        isMaterial: false
    });
    
    renderEstimateTable();
    console.log(`–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞. –í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫: ${estimateData.length}`);
}

        function deleteRow(rowIndex) {
            if (estimateData.length <= 1) {
                alert('–°–º–µ—Ç–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É');
                return;
            }
            
            estimateData.splice(rowIndex, 1);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ—Ä—è–¥–∫–æ–≤—ã–µ –Ω–æ–º–µ—Ä–∞
            estimateData.forEach((row, index) => {
                row.id = index + 1;
            });
            
            renderEstimateTable();
            updateTotals();
        }

        function updateRowTotal(rowIndex) {
            const priceInput = document.querySelector(`.price-input[data-row="${rowIndex}"]`);
            const quantityInput = document.querySelector(`.quantity-input[data-row="${rowIndex}"]`);
            
            const price = parseFloat(priceInput.value) || 0;
            const quantity = parseInt(quantityInput.value) || 1;
            
            estimateData[rowIndex].price = price;
            estimateData[rowIndex].quantity = quantity;
            estimateData[rowIndex].total = price * quantity;
            
            const totalCell = document.querySelector(`tr:nth-child(${rowIndex + 1}) .total-cell`);
            if (totalCell) {
                totalCell.textContent = formatCurrency(estimateData[rowIndex].total);
            }
            
            updateTotals();
        }

        function updateTotals() {
            const totalAmount = estimateData.reduce((sum, row) => sum + row.total, 0);
            document.getElementById('totalAmount').textContent = formatCurrency(totalAmount);
        }

        function updateEstimateCounter() {
            const filledRows = estimateData.filter(row => 
                (row.priceId || row.name.trim() !== '') && !row.isMaterial
            ).length;
            
            const counterElement = document.getElementById('estimateCounter');
            counterElement.textContent = filledRows;
            
            if (filledRows === 0) {
                counterElement.style.backgroundColor = '#6c757d';
            } else if (filledRows < 5) {
                counterElement.style.backgroundColor = '#f39c12';
            } else {
                counterElement.style.backgroundColor = '#27ae60';
            }
        }

function clearEstimate() {
    if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å—é —Å–º–µ—Ç—É?')) {
        estimateData = [{
            id: 1,
            priceId: "",
            name: "",
            unit: "",
            price: 0,
            quantity: 1,
            total: 0,
            notes: "",
            isMaterial: false
        }];
        
        renderEstimateTable();
        updateTotals();
        updateEstimateCounter();
        showNotification('–°–º–µ—Ç–∞ –æ—á–∏—â–µ–Ω–∞');
    }
}

        // –ú–∞—Ç–µ—Ä–∏–∞–ª—ã
        function showMaterialModal() {
            document.getElementById('materialName').value = '';
            document.getElementById('materialUnit').value = '—à—Ç.';
            document.getElementById('materialPrice').value = '';
            document.getElementById('materialQuantity').value = '1';
            
            document.getElementById('materialModal').style.display = 'flex';
        }

        function addMaterialFromModal() {
            const name = document.getElementById('materialName').value.trim();
            const unit = document.getElementById('materialUnit').value;
            const price = parseFloat(document.getElementById('materialPrice').value) || 0;
            const quantity = parseInt(document.getElementById('materialQuantity').value) || 1;
            
            if (!name) {
                alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞');
                return;
            }
            
            if (price <= 0) {
                alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ü–µ–Ω—É');
                return;
            }
            
            let emptyRowIndex = estimateData.findIndex(row => row.name.trim() === '');
            
            if (emptyRowIndex === -1) {
                addEmptyRow();
                emptyRowIndex = estimateData.length - 1;
            }
            
            estimateData[emptyRowIndex] = {
                id: estimateData[emptyRowIndex].id,
                priceId: `MAT${nextMaterialId++}`,
                name: name,
                unit: unit,
                price: price,
                quantity: quantity,
                total: price * quantity,
                notes: "",
                isMaterial: true
            };
            
            renderEstimateTable();
            updateTotals();
            updateEstimateCounter();
            document.getElementById('materialModal').style.display = 'none';
            
            showTab('estimate');
            showNotification(`–ú–∞—Ç–µ—Ä–∏–∞–ª –¥–æ–±–∞–≤–ª–µ–Ω: ${name.substring(0, 30)}...`);
        }

        // –í—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏
        function showDropdown(rowIndex, searchTerm) {
            hideAllDropdowns();
            
            const dropdown = document.getElementById(`dropdown-${rowIndex}`);
            dropdown.innerHTML = '';
            
            const matches = [];
            priceData.forEach(section => {
                section.items.forEach(item => {
                    if (item.name.toLowerCase().includes(searchTerm.toLowerCase()) || 
                        item.id.toString().includes(searchTerm)) {
                        matches.push(item);
                    }
                });
            });
            
            if (matches.length === 0) {
                const noResults = document.createElement('div');
                noResults.className = 'dropdown-item';
                noResults.textContent = '–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ';
                dropdown.appendChild(noResults);
            } else {
                matches.slice(0, 10).forEach(item => {
                    const itemElement = document.createElement('div');
                    itemElement.className = 'dropdown-item';
                    itemElement.innerHTML = `
                        <strong>${item.id}</strong>: ${item.name.substring(0, 50)}${item.name.length > 50 ? '...' : ''} (${item.unit}) - ${formatCurrency(item.price)}
                    `;
                    
                    itemElement.addEventListener('click', function() {
                        selectPriceItem(rowIndex, item);
                        hideDropdown(rowIndex);
                    });
                    
                    dropdown.appendChild(itemElement);
                });
            }
            
            dropdown.style.display = 'block';
        }

        function hideDropdown(rowIndex) {
            const dropdown = document.getElementById(`dropdown-${rowIndex}`);
            if (dropdown) {
                dropdown.style.display = 'none';
            }
        }

        function hideAllDropdowns() {
            document.querySelectorAll('.dropdown').forEach(dropdown => {
                dropdown.style.display = 'none';
            });
        }

        function selectPriceItem(rowIndex, item) {
            const searchInput = document.querySelector(`.search-input[data-row="${rowIndex}"]`);
            const priceIdCell = document.querySelector(`tr:nth-child(${rowIndex + 1}) .price-id-cell`);
            const unitCell = document.querySelector(`tr:nth-child(${rowIndex + 1}) .unit-cell`);
            const priceInput = document.querySelector(`.price-input[data-row="${rowIndex}"]`);
            
            if (searchInput && priceIdCell && unitCell && priceInput) {
                searchInput.value = item.name;
                priceIdCell.textContent = item.id;
                unitCell.textContent = item.unit;
                priceInput.value = item.price;
                
                estimateData[rowIndex].priceId = item.id;
                estimateData[rowIndex].name = item.name;
                estimateData[rowIndex].unit = item.unit;
                estimateData[rowIndex].price = item.price;
                estimateData[rowIndex].total = item.price * estimateData[rowIndex].quantity;
                estimateData[rowIndex].isMaterial = false;
                
                const totalCell = document.querySelector(`tr:nth-child(${rowIndex + 1}) .total-cell`);
                if (totalCell) {
                    totalCell.textContent = formatCurrency(estimateData[rowIndex].total);
                }
                
                updateTotals();
                updateEstimateCounter();
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞
function saveEstimate() {
    const estimateName = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–º–µ—Ç—ã:', `–°–º–µ—Ç–∞ ${new Date().toLocaleDateString()}`);
    
    if (estimateName) {
        // –§–∏–ª—å—Ç—Ä—É–µ–º –¢–û–õ–¨–ö–û –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
        const filledRows = estimateData.filter(row => 
            row.priceId || row.name.trim() !== '' || row.isMaterial
        );
        
        const estimateToSave = {
            id: Date.now(),
            name: estimateName,
            date: new Date().toISOString(),
            data: filledRows.map(row => ({ ...row })), // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ
            totals: {
                totalAmount: parseFloat(document.getElementById('totalAmount').textContent.replace(/\s/g, ''))
            }
        };
        
        savedEstimates.push(estimateToSave);
        localStorage.setItem('electroEstimates', JSON.stringify(savedEstimates));
        
        showNotification(`–°–º–µ—Ç–∞ "${estimateName}" —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ (${filledRows.length} —Å—Ç—Ä–æ–∫)`);
    }
}
        function showLoadModal() {
            const listContainer = document.getElementById('savedEstimatesList');
            listContainer.innerHTML = '';
            
            if (savedEstimates.length === 0) {
                listContainer.innerHTML = '<p style="text-align: center; color: #666;">–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Å–º–µ—Ç.</p>';
            } else {
                savedEstimates.forEach(estimate => {
                    const estimateElement = document.createElement('div');
                    estimateElement.className = 'dropdown-item';
                    estimateElement.style.cursor = 'pointer';
                    estimateElement.innerHTML = `
                        <strong>${estimate.name}</strong><br>
                        <small>${new Date(estimate.date).toLocaleDateString()}, 
                        ${estimate.data.length} –ø–æ–∑–∏—Ü–∏–π, 
                        –ò—Ç–æ–≥–æ: ${formatCurrency(estimate.totals.totalAmount)}</small>
                        <button class="delete-saved" data-id="${estimate.id}" style="float: right; background: none; border: none; color: #e74c3c; cursor: pointer;">
                            <i class="fas fa-trash"></i>
                        </button>
                    `;
                    
                    estimateElement.addEventListener('click', function(e) {
                        if (!e.target.closest('.delete-saved')) {
                            loadEstimate(estimate.id);
                            document.getElementById('loadModal').style.display = 'none';
                        }
                    });
                    
                    const deleteBtn = estimateElement.querySelector('.delete-saved');
                    deleteBtn.addEventListener('click', function(e) {
                        e.stopPropagation();
                        if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Å–º–µ—Ç—É?')) {
                            deleteSavedEstimate(estimate.id);
                        }
                    });
                    
                    listContainer.appendChild(estimateElement);
                });
            }
            
            document.getElementById('loadModal').style.display = 'flex';
        }

function loadEstimate(estimateId) {
    console.log('–ó–∞–≥—Ä—É–∑–∫–∞ —Å–º–µ—Ç—ã ID:', estimateId);
    const estimate = savedEstimates.find(e => e.id === estimateId);
    
    if (estimate) {
        console.log('–ù–∞–π–¥–µ–Ω–∞ —Å–º–µ—Ç–∞:', estimate.name);
        console.log('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π —Å–º–µ—Ç–µ:', estimate.data.length);
        console.log('–í—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏:', estimate.data);
        
        // –í–ê–ñ–ù–û: –û—á–∏—â–∞–µ–º —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ
        estimateData = [];
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –í–°–ï —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç–æ—á–Ω–æ –∫–∞–∫ –æ–Ω–∏ –±—ã–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
        estimate.data.forEach((item, index) => {
            estimateData.push({ 
                ...item,
                id: index + 1  // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º ID
            });
        });
        
        // –ï—Å–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –º–µ–Ω—å—à–µ 50 —Å—Ç—Ä–æ–∫, –¥–æ–±–∞–≤–ª—è–µ–º –ø—É—Å—Ç—ã–µ –¥–æ 50
        const targetCount = 50;
        while (estimateData.length < targetCount) {
            estimateData.push({
                id: estimateData.length + 1,
                priceId: "",
                name: "",
                unit: "",
                price: 0,
                quantity: 1,
                total: 0,
                notes: "",
                isMaterial: false
            });
        }
        
        console.log('–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ estimateData:', estimateData.length, '—Å—Ç—Ä–æ–∫');
        console.log('–ü–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:', estimateData.slice(0, 10));
        
        // –†–µ–Ω–¥–µ—Ä–∏–º —Ç–∞–±–ª–∏—Ü—É
        renderEstimateTable();
        updateTotals();
        updateEstimateCounter();
        showTab('estimate');
        
        showNotification(`–ó–∞–≥—Ä—É–∂–µ–Ω–∞ —Å–º–µ—Ç–∞: ${estimate.name} (${estimate.data.length} –ø–æ–∑–∏—Ü–∏–π)`);
    }
}
        function deleteSavedEstimate(estimateId) {
            savedEstimates = savedEstimates.filter(e => e.id !== estimateId);
            localStorage.setItem('electroEstimates', JSON.stringify(savedEstimates));
            showLoadModal();
        }

        // –ü–µ—á–∞—Ç—å
        function showPrintModal() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('estimateDate').value = today;
            
            const estimateCount = savedEstimates.length + 1;
            document.getElementById('estimateNumber').value = `–°–ú-${estimateCount.toString().padStart(3, '0')}`;
            
            document.getElementById('printModal').style.display = 'flex';
        }
				// ==========  –§–£–ù–ö–¶–ò–ò –ü–ï–ß–ê–¢–ò==========
// –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç HTML –¥–ª—è –ø–µ—á–∞—Ç–∏ –ò –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç PDF
function generatePrint() {  // ‚Üê –û–ë–†–ê–¢–ò–¢–ï –í–ù–ò–ú–ê–ù–ò–ï: –æ—Å—Ç–∞–≤–ª—è–µ–º —Å—Ç–∞—Ä–æ–µ –∏–º—è!
    const clientName = document.getElementById('clientName').value || '–ö–ª–∏–µ–Ω—Ç –Ω–µ —É–∫–∞–∑–∞–Ω';
    const estimateNumber = document.getElementById('estimateNumber').value;
    const estimateDate = document.getElementById('estimateDate').value;
    const notes = document.getElementById('notes').value;
    
    const filledRows = estimateData.filter(row => row.priceId || row.name.trim() !== '');
    
    if (filledRows.length === 0) {
        alert('–°–º–µ—Ç–∞ –ø—É—Å—Ç–∞! –î–æ–±–∞–≤—å—Ç–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–µ—Ä–µ–¥ –ø–µ—á–∞—Ç—å—é.');
        return;
    }
    
    const totalAmount = filledRows.reduce((sum, row) => sum + row.total, 0);
    
    // –°–æ–∑–¥–∞–µ–º HTML —Å –≤—ã–±–æ—Ä–æ–º: –ü–µ—á–∞—Ç—å –ò–õ–ò PDF
    const printContent = `
        <!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>–°–º–µ—Ç–∞ ${estimateNumber}</title>
            <style>
                body { font-family: Arial; padding: 20px; background: #f5f5f5; }
                .print-container { 
                    max-width: 800px; 
                    margin: 0 auto; 
                    background: white; 
                    padding: 30px; 
                    box-shadow: 0 0 20px rgba(0,0,0,0.1);
                }
                .header { text-align: center; margin-bottom: 30px; border-bottom: 3px solid #3498db; padding-bottom: 20px; }
                table { width: 100%; border-collapse: collapse; margin: 25px 0; }
                th, td { border: 1px solid #ddd; padding: 10px; }
                th { background: #2c3e50; color: white; }
                .total { text-align: right; font-size: 18px; font-weight: bold; margin: 25px 0; color: #27ae60; }
                .controls {
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    display: flex;
                    gap: 10px;
                    z-index: 1000;
                }
                .btn {
                    padding: 12px 25px;
                    border: none;
                    border-radius: 6px;
                    cursor: pointer;
                    font-weight: bold;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    transition: 0.3s;
                }
                .btn:hover { opacity: 0.9; transform: translateY(-2px); }
                .btn-print { background: #3498db; color: white; }
                .btn-pdf { background: #27ae60; color: white; }
                .btn-close { background: #e74c3c; color: white; }
                @media print {
                    .controls { display: none; }
                    body { background: white; }
                    .print-container { box-shadow: none; padding: 0; }
                }
            </style>
        </head>
        <body>
            <div class="controls">
                <button onclick="window.print()" class="btn btn-print">
                    <span>üñ®Ô∏è</span> –ü–µ—á–∞—Ç—å
                </button>
                <button onclick="saveAsPDFFromPrint()" class="btn btn-pdf">
                    <span>üìÑ</span> –°–∫–∞—á–∞—Ç—å PDF
                </button>
                <button onclick="window.close()" class="btn btn-close">
                    <span>‚úï</span> –ó–∞–∫—Ä—ã—Ç—å
                </button>
            </div>
            
            <div class="print-container">
                <div class="header">
                    <h1 style="color: #2c3e50;">–°–ú–ï–¢–ê ‚Ññ ${estimateNumber}</h1>
                    <div style="font-size: 16px; margin: 10px 0;"><strong>–ö–ª–∏–µ–Ω—Ç:</strong> ${clientName}</div>
                    <div style="font-size: 16px;"><strong>–î–∞—Ç–∞:</strong> ${new Date(estimateDate).toLocaleDateString('ru-RU')}</div>
                </div>
                
                <table>
                    <thead>
                        <tr>
                            <th>‚Ññ</th>
                            <th>–ö–æ–¥</th>
                            <th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th>
                            <th>–ï–¥.</th>
                            <th>–¶–µ–Ω–∞, —Ä—É–±.</th>
                            <th>–ö–æ–ª-–≤–æ</th>
                            <th>–°—É–º–º–∞, —Ä—É–±.</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${filledRows.map((row, index) => `
                            <tr>
                                <td>${index + 1}</td>
                                <td><strong>${row.priceId || ''}</strong></td>
                                <td>${row.name || ''}</td>
                                <td>${row.unit || ''}</td>
                                <td>${formatCurrency(row.price)}</td>
                                <td>${row.quantity}</td>
                                <td><strong style="color: #27ae60;">${formatCurrency(row.total)}</strong></td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
                
                <div class="total">
                    –ò–¢–û–ì–û: ${formatCurrency(totalAmount)} —Ä—É–±.
                </div>
                
                ${notes ? `<div style="background: #f8f9fa; padding: 15px; border-left: 4px solid #3498db; margin: 20px 0;">
                    <strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:</strong><br>${notes.replace(/\n/g, '<br>')}
                </div>` : ''}
                
                <div style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; font-size: 12px; color: #666; text-align: center;">
                    –°–º–µ—Ç–∞ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ "–≠–ª–µ–∫—Ç—Ä–æ–°–º–µ—Ç–∞" –æ—Ç Electric_Group<br>
                    –î–∞—Ç–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è: ${new Date().toLocaleString('ru-RU')}<br>
                    –°–∞–π—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ https://alivu.github.io/
                </div>
            </div>
            
            <script>
                // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –æ–±—Ä–∞—Ç–Ω–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ
                function saveAsPDFFromPrint() {
                    window.opener.postMessage({
                        action: 'savePDFFromPrint',
                        data: {
                            clientName: '${clientName}',
                            estimateNumber: '${estimateNumber}',
                            estimateDate: '${estimateDate}',
                            notes: '${notes.replace(/'/g, "\\'")}'
                        }
                    }, '*');
                }
                
                // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ—Å–ª–µ –ø–µ—á–∞—Ç–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
                window.onafterprint = function() {
                    setTimeout(() => {
                        if (confirm('–ó–∞–∫—Ä—ã—Ç—å –æ–∫–Ω–æ –ø–µ—á–∞—Ç–∏?')) {
                            window.close();
                        }
                    }, 500);
                };
            <\/script>
        </body>
        </html>
    `;
    
    document.getElementById('printModal').style.display = 'none';
    
    const printWindow = window.open('', '_blank', 'width=900,height=700');
    printWindow.document.open();
    printWindow.document.write(printContent);
    printWindow.document.close();
}
function printPriceList() {
    console.log('–ü–µ—á–∞—Ç—å –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞');
    
    // –ü–æ–ª—É—á–∞–µ–º —Å–µ–≥–æ–¥–Ω—è—à–Ω—é—é –¥–∞—Ç—É
    const today = new Date().toLocaleDateString('ru-RU');
    const hijri = getHijriDate();
    
    // –°–æ–∑–¥–∞–µ–º HTML –¥–ª—è –ø–µ—á–∞—Ç–∏ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞
    const printContent = `
        <!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>–ü—Ä–∞–π—Å-–ª–∏—Å—Ç –≠–ª–µ–∫—Ç—Ä–∏–∫–∞ 29.12.2026–≥</title>
            <style>
                body { 
                    font-family: Arial, sans-serif; 
                    padding: 20px; 
                    background: #f5f5f5;
                }
                .print-container {
                    max-width: 1000px;
                    margin: 0 auto;
                    background: white;
                    padding: 30px;
                    box-shadow: 0 0 20px rgba(0,0,0,0.1);
                }
                .header {
                    text-align: center;
                    margin-bottom: 30px;
                    border-bottom: 3px solid #3498db;
                    padding-bottom: 20px;
                }
                .controls {
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    display: flex;
                    gap: 10px;
                    z-index: 1000;
                }
                .btn {
                    padding: 12px 25px;
                    border: none;
                    border-radius: 6px;
                    cursor: pointer;
                    font-weight: bold;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    transition: 0.3s;
                }
                .btn:hover { opacity: 0.9; transform: translateY(-2px); }
                .btn-print { background: #3498db; color: white; }
                .btn-pdf { background: #27ae60; color: white; }
                .btn-close { background: #e74c3c; color: white; }
                
                /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞ */
                .price-section {
                    margin-bottom: 25px;
                    page-break-inside: avoid;
                }
                .section-title {
                    background: linear-gradient(to right, #2c3e50, #3498db);
                    color: white;
                    padding: 12px 15px;
                    font-weight: bold;
                    font-size: 16px;
                    border-radius: 5px;
                    margin-bottom: 10px;
                }
                .price-table {
                    width: 100%;
                    border-collapse: collapse;
                    font-size: 12px;
                }
                .price-table th {
                    background: #f8f9fa;
                    color: #2c3e50;
                    padding: 10px 8px;
                    text-align: left;
                    border-bottom: 2px solid #dee2e6;
                    font-weight: bold;
                }
                .price-table td {
                    padding: 8px;
                    border-bottom: 1px solid #eee;
                }
                .price-table tr:hover {
                    background: #f8f9fa;
                }
                .id-cell { width: 50px; font-weight: bold; color: #3498db; }
                .name-cell { }
                .unit-cell { width: 80px; text-align: center; }
                .price-cell { width: 120px; text-align: right; font-weight: bold; color: #27ae60; }
                
                @media print {
                    .controls { display: none; }
                    body { background: white; padding: 0; }
                    .print-container { box-shadow: none; padding: 0; }
                    .price-table { font-size: 10px; }
                }
                
                .footer {
                    margin-top: 40px;
                    padding-top: 20px;
                    border-top: 1px solid #ddd;
                    font-size: 11px;
                    color: #666;
                    text-align: center;
                }
                .hijri-date {
                    background: #f8f9fa;
                    padding: 5px 10px;
                    border-radius: 4px;
                    display: inline-block;
                    margin-top: 5px;
                    font-size: 12px;
                }
            </style>
        </head>
        <body>
            <div class="controls">
                <button onclick="window.print()" class="btn btn-print">
                    <span>üñ®Ô∏è</span> –ü–µ—á–∞—Ç—å
                </button>
                <button onclick="savePriceAsPDF()" class="btn btn-pdf">
                    <span>üìÑ</span> –°–∫–∞—á–∞—Ç—å PDF
                </button>
                <button onclick="window.close()" class="btn btn-close">
                    <span>‚úï</span> –ó–∞–∫—Ä—ã—Ç—å
                </button>
            </div>
            
 <div class="print-container">
    <div class="header">
        <h1 style="color: #2c3e50; margin-bottom: 10px;">–ü—Ä–∞–π—Å-–ª–∏—Å—Ç –≠–ª–µ–∫—Ç—Ä–∏–∫–∞ 29.12.2026–≥</h1>
        <div style="font-size: 18px; color: #3498db; margin-bottom: 5px;">–ë—Ä–∞—Ç—Å—Ç–≤–æ –≠–ª–µ–∫—Ç—Ä–∏–∫–æ–≤ –ß–†</div>
        <div style="font-size: 16px; margin-bottom: 10px;">
            <strong>–î–∞—Ç–∞:</strong> ${today} | ${hijri.day} ${hijri.month} ${hijri.year} –≥.—Ö.
        </div>
        <div style="margin-top: 15px; font-size: 14px; color: #666;">
            –î–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ —Å–º–µ—Ç –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "–≠–ª–µ–∫—Ç—Ä–æ–°–º–µ—Ç–∞"
        </div>
    </div>
                
                ${priceData.map(section => `
                    <div class="price-section">
                        <div class="section-title">${section.section}</div>
                        <table class="price-table">
                            <thead>
                                <tr>
                                    <th class="id-cell">–ö–æ–¥</th>
                                    <th class="name-cell">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç</th>
                                    <th class="unit-cell">–ï–¥. –∏–∑–º.</th>
                                    <th class="price-cell">–¶–µ–Ω–∞, —Ä—É–±.</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${section.items.map(item => `
                                    <tr>
                                        <td class="id-cell">${item.id}</td>
                                        <td class="name-cell">${item.name}</td>
                                        <td class="unit-cell">${item.unit}</td>
                                        <td class="price-cell">${formatCurrency(item.price)}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                `).join('')}
                
                <div class="footer">
                    <div style="margin-bottom: 10px;">
                        <strong>–ö–æ–Ω—Ç–∞–∫—Ç—ã:</strong> –¢–µ–ª–µ—Ñ–æ–Ω: +7 (963) 598-48-46 | Telegram: @Electric_Group
                    </div>
                    <div>
                        –ü—Ä–∞–π—Å-–ª–∏—Å—Ç —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ "–≠–ª–µ–∫—Ç—Ä–æ–°–º–µ—Ç–∞"<br>
                        –î–∞—Ç–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è: ${new Date().toLocaleString('ru-RU')}
                    </div>
                </div>
            </div>
            
            <script>
                // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ PDF
                function savePriceAsPDF() {
                    window.opener.postMessage({
                        action: 'savePriceAsPDF'
                    }, '*');
                }
                
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –Ω–∞—á–∞–ª—É
                window.onload = function() {
                    window.scrollTo(0, 0);
                };
                
                // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ—Å–ª–µ –ø–µ—á–∞—Ç–∏
                window.onafterprint = function() {
                    setTimeout(() => {
                        if (confirm('–ó–∞–∫—Ä—ã—Ç—å –æ–∫–Ω–æ –ø–µ—á–∞—Ç–∏?')) {
                            window.close();
                        }
                    }, 500);
                };
            <\/script>
        </body>
        </html>
    `;
    
    try {
        // –û—Ç–∫—Ä—ã–≤–∞–µ–º –æ–∫–Ω–æ –ø–µ—á–∞—Ç–∏
        const printWindow = window.open('', '_blank', 'width=1100,height=700,scrollbars=yes');
        if (!printWindow) {
            alert('–ë—Ä–∞—É–∑–µ—Ä –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ. –†–∞–∑—Ä–µ—à–∏—Ç–µ –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞ –¥–ª—è —ç—Ç–æ–≥–æ —Å–∞–π—Ç–∞.');
            return;
        }
        
        printWindow.document.open();
        printWindow.document.write(printContent);
        printWindow.document.close();
        
        console.log('–û–∫–Ω–æ –ø–µ—á–∞—Ç–∏ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞ –æ—Ç–∫—Ä—ã—Ç–æ');
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –æ–∫–Ω–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –æ–∫–Ω–∞ –ø–µ—á–∞—Ç–∏: ' + error.message);
    }
}

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫
        function checkPDFLibraries() {
            if (typeof jspdf === 'undefined') {
                console.error('jsPDF –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω!');
                alert('–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ jsPDF –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.');
                return false;
            }
            if (typeof html2canvas === 'undefined') {
                console.error('html2canvas –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω!');
                alert('–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ html2canvas –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.');
                return false;
            }
            return true;
        }

        // –§—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–º–µ—Ç—ã –≤ PDF
        function saveAsPDF() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É –±–∏–±–ª–∏–æ—Ç–µ–∫
            if (!checkPDFLibraries()) {
                return;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö
            showPrintModal();
            
            // –ò–∑–º–µ–Ω—è–µ–º –∫–Ω–æ–ø–∫—É –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
            document.getElementById('generatePrint').innerHTML = '<i class="fas fa-file-pdf"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å PDF';
            document.getElementById('generatePrint').onclick = function() {
                generatePDFFromModal();
            };
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF –∏–∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        function generatePDFFromModal() {
            const clientName = document.getElementById('clientName').value || '–ö–ª–∏–µ–Ω—Ç –Ω–µ —É–∫–∞–∑–∞–Ω';
            const estimateNumber = document.getElementById('estimateNumber').value;
            const estimateDate = document.getElementById('estimateDate').value;
            const notes = document.getElementById('notes').value;
            
            const filledRows = estimateData.filter(row => row.priceId || row.name.trim() !== '');
            
            if (filledRows.length === 0) {
                alert('–°–º–µ—Ç–∞ –ø—É—Å—Ç–∞! –î–æ–±–∞–≤—å—Ç–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º.');
                return;
            }
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            document.getElementById('printModal').style.display = 'none';
            
            // –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å–æ–∑–¥–∞–µ–º –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π PDF
            createMobilePDF(clientName, estimateNumber, estimateDate, notes, filledRows);
        }

        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è PDF –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
function createMobilePDF(clientName, estimateNumber, estimateDate, notes, filledRows) {
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
    const loadingDiv = document.createElement('div');
    loadingDiv.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0,0,0,0.8);
        color: white;
        padding: 20px 30px;
        border-radius: 10px;
        z-index: 9999;
        font-size: 16px;
    `;
    loadingDiv.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –°–æ–∑–¥–∞–Ω–∏–µ PDF...';
    document.body.appendChild(loadingDiv);
    
    // –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è PDF
    const tempContainer = document.createElement('div');
    tempContainer.style.cssText = `
        position: fixed;
        left: -9999px;
        top: -9999px;
        width: 210mm;
        padding: 15mm;
        background: white;
        font-family: Arial, sans-serif;
        font-size: 12px;
    `;
    
    // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
    let pdfContent = `
        <div style="text-align: center; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px;">
            <h1 style="margin: 0 0 10px 0; font-size: 24px;">–°–ú–ï–¢–ê ‚Ññ ${estimateNumber}</h1>
            <div style="font-size: 16px;"><strong>–ö–ª–∏–µ–Ω—Ç:</strong> ${clientName}</div>
            <div style="font-size: 14px;"><strong>–î–∞—Ç–∞:</strong> ${new Date(estimateDate).toLocaleDateString('ru-RU')}</div>
        </div>
        <table style="width: 110%; margin-left: -30px; border-collapse: collapse; font-size: 10px;">
            <thead>
                <tr style="background: #f0f0f0; height: 20px;">  <!-- ‚Üê –¥–æ–±–∞–≤–∏–ª–∏ height -->
                    <th style="border: 1px solid #000; padding: 6px; width: 5%; text-align: center;">–ö–æ–¥</th>
                    <th style="border: 1px solid #000; padding: 6px;">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th>
                    <th style="border: 1px solid #000; padding: 6px; width: 7%; text-align: center;">–ï–¥.</th>
                    <th style="border: 1px solid #000; padding: 6px; width: 12%;">–¶–µ–Ω–∞, —Ä—É–±.</th>
                    <th style="border: 1px solid #000; padding: 6px; width: 8%;">–ö–æ–ª</th>
                    <th style="border: 1px solid #000; padding: 6px; width: 12%;">–°—É–º–º–∞, —Ä—É–±.</th>
                </tr>
            </thead>
            <tbody>
    `;
    
    filledRows.forEach((row, index) => {
        pdfContent += `
            <tr>
                <td style="border: 1px solid #000; padding: 6px; text-align: center;">${row.priceId || ''}</td>
                <td style="border: 1px solid #000; padding: 6px;">${row.name || ''}</td>
                <td style="border: 1px solid #000; padding: 6px; text-align: center;">${row.unit || ''}</td>
                <td style="border: 1px solid #000; padding: 6px; text-align: right;">${formatCurrency(row.price)}</td>
                <td style="border: 1px solid #000; padding: 6px; text-align: center;">${row.quantity}</td>
                <td style="border: 1px solid #000; padding: 6px; text-align: right;">${formatCurrency(row.total)}</td>
            </tr>
        `;
    });
    
    const totalAmount = filledRows.reduce((sum, row) => sum + row.total, 0);
    
    pdfContent += `
            </tbody>
        </table>
        <div style="text-align: right; font-size: 18px; font-weight: bold; margin-top: 20px; padding-top: 10px; border-top: 2px solid #000;">
            –ò—Ç–æ–≥–æ: ${formatCurrency(totalAmount)} —Ä—É–±.
        </div>
    `;
    
    if (notes) {
        pdfContent += `
            <div style="margin-top: 30px; padding: 15px; background: #f9f9f9; border-left: 4px solid #3498db;">
                <strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:</strong><br>
                ${notes.replace(/\n/g, '<br>')}
            </div>
        `;
    }
    
    pdfContent += `
        <div style="margin-top: 50px; font-size: 10px; color: #666; text-align: center;">
            –°–º–µ—Ç–∞ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è "–≠–ª–µ–∫—Ç—Ä–æ–°–º–µ—Ç–∞"<br>
            –î–∞—Ç–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è: ${new Date().toLocaleString('ru-RU')}
        </div>
    `;
    
    tempContainer.innerHTML = pdfContent;
    document.body.appendChild(tempContainer);
    
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º setTimeout –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ –¥–ª—è iOS)
    setTimeout(() => {
        html2canvas(tempContainer, {
            scale: 2, // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∫–∞—á–µ—Å—Ç–≤–æ –¥–ª—è –ø–µ—á–∞—Ç–∏
            useCORS: true,
            logging: false,
            backgroundColor: '#ffffff'
        }).then(canvas => {
            const imgData = canvas.toDataURL('image/png');
            const pdf = new jspdf.jsPDF({
                orientation: 'portrait',
                unit: 'mm',
                format: 'a4'
            });
            
            const imgWidth = 190;
            const imgHeight = canvas.height * imgWidth / canvas.width;
            
            pdf.addImage(imgData, 'PNG', 10, 10, imgWidth, imgHeight);
            
            // –û—á–∏—Å—Ç–∫–∞
            document.body.removeChild(tempContainer);
            document.body.removeChild(loadingDiv);
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
            pdf.save(`–°–º–µ—Ç–∞_${estimateNumber}_${clientName.replace(/\s+/g, '_')}.pdf`);
            
            showNotification('PDF —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!');
        }).catch(error => {
            console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ PDF:', error);
            document.body.removeChild(loadingDiv);
            showNotification('–û—à–∏–±–∫–∞: ' + error.message);
        });
    }, 500);
}
// ========== –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –ò–ö–û–ù–ö–ò ==========
function handleIconError() {
    console.log('–ò–∫–æ–Ω–∫–∞ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–∫–æ–Ω–∫—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é');
    const appIcon = document.getElementById('appLogoIcon');
    const fallbackIcon = document.getElementById('fallbackIcon');
    
    if (appIcon && fallbackIcon) {
        appIcon.style.display = 'none';
        fallbackIcon.style.display = 'inline-block';
    }
}

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É –∏–∫–æ–Ω–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
document.addEventListener('DOMContentLoaded', function() {
    const appIcon = document.getElementById('appLogoIcon');
    if (appIcon) {
        appIcon.onerror = handleIconError;
    }
});
		
// PWA Service Worker —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
function registerServiceWorker() {
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
            navigator.serviceWorker.register('sw.js')
                .then(function(registration) {
                    console.log('‚úÖ Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω');
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
                    registration.onupdatefound = function() {
                        const installingWorker = registration.installing;
                        installingWorker.onstatechange = function() {
                            if (installingWorker.state === 'installed') {
                                if (navigator.serviceWorker.controller) {
                                    console.log('üîÑ –î–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ!');
                                    showNotification('–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ! –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.');
                                }
                            }
                        };
                    };
                })
                .catch(function(error) {
                    console.log('‚ùå –û—à–∏–±–∫–∞ Service Worker:', error);
                });
        });
    }
}

// –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PWA
let deferredPrompt;
const installButton = document.createElement('button');

function createInstallButton() {
    installButton.innerHTML = '<i class="fas fa-download"></i> –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ';
    installButton.style.cssText = `
        position: fixed;
        bottom: 50px;
        right: 60px;
        background: linear-gradient(90deg, #3498db, #2980b9);
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 30px;
        font-weight: bold;
        box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4);
        cursor: pointer;
        z-index: 10000;
        display: none;
        align-items: center;
        gap: 8px;
        font-size: 14px;
    `;
    
    installButton.addEventListener('click', async () => {
        if (!deferredPrompt) return;
        
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        
        if (outcome === 'accepted') {
            showNotification('–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!');
        }
        
        deferredPrompt = null;
        installButton.style.display = 'none';
    });
    
    document.body.appendChild(installButton);
}

// –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É PWA
window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    installButton.style.display = 'flex';
    
    setTimeout(() => {
        installButton.style.display = 'none';
    }, 10000);
});

// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∂–∏–º PWA
function checkDisplayMode() {
    if (window.matchMedia('(display-mode: standalone)').matches) {
        console.log('üì± –ó–∞–ø—É—â–µ–Ω–æ –∫–∞–∫ PWA');
        document.body.classList.add('pwa-mode');
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è PWA
function initializePWA() {
    registerServiceWorker();
    createInstallButton();
    checkDisplayMode();
    
    if (window.navigator.standalone) {
        showNotification('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –≠–ª–µ–∫—Ç—Ä–æ–°–º–µ—Ç–∞! ‚ö°');
    }
}

// –ó–∞–ø—É—Å–∫–∞–µ–º PWA –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', function() {
    // –í–∞—à —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—Å—Ç–∞–µ—Ç—Å—è –∑–¥–µ—Å—å
    
    // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ç—É —Å—Ç—Ä–æ–∫—É –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π DOMContentLoaded:
    initializePWA();
});

		// ========== GOOGLE DRIVE –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø ==========
const GOOGLE_CLIENT_ID = '10151274989-sirobiq4o2es78hs82gbotu34lkf11pb.apps.googleusercontent.com';

let googleToken = '';

function googleLogin() {
    const params = {
        client_id: GOOGLE_CLIENT_ID,
        redirect_uri: window.location.origin + window.location.pathname,
        response_type: 'token',
        scope: 'https://www.googleapis.com/auth/drive.file',
        state: 'electro_smeta'
    };
    
    const url = 'https://accounts.google.com/o/oauth2/auth?' + 
                new URLSearchParams(params).toString();
    
    window.open(url, 'google_auth', 'width=500,height=600');
}

// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–∫–µ–Ω –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
function checkGoogleToken() {
    const hash = window.location.hash;
    if (hash.includes('access_token')) {
        const token = hash.split('access_token=')[1].split('&')[0];
        googleToken = token;
        localStorage.setItem('google_token', token);
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ Drive
        document.getElementById('saveToDriveBtn').style.display = 'flex';
        document.getElementById('loadFromDriveBtn').style.display = 'flex';
        
        // –£–±–∏—Ä–∞–µ–º —Ö—ç—à –∏–∑ URL
        history.replaceState(null, null, ' ');
        
        showNotification('‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ Google!');
    }
}
// –§—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ
function saveEstimateLocally(estimate) {
    // –ü–æ–ª—É—á–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å–º–µ—Ç—ã
    let savedEstimates = JSON.parse(localStorage.getItem('electroEstimates')) || [];
    
    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é —Å–º–µ—Ç—É
    savedEstimates.push(estimate);
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±—Ä–∞—Ç–Ω–æ –≤ localStorage
    localStorage.setItem('electroEstimates', JSON.stringify(savedEstimates));
}
// –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–º–µ—Ç—É –≤ Drive –ò –ª–æ–∫–∞–ª—å–Ω–æ
async function saveToDrive() {
    if (!googleToken && !localStorage.getItem('google_token')) {
        googleLogin();
        return;
    }
    
    const token = googleToken || localStorage.getItem('google_token');
    const estimateName = prompt('–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞:', `–°–º–µ—Ç–∞_${new Date().toLocaleDateString('ru-RU')}`);
    
    if (!estimateName) return;
    
    // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ —Å–º–µ—Ç—ã (—Å–æ—Ö—Ä–∞–Ω—è–µ–º –í–°–ï 30 —Å—Ç—Ä–æ–∫)
    const currentEstimate = {
        id: Date.now(),
        name: estimateName,
        date: new Date().toISOString(),
        data: filledRows.map(row => ({
            id: row.id,
            priceId: row.priceId,
            name: row.name,
            unit: row.unit,
            price: row.price,
            quantity: row.quantity,
            total: row.total,
            isMaterial: row.isMaterial || false
        })),
        totals: {
            totalAmount: parseFloat(document.getElementById('totalAmount').textContent.replace(/\s/g, ''))
        }
    };
    
    console.log('–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Drive:', currentEstimate);
    console.log('–§–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–æ —Å—Ç—Ä–æ–∫ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', currentEstimate.data.length);
    console.log('–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫ –≤ estimateData:', estimateData.length);
    
    try {
        // 1. –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Google Drive
        const fileResponse = await fetch('https://www.googleapis.com/drive/v3/files', {
            method: 'POST',
            headers: {
                'Authorization': `Bearer ${token}`,
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                name: `${estimateName}.json`,
                mimeType: 'application/json'
            })
        });
        
        const file = await fileResponse.json();
        
        await fetch(`https://www.googleapis.com/upload/drive/v3/files/${file.id}?uploadType=media`, {
            method: 'PATCH',
            headers: {
                'Authorization': `Bearer ${token}`,
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(currentEstimate)
        });
        
        // 2. –°–æ—Ö—Ä–∞–Ω—è–µ–º –õ–û–ö–ê–õ–¨–ù–û
        let savedEstimates = JSON.parse(localStorage.getItem('electroEstimates')) || [];
        savedEstimates.push(currentEstimate);
        localStorage.setItem('electroEstimates', JSON.stringify(savedEstimates));
        
        showNotification('‚úÖ –°–º–µ—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ Google Drive –∏ –ª–æ–∫–∞–ª—å–Ω–æ!');
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ Google Drive:', error);
        
        // –ï—Å–ª–∏ Google –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω, —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ
        let savedEstimates = JSON.parse(localStorage.getItem('electroEstimates')) || [];
        savedEstimates.push(currentEstimate);
        localStorage.setItem('electroEstimates', JSON.stringify(savedEstimates));
        
        showNotification('‚ö†Ô∏è Google Drive –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω. –°–º–µ—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ.');
    }
}
async function loadFromDrive() {
    if (!googleToken && !localStorage.getItem('google_token')) {
        googleLogin();
        return;
    }
    
    const token = googleToken || localStorage.getItem('google_token');
    
    try {
        // –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
        const listResponse = await fetch('https://www.googleapis.com/drive/v3/files?q=mimeType="application/json" and name contains "–°–º–µ—Ç–∞"&orderBy=modifiedTime desc', {
            headers: { 'Authorization': `Bearer ${token}` }
        });
        
        const files = await listResponse.json();
        
        if (files.files && files.files.length > 0) {
            const fileList = files.files.map((f, i) => `${i+1}. ${f.name} (${new Date(f.modifiedTime).toLocaleDateString('ru-RU')})`).join('\n');
            const choice = prompt(`–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª:\n\n${fileList}`, '1');
            const index = parseInt(choice) - 1;
            
            if (index >= 0 && index < files.files.length) {
                const fileId = files.files[index].id;
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–∞–π–ª
                const fileResponse = await fetch(`https://www.googleapis.com/drive/v3/files/${fileId}?alt=media`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                
                const data = await fileResponse.json();
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Å–º–µ—Ç—É
if (data && data.data) {
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫
        const maxRows = Math.max(data.data.length, 30);
        
        // –û—á–∏—â–∞–µ–º —Ç–µ–∫—É—â—É—é —Å–º–µ—Ç—É —Å –Ω—É–∂–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å—Ç—Ä–æ–∫
        estimateData = Array(maxRows).fill().map((_, i) => ({
            id: i + 1,
            priceId: "",
            name: "",
            unit: "",
            price: 0,
            quantity: 1,
            total: 0,
            notes: "",
            isMaterial: false
        }));
        
        // –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–∞–Ω–Ω—ã–º–∏
        data.data.forEach((row, i) => {
            if (i < maxRows) {
                estimateData[i] = {
                    id: i + 1,
                    priceId: row.priceId || "",
                    name: row.name || "",
                    unit: row.unit || "",
                    price: row.price || 0,
                    quantity: row.quantity || 1,
                    total: row.total || 0,
                    notes: row.notes || "",
                    isMaterial: row.isMaterial || false
                };
            }
        });
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        renderEstimateTable();
        updateTotals();
        updateEstimateCounter();
        showTab('estimate');
        
        showNotification(`‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–∞ —Å–º–µ—Ç–∞: "${files.files[index].name}" (${data.data.length} –ø–æ–∑–∏—Ü–∏–π)`);
    }
				
				
				else {
                    showNotification('‚ùå –û—à–∏–±–∫–∞: –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞');
                }
            }
        } else {
            showNotification('üìÅ –í –≤–∞—à–µ–º Drive –Ω–µ—Ç —Ñ–∞–π–ª–æ–≤ —Å–º–µ—Ç');
        }
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
        showNotification('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ Google Drive');
    }
}

// –ù–∞–∑–Ω–∞—á–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
document.addEventListener('DOMContentLoaded', function() {
    checkGoogleToken();
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω
    if (localStorage.getItem('google_token')) {
        googleToken = localStorage.getItem('google_token');
        document.getElementById('saveToDriveBtn').style.display = 'flex';
        document.getElementById('loadFromDriveBtn').style.display = 'flex';
    }
    
    // –ù–∞–∑–Ω–∞—á–∞–µ–º –∫–Ω–æ–ø–∫–∞–º —Ñ—É–Ω–∫—Ü–∏–∏
    document.getElementById('saveToDriveBtn').onclick = saveToDrive;
    document.getElementById('loadFromDriveBtn').onclick = loadFromDrive;
});

// ========== –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–ù–û–ü–ö–ê–ú–ò GOOGLE DRIVE ==========

// 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–∫–µ–Ω –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
function checkGoogleAuth() {
    const hash = window.location.hash;
    if (hash.includes('access_token')) {
        const token = hash.split('access_token=')[1].split('&')[0];
        localStorage.setItem('google_token', token);
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ Drive
        document.getElementById('saveToDriveBtn').style.display = 'flex';
        document.getElementById('loadFromDriveBtn').style.display = 'flex';
        
        // –£–±–∏—Ä–∞–µ–º —Ç–æ–∫–µ–Ω –∏–∑ URL
        history.replaceState(null, null, ' ');
        
        showNotification('‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ Google!');
    }
}

// 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω
function checkSavedToken() {
    const token = localStorage.getItem('google_token');
    if (token) {
        document.getElementById('saveToDriveBtn').style.display = 'flex';
        document.getElementById('loadFromDriveBtn').style.display = 'flex';
        return token;
    }
    return null;
}

// 5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    checkGoogleAuth();
    checkSavedToken();
	    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ª–∏–Ω–∑—ã
    initMagnifier();
});
class Magnifier {
    constructor() {
        this.magnifier = document.getElementById('magnifier');
        this.content = document.getElementById('magnifierContent');
        this.toggleBtn = document.getElementById('magnifierToggle');
        this.hint = document.getElementById('magnifierHint');
        this.isActive = false;
        this.updateInterval = null;
        
        // –°–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
        this.isDragging = false;
        this.dragOffsetX = 0;
        this.dragOffsetY = 0;

        // –†–∞–∑–º–µ—Ä—ã –ª–∏–Ω–∑—ã
        this.lensWidth = 250;
        this.lensHeight = 90;
        
        this.init();
    }
    
    init() {
        if (!this.magnifier) return;
        
        const style = document.createElement('style');
        style.textContent = `
            /* ========== –õ–ò–ù–ó–ê ========== */
            .magnifier {
                position: fixed;
                width: 5px;
                min-width: 250px;
                height: auto;
                min-height: 90px;
                border-radius: 15px;
                pointer-events: auto;
                z-index: 9999;
                display: none;
                border: 4px solid rgba(52, 152, 219, 0.9);
                box-shadow: 0 0 50px rgba(52, 152, 219, 0.7);
                background: rgba(255, 255, 255, 0.98);
                backdrop-filter: blur(15px);
                -webkit-backdrop-filter: blur(15px);
                padding: 20px 25px;
                box-sizing: border-box;
                cursor: grab;
                user-select: none;
                transition: all 0.3s ease;
                right: 20px;
                bottom: 140px;
            }
            
            .magnifier.dragging {
                cursor: grabbing;
                box-shadow: 0 0 80px rgba(52, 152, 219, 0.9);
            }
            
.magnifier-content {
    width: 100%;
    font-weight: 700;
    color: #2c3e50;
    font-size: 18px;
    line-height: 1.4;
    white-space: normal;
    word-break: break-word;
    text-align: left;
    padding: 0;
    margin: 0;
}

            /* ========== –ü–û–î–°–ö–ê–ó–ö–ê ========== */
            .magnifier-hint {
                position: fixed;
                bottom: 120px;
                right: 20px;
                background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
                color: white;
                padding: 12px 16px;
                border-radius: 12px;
                font-size: 0.85rem;
                max-width: 220px;
                z-index: 9998;
                display: none;
                box-shadow: 0 6px 20px rgba(0,0,0,0.25);
                border-left: 4px solid #3498db;
                opacity: 0;
                transform: translateY(10px);
                transition: opacity 0.3s ease, transform 0.3s ease;
                pointer-events: none;
            }
            
            .magnifier-hint.show {
                opacity: 1;
                transform: translateY(0);
                display: block;
            }
            
            .magnifier-hint:after {
                content: '';
                position: absolute;
                bottom: -8px;
                right: 20px;
                border: 8px solid transparent;
                border-top-color: #2c3e50;
            }
            
            .magnifier-hint strong {
                color: #f1c40f;
                display: block;
                margin-bottom: 5px;
                font-size: 0.95rem;
            }
            
            .magnifier-hint i {
                color: #3498db;
                margin-right: 8px;
            }
            
            /* ========== –ö–ù–û–ü–ö–ê –õ–£–ü–´ ========== */
            .magnifier-toggle {
                position: fixed;
                bottom: 50px;
                right: 20px;
                width: 40px;
                height: 40px;
                border-radius: 50%;
                background: linear-gradient(135deg, #3498db, #2c3e50);
                color: white;
                border: none;
                cursor: pointer;
                z-index: 10000;
                box-shadow: 0 5px 20px rgba(0,0,0,0.25);
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1.8rem;
                transition: all 0.3s ease;
                border: 3px solid rgba(255,255,255,0.3);
            }

            .magnifier-toggle:hover {
                transform: scale(1.1);
            }

            .magnifier-toggle.active {
                background: linear-gradient(135deg, #e74c3c, #c0392b);
                animation: pulse 2s infinite;
            }

            @keyframes pulse {
                0% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.7); }
                70% { box-shadow: 0 0 0 15px rgba(231, 76, 60, 0); }
                100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0); }
            }
            
            /* –ú–æ–±–∏–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ */
            @media (max-width: 767px) {
                .magnifier {
                    width: 90%;
                    min-height: 80px;
                    padding: 15px 20px;
                    border-radius: 12px;
                    right: 5%;
                    bottom: 5px;
                    left: 5% !important;
                    transform: none !important;
                    margin: 0 auto;
                }
                
                .magnifier-toggle {
                    bottom: 60px;
                    right: 15px;
                    width: 35px;
                    height: 35px;
                    font-size: 1.4rem;
                }
                
    .magnifier-content {
        font-size: 34px !important; /* –î–æ–±–∞–≤—å !important */
        line-height: 1.3 !important;
    }
                
                .magnifier-hint {
                    bottom: 140px;
                    right: 15px;
                    max-width: 180px;
                    font-size: 0.75rem;
                    padding: 10px 14px;
                }
            }

            @media (max-width: 480px) {
                .magnifier {
                    width: 92%;
                    min-height: 70px;
                    padding: 12px 15px;
                    bottom: 110px;
                }
                
    .magnifier-content {
        font-size: 30px !important; /* –î–æ–±–∞–≤—å !important */
    }
            }
        `;
        document.head.appendChild(style);
        
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ
        this.setupDragging();
        
        // –ö–Ω–æ–ø–∫–∞ –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è
        this.toggleBtn.addEventListener('click', () => this.toggle());
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
        this.toggleBtn.addEventListener('mouseenter', () => this.showHint());
        this.toggleBtn.addEventListener('mouseleave', () => this.hideHint());
        
        // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å–∫—Ä–æ–ª–ª –≤—Å–µ–≥–æ –æ–∫–Ω–∞
        window.addEventListener('scroll', () => this.updateTextUnderSearchBar());
        
        // –¢–∞–∫–∂–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å–∫—Ä–æ–ª–ª –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞
        const priceContainer = document.querySelector('.price-list-container');
        if (priceContainer) {
            priceContainer.addEventListener('scroll', () => this.updateTextUnderSearchBar());
        }
        
        console.log('‚úÖ –õ–∏–Ω–∑–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
        setTimeout(() => {
            this.showHint();
            setTimeout(() => this.hideHint(), 5000);
        }, 3000);
    }
    
    setupDragging() {
        const lens = this.magnifier;
        
        // –ù–∞—á–∞–ª–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
        lens.addEventListener('mousedown', (e) => {
            if (!this.isActive) return;
            
            this.isDragging = true;
            lens.classList.add('dragging');
            
            const rect = lens.getBoundingClientRect();
            this.dragOffsetX = e.clientX - rect.left;
            this.dragOffsetY = e.clientY - rect.top;
            
            e.preventDefault();
        });
        
        // –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ
        document.addEventListener('mousemove', (e) => {
            if (!this.isActive || !this.isDragging) return;
            
            const x = e.clientX - this.dragOffsetX;
            const y = e.clientY - this.dragOffsetY;
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —ç–∫—Ä–∞–Ω–∞
            const maxX = window.innerWidth - this.lensWidth;
            const maxY = window.innerHeight - this.lensHeight;
            
            lens.style.left = Math.max(10, Math.min(x, maxX - 10)) + 'px';
            lens.style.top = Math.max(10, Math.min(y, maxY - 10)) + 'px';
            lens.style.right = 'auto';
            lens.style.bottom = 'auto';
            lens.style.transform = 'none';
        });
        
        // –û–∫–æ–Ω—á–∞–Ω–∏–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
        document.addEventListener('mouseup', () => {
            if (this.isDragging) {
                this.isDragging = false;
                lens.classList.remove('dragging');
            }
        });
        
        // –î–ª—è —Ç–∞—á-—É—Å—Ç—Ä–æ–π—Å—Ç–≤
        lens.addEventListener('touchstart', (e) => {
            if (!this.isActive || !e.touches[0]) return;
            
            this.isDragging = true;
            lens.classList.add('dragging');
            
            const touch = e.touches[0];
            const rect = lens.getBoundingClientRect();
            
            this.dragOffsetX = touch.clientX - rect.left;
            this.dragOffsetY = touch.clientY - rect.top;
            
            e.preventDefault();
        });
        
        document.addEventListener('touchmove', (e) => {
            if (!this.isActive || !this.isDragging || !e.touches[0]) return;
            
            const touch = e.touches[0];
            const x = touch.clientX - this.dragOffsetX;
            const y = touch.clientY - this.dragOffsetY;
            
            const maxX = window.innerWidth - this.lensWidth;
            const maxY = window.innerHeight - this.lensHeight;
            
            lens.style.left = Math.max(10, Math.min(x, maxX - 10)) + 'px';
            lens.style.top = Math.max(10, Math.min(y, maxY - 10)) + 'px';
            lens.style.right = 'auto';
            lens.style.bottom = 'auto';
            lens.style.transform = 'none';
            
            e.preventDefault();
        });
        
        document.addEventListener('touchend', () => {
            if (this.isDragging) {
                this.isDragging = false;
                lens.classList.remove('dragging');
            }
        });
    }
    
    // –ù–û–í–ê–Ø –§–£–ù–ö–¶–ò–Ø: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π —É—Ö–æ–¥–∏—Ç –ø–æ–¥ –ø–∞–Ω–µ–ª—å –ø–æ–∏—Å–∫–∞
    updateTextUnderSearchBar() {
        if (!this.isActive) return;
        
        try {
            // –ù–∞—Ö–æ–¥–∏–º –ø–∞–Ω–µ–ª—å –ø–æ–∏—Å–∫–∞
            const searchBar = document.querySelector('.search-box');
            if (!searchBar) return;
            
            const searchBarRect = searchBar.getBoundingClientRect();
            
            // –õ–∏–Ω–∏—è "–ø–æ–¥ –ø–∞–Ω–µ–ª—å—é –ø–æ–∏—Å–∫–∞" - —ç—Ç–æ –Ω–∏–∑ –ø–∞–Ω–µ–ª–∏
            const lineY = searchBarRect.bottom + 5; // –ù–µ–º–Ω–æ–≥–æ –Ω–∏–∂–µ –ø–∞–Ω–µ–ª–∏
            
            // –ò—â–µ–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞
            const priceItems = document.querySelectorAll('.price-item');
            
            let targetItem = null;
            let minDistance = Infinity;
            
            // –ù–∞—Ö–æ–¥–∏–º —Å—Ç—Ä–æ–∫—É, –∫–æ—Ç–æ—Ä–∞—è –±–ª–∏–∂–µ –≤—Å–µ–≥–æ –∫ –ª–∏–Ω–∏–∏ "–ø–æ–¥ –ø–∞–Ω–µ–ª—å—é"
            priceItems.forEach(item => {
                const rect = item.getBoundingClientRect();
                const itemCenterY = rect.top + rect.height / 2;
                
                // –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ —Å—Ç—Ä–æ–∫–∏ –¥–æ –ª–∏–Ω–∏–∏ –ø–æ–¥ –ø–∞–Ω–µ–ª—å—é
                const distance = Math.abs(itemCenterY - lineY);
                
                // –ò—â–µ–º —Å—Ç—Ä–æ–∫—É, –∫–æ—Ç–æ—Ä–∞—è –±–ª–∏–∂–µ –≤—Å–µ–≥–æ –∫ –ª–∏–Ω–∏–∏
                if (distance < minDistance && rect.top >= searchBarRect.bottom - 50) {
                    minDistance = distance;
                    targetItem = item;
                }
            });
            
            // –ï—Å–ª–∏ –Ω–∞—à–ª–∏ —Å—Ç—Ä–æ–∫—É - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –µ–µ
            if (targetItem) {
                const text = targetItem.textContent.trim();
                if (text) {
                    this.content.innerHTML = `
                        <div style="
                            font-size: ${window.innerWidth <= 767 ? '20px' : '22px'};
                            font-weight: 700;
                            color: #2c3e50;
                            line-height: 1.4;
                            word-break: break-word;
                            white-space: normal;
                            width: 100%;
                        ">
                            ${this.escapeHtml(text)}
                        </div>
                    `;
                    return;
                }
            }
            
            // –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ - –∏—â–µ–º –ø–µ—Ä–≤—É—é –≤–∏–¥–∏–º—É—é —Å—Ç—Ä–æ–∫—É –ø–æ–¥ –ø–∞–Ω–µ–ª—å—é
            for (let item of priceItems) {
                const rect = item.getBoundingClientRect();
                if (rect.top >= searchBarRect.bottom && rect.bottom <= window.innerHeight) {
                    const text = item.textContent.trim();
                    if (text) {
                        this.content.innerHTML = `
                            <div style="
                                font-size: ${window.innerWidth <= 767 ? '20px' : '22px'};
                                font-weight: 700;
                                color: #2c3e50;
                                line-height: 1.4;
                                word-break: break-word;
                                white-space: normal;
                                width: 100%;
                            ">
                                ${this.escapeHtml(text)}
                            </div>
                        `;
                        return;
                    }
                }
            }
            
            // –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à–ª–∏ - –æ—á–∏—â–∞–µ–º
            this.content.innerHTML = '';
            
        } catch (error) {
            console.log('–û—à–∏–±–∫–∞ –ª–∏–Ω–∑—ã:', error);
            this.content.innerHTML = '';
        }
    }
    
    showHint() {
        if (this.hint) {
            this.hint.classList.add('show');
            
            if (this.isActive) {
                this.hint.innerHTML = `
                    <strong><i class="fas fa-search-plus"></i> –õ–∏–Ω–∑–∞ –∞–∫—Ç–∏–≤–Ω–∞</strong>
                    –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –ø–æ–¥ –ø–∞–Ω–µ–ª—å—é –ø–æ–∏—Å–∫–∞.<br>
                    –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≤ —É–¥–æ–±–Ω–æ–µ –º–µ—Å—Ç–æ.
                `;
            } else {
                this.hint.innerHTML = `
                    <strong><i class="fas fa-search-plus"></i> –£–≤–µ–ª–∏—á–∏—Ç–µ–ª—å–Ω–∞—è –ª–∏–Ω–∑–∞</strong>
                    –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è. –ë—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –ø–æ–¥ –ø–∞–Ω–µ–ª—å—é –ø–æ–∏—Å–∫–∞.
                `;
            }
        }
    }
    
    hideHint() {
        if (this.hint) {
            this.hint.classList.remove('show');
        }
    }
    
    toggle() {
        this.isActive = !this.isActive;
        this.magnifier.style.display = this.isActive ? 'block' : 'none';
        this.toggleBtn.classList.toggle('active', this.isActive);
        
        if (this.isActive) {
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ª–∏–Ω–∑—É –≤ –Ω–∞—á–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
            this.magnifier.style.right = '20px';
            this.magnifier.style.bottom = '140px';
            this.magnifier.style.left = 'auto';
            this.magnifier.style.top = 'auto';
            this.magnifier.style.transform = 'none';
            
            // –°—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –ø–æ–¥ –ø–∞–Ω–µ–ª—å—é –ø–æ–∏—Å–∫–∞
            setTimeout(() => this.updateTextUnderSearchBar(), 100);
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
            if (this.updateInterval) clearInterval(this.updateInterval);
            this.updateInterval = setInterval(() => {
                if (this.isActive && !this.isDragging) {
                    this.updateTextUnderSearchBar();
                }
            }, 500);
        } else {
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
            if (this.updateInterval) {
                clearInterval(this.updateInterval);
                this.updateInterval = null;
            }
        }
        
        this.showHint();
        setTimeout(() => this.hideHint(), 2000);
    }
    
    escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
function initMagnifier() {
    console.log('üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ª–∏–Ω–∑—ã...');
    
    try {
        setTimeout(() => {
            const magnifier = new Magnifier();
            window.magnifierInstance = magnifier;
            console.log('‚úÖ –õ–∏–Ω–∑–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ');            
        }, 500);
        
    } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–∏–Ω–∑—ã:', error);
    }
}
function debugEstimateData() {
    console.log('=== DEBUG estimateData ===');
    console.log('–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫ –≤ –º–∞—Å—Å–∏–≤–µ:', estimateData.length);
    
    const filledRows = estimateData.filter(row => 
        row.priceId || row.name.trim() !== '' || row.isMaterial
    );
    console.log('–ó–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫:', filledRows.length);
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
    console.log('=== –ó–ê–ü–û–õ–ù–ï–ù–ù–´–ï –°–¢–†–û–ö–ò ===');
    filledRows.forEach((row, index) => {
        console.log(`${index + 1}. ID: ${row.id}, –ö–æ–¥: ${row.priceId}, –ù–∞–∑–≤–∞–Ω–∏–µ: ${row.name.substring(0, 30)}...`);
    });
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º DOM
    const tableRows = document.querySelectorAll('#estimateTable tr');
    console.log('–°—Ç—Ä–æ–∫ –≤ DOM —Ç–∞–±–ª–∏—Ü–µ:', tableRows.length);
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Å–º–µ—Ç—É
    const saved = JSON.parse(localStorage.getItem('electroEstimates'));
    if (saved && saved.length > 0) {
        const lastEstimate = saved[saved.length - 1];
        console.log('=== –ü–û–°–õ–ï–î–ù–Ø–Ø –°–û–•–†–ê–ù–ï–ù–ù–ê–Ø –°–ú–ï–¢–ê ===');
        console.log('–ù–∞–∑–≤–∞–Ω–∏–µ:', lastEstimate.name);
        console.log('–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ —Å—Ç—Ä–æ–∫:', lastEstimate.data.length);
        console.log('–ü–µ—Ä–≤—ã–µ 5 —Å—Ç—Ä–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:', lastEstimate.data.slice(0, 5));
        console.log('–ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 —Å—Ç—Ä–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:', lastEstimate.data.slice(-5));
    }
    
    // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
    const notificationText = `–î–∞–Ω–Ω—ã–µ: ${filledRows.length} –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∏–∑ ${estimateData.length} | DOM: ${tableRows.length} —Å—Ç—Ä–æ–∫`;
    showNotification(`Debug: ${notificationText}`);
}
// ========== –§–£–ù–ö–¶–ò–Ø –û–ë–ù–û–í–õ–ï–ù–ò–Ø –°–ú–ï–¢–´ ==========
function refreshEstimate() {
    if (!confirm('–í–ù–ò–ú–ê–ù–ò–ï!\n\n–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–º–µ—Ç—ã —É–¥–∞–ª–∏—Ç:\n‚Ä¢ –í—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Å–º–µ—Ç—ã\n‚Ä¢ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\n‚Ä¢ Google –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é\n\n–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?')) {
        return;
    }
    
    // –û—á–∏—â–∞–µ–º –≤—Å–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
    localStorage.clear();
    sessionStorage.clear();
    
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    estimateData = [{
        id: 1,
        priceId: "",
        name: "",
        unit: "",
        price: 0,
        quantity: 1,
        total: 0,
        notes: "",
        isMaterial: false
    }];
    
    savedEstimates = [];
    nextMaterialId = 1000;
    googleToken = '';
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    renderEstimateTable();
    updateTotals();
    updateEstimateCounter();
    showTab('estimate');
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    showNotification('üîÑ –°–º–µ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞! –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–±—Ä–æ—à–µ–Ω–æ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é.');
    
    // –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É
    setTimeout(() => {
        if (confirm('–î–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É. –°–¥–µ–ª–∞—Ç—å —ç—Ç–æ —Å–µ–π—á–∞—Å?')) {
            location.reload();
        }
    }, 1500);
}

        // ========== –ù–û–í–´–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ: –í–ò–î–ï–û –ü–û –ù–û–ú–ï–†–£ ==========
        
        // –ë–∞–∑–æ–≤—ã–π URL –¥–ª—è –≤–∏–¥–µ–æ (–≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
        //const VIDEO_BASE_URL = 'https://i.imgur.com/';
        const videoLinks = {
    43: 'https://imgur.com/a/PMcXGfX',

    // –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –≤—Å–µ—Ö –Ω–æ–º–µ—Ä–æ–≤, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –≤–∏–¥–µ–æ
};
        // –û–±—ä–µ–∫—Ç –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∏–¥–µ–æ
        const videoCache = new Set();
        
        // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∏–¥–µ–æ
        const MAX_CHECK_ATTEMPTS = 3;
        
        /**
         * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ –ø–æ –Ω–æ–º–µ—Ä—É
         * @param {number|string} number - –Ω–æ–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏
         * @returns {Promise<boolean>} - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –≤–∏–¥–µ–æ
         */
        async function checkVideoExists(number) {
            // –ï—Å–ª–∏ —É–∂–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∏ –∏ –∑–Ω–∞–µ–º, —á—Ç–æ –µ—Å—Ç—å - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º true
            if (videoCache.has(number)) {
                return true;
            }
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º URL –≤–∏–¥–µ–æ (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã)
            const videoFormats = ['mp4', 'webm', 'mov'];
            
            for (const format of videoFormats) {
                const videoUrl = `${VIDEO_BASE_URL}${number}.${format}`;
                
                try {
                    // –ü—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ
                    const response = await fetch(videoUrl, { method: 'HEAD' });
                    
                    if (response.ok) {
                        // –í–∏–¥–µ–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - –¥–æ–±–∞–≤–ª—è–µ–º –≤ –∫—ç—à
                        videoCache.add(number);
                        console.log(`‚úÖ –í–∏–¥–µ–æ –Ω–∞–π–¥–µ–Ω–æ: ${number}.${format}`);
                        return true;
                    }
                } catch (error) {
                    // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏, –ø—Ä–æ–±—É–µ–º —Å–ª–µ–¥—É—é—â–∏–π —Ñ–æ—Ä–º–∞—Ç
                    console.log(`‚ùå –í–∏–¥–µ–æ ${number}.${format} –Ω–µ –Ω–∞–π–¥–µ–Ω–æ`);
                }
            }
            
            return false;
        }
        
        /**
         * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –≤–∏–¥–µ–æ –ø–æ –Ω–æ–º–µ—Ä—É
         * @param {number|string} number - –Ω–æ–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏
         */
        async function playVideoByNumber(number) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'video-loading';
            loadingDiv.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ...';
            document.body.appendChild(loadingDiv);
            
            try {
                // –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
                const videoFormats = ['mp4', 'webm', 'mov'];
                let videoUrl = null;
                
                for (const format of videoFormats) {
                    const testUrl = `${VIDEO_BASE_URL}${number}.${format}`;
                    const response = await fetch(testUrl, { method: 'HEAD' });
                    
                    if (response.ok) {
                        videoUrl = testUrl;
                        break;
                    }
                }
                
                // –£–±–∏—Ä–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
                document.body.removeChild(loadingDiv);
                
                if (videoUrl) {
                    // –°–æ–∑–¥–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤–∏–¥–µ–æ
                    const videoModal = document.createElement('div');
                    videoModal.style.cssText = `
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background: rgba(0, 0, 0, 0.9);
                        z-index: 10001;
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        flex-direction: column;
                    `;
                    
                    videoModal.innerHTML = `
                        <video controls autoplay style="max-width: 90%; max-height: 80%; border-radius: 10px;">
                            <source src="${videoUrl}" type="video/${videoUrl.split('.').pop()}">
                            –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
                        </video>
                        <button style="
                            margin-top: 20px;
                            padding: 10px 30px;
                            background: #e74c3c;
                            color: white;
                            border: none;
                            border-radius: 5px;
                            font-size: 16px;
                            cursor: pointer;
                        " onclick="this.parentElement.remove()">
                            –ó–∞–∫—Ä—ã—Ç—å
                        </button>
                    `;
                    
                    document.body.appendChild(videoModal);
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∫—ç—à
                    videoCache.add(number);
                    
                } else {
                    // –í–∏–¥–µ–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    showNotification(`‚ùå –í–∏–¥–µ–æ –¥–ª—è –ø–æ–∑–∏—Ü–∏–∏ ‚Ññ${number} –Ω–µ –Ω–∞–π–¥–µ–Ω–æ`);
                }
            } catch (error) {
                // –£–±–∏—Ä–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏
                if (loadingDiv.parentNode) {
                    document.body.removeChild(loadingDiv);
                }
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤–∏–¥–µ–æ:', error);
                showNotification(`‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ –¥–ª—è ‚Ññ${number}`);
            }
        }
        
        /**
         * –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–∏–¥–µ–æ
         * –ú–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
         */
        async function preloadVideoInfo() {
            console.log('–ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–∏–¥–µ–æ...');
            
            // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID –∏–∑ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞
            const allIds = new Set();
            priceData.forEach(section => {
                section.items.forEach(item => {
                    allIds.add(item.id);
                });
            });
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥–æ–µ –≤–∏–¥–µ–æ (–Ω–æ –Ω–µ –±–æ–ª—å—à–µ 5 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
            const idsArray = Array.from(allIds);
            const batchSize = 5;
            
            for (let i = 0; i < idsArray.length; i += batchSize) {
                const batch = idsArray.slice(i, i + batchSize);
                await Promise.all(batch.map(id => checkVideoExists(id)));
            }
            
            console.log('–ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–∏–¥–µ–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
            console.log('–î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–∏–¥–µ–æ:', Array.from(videoCache));
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–∑–æ–≤ preloadVideoInfo –≤ initializeApp
        const originalInitializeApp = initializeApp;
        initializeApp = async function() {
            await originalInitializeApp();
            await preloadVideoInfo();
        };
		
    </script>
</body>
</html>
